(()=>{"use strict";function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}var e,r,n;!function(t){t.AJAX_ERROR="ajax",t.RESOURCE_ERROR="resource",t.VUE_ERROR="vue",t.PROMISE_ERROR="promise",t.JS_ERROR="js",t.UNKNOWN_ERROR="unknown"}(e||(e={})),function(t){t.INFO="Info",t.WARNING="Warning",t.ERROR="Error"}(r||(r={})),function(t){t.ERROR="/browser/errorLog",t.ERRORS="/browser/errorLogs",t.PERF="/browser/perfData",t.SEGMENT="/v3/segment",t.SEGMENTS="/v3/segments"}(n||(n={}));var o,i="Http",s="Exit";!function(t){t[t.OPENED=1]="OPENED",t[t.DONE=4]="DONE"}(o||(o={}));const a=function(){function t(t,e){this.url="","ERROR"===t?this.url=e+n.ERROR:"ERRORS"===t?this.url=e+n.ERRORS:"SEGMENT"===t?this.url=e+n.SEGMENT:"SEGMENTS"===t?this.url=e+n.SEGMENTS:"PERF"===t&&(this.url=e+n.PERF)}return t.prototype.sendByFetch=function(t){if(delete t.collector,this.url){var e=new Request(this.url,{method:"POST",body:JSON.stringify(t)});fetch(e).then((function(t){if(t.status>=400||0===t.status)throw new Error("Something went wrong on api server!")})).catch((function(t){console.error(t)}))}},t.prototype.sendByXhr=function(t){if(this.url){var e=new XMLHttpRequest;e.open("post",this.url,!0),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=function(){4===e.readyState&&e.status<400&&console.log("Report successfully")},e.send(JSON.stringify(t))}},t.prototype.sendByBeacon=function(t){this.url&&("function"!=typeof navigator.sendBeacon?this.sendByXhr(t):navigator.sendBeacon(this.url,new Blob([JSON.stringify(t)],{type:"application/json"})))},t}(),c=new(function(){function t(){this.queues=[],this.collector=""}return t.prototype.addTask=function(t,e){this.queues.push(t),this.collector=e},t.prototype.fireTasks=function(){this.queues&&this.queues.length&&(new a("ERRORS",this.collector).sendByXhr(this.queues),this.queues=[])},t.prototype.finallyFireTasks=function(){var t=this;window.addEventListener("beforeunload",(function(){t.queues.length&&new a("ERRORS",t.collector).sendByBeacon(t.queues)}))},t}());var u,l={};const p=function(){function t(){this.logInfo={uniqueId:"",service:"",serviceVersion:"",pagePath:"",category:e.UNKNOWN_ERROR,grade:r.INFO,errorUrl:"",line:0,col:0,message:"",firstReportedError:!1,collector:""}}return t.prototype.traceInfo=function(t){var r;this.logInfo=t||this.logInfo;var n=[e.AJAX_ERROR,e.RESOURCE_ERROR,e.UNKNOWN_ERROR];l[location.href]||n.includes(this.logInfo.category)||((r={})[location.href]=!0,l=r,this.logInfo.firstReportedError=!0);var o=this.logInfo.collector;delete this.logInfo.collector,c.addTask(this.logInfo,o),c.finallyFireTasks(),u||(u=setInterval((function(){c.fireTasks()}),6e4))},t}();var f,h=(f=function(t,e){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},f(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g=function(){return g=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},g.apply(this,arguments)};const d=new(function(n){function o(){var t=null!==n&&n.apply(this,arguments)||this;return t.infoOpt={service:"",pagePath:"",serviceVersion:""},t}return h(o,n),o.prototype.handleErrors=function(n){var o=this;this.infoOpt=n,window.onerror=function(i,s,a,c,u){o.logInfo=g(g({},o.infoOpt),{uniqueId:t(),category:e.JS_ERROR,grade:r.ERROR,errorUrl:s,line:a,col:c,message:i,collector:n.collector,stack:u?u.stack:""}),o.traceInfo()}},o.prototype.setOptions=function(t){this.infoOpt=t},o}(p));var v=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),y=function(){return y=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},y.apply(this,arguments)};const m=new(function(n){function o(){var t=null!==n&&n.apply(this,arguments)||this;return t.infoOpt={service:"",pagePath:"",serviceVersion:""},t}return v(o,n),o.prototype.handleErrors=function(n){var o=this;this.infoOpt=n,window.addEventListener("unhandledrejection",(function(i){try{var s="";if(!i||!i.reason)return;i.reason.config&&i.reason.config.url&&(s=i.reason.config.url),o.logInfo=y(y({},o.infoOpt),{uniqueId:t(),category:e.PROMISE_ERROR,grade:r.ERROR,errorUrl:s||location.href,message:i.reason.message,stack:i.reason.stack,collector:n.collector}),o.traceInfo()}catch(t){console.log(t)}}))},o.prototype.setOptions=function(t){this.infoOpt=t},o}(p));var O=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),w=function(){return w=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},w.apply(this,arguments)};const E=new(function(o){function i(){var t=null!==o&&o.apply(this,arguments)||this;return t.infoOpt={service:"",pagePath:"",serviceVersion:""},t}return O(i,o),i.prototype.handleError=function(o){var i=this;window.XMLHttpRequest&&(this.infoOpt=o,window.addEventListener("xhrReadyStateChange",(function(s){var a=s.detail;4===a.readyState&&a.getRequestConfig[1]!==o.collector+n.ERRORS&&(0!==a.status&&a.status<400||(i.logInfo=w(w({},i.infoOpt),{uniqueId:t(),category:e.AJAX_ERROR,grade:r.ERROR,errorUrl:a.getRequestConfig[1],message:"status: ".concat(a.status,"; statusText: ").concat(a.statusText,";"),collector:o.collector,stack:a.responseText}),i.traceInfo()))})))},i.prototype.setOptions=function(t){this.infoOpt=t},i}(p));var R=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),S=function(){return S=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},S.apply(this,arguments)};const b=new(function(n){function o(){var t=null!==n&&n.apply(this,arguments)||this;return t.infoOpt={service:"",pagePath:"",serviceVersion:""},t}return R(o,n),o.prototype.handleErrors=function(n){var o=this;this.infoOpt=n,window.addEventListener("error",(function(i){try{if(!i)return;var s=i.target;if(!(s instanceof HTMLScriptElement||s instanceof HTMLLinkElement||s instanceof HTMLImageElement))return;o.logInfo=S(S({},o.infoOpt),{uniqueId:t(),category:e.RESOURCE_ERROR,grade:"IMG"===s.tagName?r.WARNING:r.ERROR,errorUrl:s.src||s.href||location.href,message:"load ".concat(s.tagName," resource error"),collector:n.collector,stack:"load ".concat(s.tagName," resource error")}),o.traceInfo()}catch(t){throw t}}))},o.prototype.setOptions=function(t){this.infoOpt=t},o}(p));var T=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),I=function(){return I=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},I.apply(this,arguments)};const P=new(function(n){function o(){var t=null!==n&&n.apply(this,arguments)||this;return t.infoOpt={service:"",pagePath:"",serviceVersion:""},t}return T(o,n),o.prototype.handleErrors=function(n,o){var i=this;this.infoOpt=n,o&&o.config&&(o.config.errorHandler=function(o,s,a){try{i.logInfo=I(I({},i.infoOpt),{uniqueId:t(),category:e.VUE_ERROR,grade:r.ERROR,errorUrl:location.href,message:a,collector:n.collector,stack:o.stack}),i.traceInfo()}catch(o){throw o}})},o.prototype.setOptions=function(t){this.infoOpt=t},o}(p));var _=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),x=function(){return x=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},x.apply(this,arguments)};const C=new(function(n){function o(){var t=null!==n&&n.apply(this,arguments)||this;return t.infoOpt={service:"",pagePath:"",serviceVersion:""},t}return _(o,n),o.prototype.handleErrors=function(n,o){this.infoOpt=n,this.logInfo=x(x({},this.infoOpt),{uniqueId:t(),category:e.JS_ERROR,grade:r.ERROR,errorUrl:o.name||location.href,message:o.message,collector:n.collector||location.origin,stack:o.stack}),this.traceInfo()},o}(p)),A=function(){function t(){}return t.prototype.getPerfTiming=function(){try{var t=window.performance.timing;if("function"==typeof window.PerformanceNavigationTiming){var e=performance.getEntriesByType("navigation")[0];e&&(t=e)}return{redirectTime:void 0!==t.navigationStart?parseInt(String(t.fetchStart-t.navigationStart),10):void 0!==t.redirectEnd?parseInt(String(t.redirectEnd-t.redirectStart),10):0,dnsTime:parseInt(String(t.domainLookupEnd-t.domainLookupStart),10),ttfbTime:parseInt(String(t.responseStart-t.requestStart),10),tcpTime:parseInt(String(t.connectEnd-t.connectStart),10),transTime:parseInt(String(t.responseEnd-t.responseStart),10),domAnalysisTime:parseInt(String(t.domInteractive-t.responseEnd),10),fptTime:parseInt(String(t.responseEnd-t.fetchStart),10),domReadyTime:parseInt(String(t.domContentLoadedEventEnd-t.fetchStart),10),loadPageTime:parseInt(String(t.loadEventStart-t.fetchStart),10),resTime:parseInt(String(t.loadEventStart-t.domContentLoadedEventEnd),10),sslTime:"https:"===location.protocol&&t.secureConnectionStart>0?parseInt(String(t.connectEnd-t.secureConnectionStart),10):void 0,ttlTime:parseInt(String(t.domInteractive-t.fetchStart),10),firstPackTime:parseInt(String(t.responseStart-t.domainLookupStart),10),fmpTime:0}}catch(t){throw t}},t}();var N,j=function(t,e){return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]};!function(t){t[t.SVG=2]="SVG",t[t.IMG=2]="IMG",t[t.CANVAS=4]="CANVAS",t[t.OBJECT=4]="OBJECT",t[t.EMBED=4]="EMBED",t[t.VIDEO=4]="VIDEO"}(N||(N={}));var k=performance.now(),M=["SCRIPT","STYLE","META","HEAD","LINK"],L=window.innerWidth,U=window.innerHeight;const V=function(){function t(){this.fmpTime=0,this.statusCollector=[],this.flag=!0,this.observer=null,this.callbackCount=0,this.entries={},performance&&performance.getEntries?this.initObserver():console.log("your browser do not support performance.getEntries")}return t.prototype.getFirstSnapShot=function(){var t=performance.now(),e=document.body;e&&this.setTag(e,this.callbackCount),this.statusCollector.push({time:t})},t.prototype.initObserver=function(){var t=this;this.getFirstSnapShot(),this.observer=new MutationObserver((function(){t.callbackCount+=1;var e=performance.now(),r=document.body;r&&t.setTag(r,t.callbackCount),t.statusCollector.push({time:e})})),this.observer.observe(document,{childList:!0,subtree:!0}),this.calculateFinalScore()},t.prototype.calculateFinalScore=function(){var t=this;if(this.flag&&MutationObserver)if(this.checkNeedCancel(k)){this.observer.disconnect(),this.flag=!1;for(var e=null,r=0,n=this.getTreeScore(document.body).dpss;r<n.length;r++){var o=n[r];e&&e.st?e.st<o.st&&(e=o):e=o}if(performance.getEntries().forEach((function(e){t.entries[e.name]=e.responseEnd})),!e)return!1;var i=this.filterResult(e.els),s=this.getFmpTime(i);this.fmpTime=s}else setTimeout((function(){t.calculateFinalScore()}),2e3)},t.prototype.getFmpTime=function(t){for(var e=0,r=0,n=t;r<n.length;r++){var o=n[r],i=0;if(1===o.weight){var s=parseInt(o.ele.getAttribute("fmp_c"),10);i=this.statusCollector[s]&&this.statusCollector[s].time}else if(2===o.weight)if("IMG"===o.ele.tagName)i=this.entries[o.ele.src];else if("SVG"===o.ele.tagName)s=parseInt(o.ele.getAttribute("fmp_c"),10),i=this.statusCollector[s]&&this.statusCollector[s].time;else{var a=j(o.ele,"background-image").match(/url\(\"(.*?)\"\)/),c="";a&&a[1]&&((c=a[1]).includes("http")||(c=location.protocol+a[1])),i=this.entries[c]}else 4===o.weight&&("CANVAS"===o.ele.tagName?(s=parseInt(o.ele.getAttribute("fmp_c"),10),i=this.statusCollector[s]&&this.statusCollector[s].time):"VIDEO"===o.ele.tagName&&((i=this.entries[o.ele.src])||(i=this.entries[o.ele.poster])));"number"!=typeof i&&(i=0),e<i&&(e=i)}return e},t.prototype.filterResult=function(t){if(1===t.length)return t;var e=0;t.forEach((function(t){e+=t.st}));var r=e/t.length;return t.filter((function(t){return t.st>r}))},t.prototype.checkNeedCancel=function(t){var e=performance.now()-t,r=this.statusCollector.length>0?this.statusCollector[this.statusCollector.length-1].time:0;return e>3e3||e-r>1e3},t.prototype.getTreeScore=function(t){if(!t)return{};for(var e=[],r=0,n=t.children;r<n.length;r++){var o=n[r];if(o.getAttribute("fmp_c")){var i=this.getTreeScore(o);i.st&&e.push(i)}}return this.calcaulteGrades(t,e)},t.prototype.calcaulteGrades=function(t,e){var r=t.getBoundingClientRect(),n=r.width,o=r.height,i=r.left,s=r.top,a=!0;(U<s||L<i)&&(a=!1);var c=0;e.forEach((function(t){c+=t.st}));var u=Number(N[t.tagName])||1;1===u&&j(t,"background-image")&&"initial"!==j(t,"background-image")&&"none"!==j(t,"background-image")&&(u=N.IMG);var l=a?n*o*u:0,p=[{ele:t,st:l,weight:u}],f=t,h=this.calculateAreaParent(t);if(c>l*h||0===h){l=c,p=[];for(var g=0,d=e;g<d.length;g++){var v=d[g];p=p.concat(v.els)}}return{dpss:e,st:l,els:p,root:f}},t.prototype.calculateAreaParent=function(t){var e=t.getBoundingClientRect(),r=e.left,n=e.right,o=e.top,i=e.bottom,s=e.width,a=e.height,c=L,u=U,l=n-r+(c-0)-(Math.max(n,c)-Math.min(r,0)),p=i-o+(u-0)-(Math.max(i,u)-Math.min(o,0));return l<=0||p<=0?0:l*p/(s*a)},t.prototype.setTag=function(t,e){var r=t.tagName;if(-1===M.indexOf(r)){var n=t.children;if(n&&n.length>0)for(var o=n.length-1;o>=0;o--){var i=n[o];if(null===i.getAttribute("fmp_c")){var s=i.getBoundingClientRect(),a=s.left,c=s.top,u=s.width,l=s.height;if(U<c||L<a||0===u||0===l)continue;i.setAttribute("fmp_c","".concat(e))}this.setTag(i,e)}}},t}();var D=function(){return D=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},D.apply(this,arguments)};const F=new(function(){function t(){this.perfConfig={perfDetail:{}}}return t.prototype.getPerf=function(t){var e=this;this.recordPerf(t),t.enableSPA&&window.addEventListener("hashchange",(function(){e.recordPerf(t)}),!1)},t.prototype.recordPerf=function(t){return e=this,r=void 0,o=function(){var e,r=this;return function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(n){switch(n.label){case 0:return e={fmpTime:void 0},t.autoTracePerf&&t.useFmp?[4,new V]:[3,2];case 1:e=n.sent(),n.label=2;case 2:return setTimeout((function(){t.autoTracePerf&&(r.perfConfig.perfDetail=(new A).getPerfTiming());var n=t.autoTracePerf?D(D({},r.perfConfig.perfDetail),{fmpTime:t.useFmp?parseInt(String(e.fmpTime),10):void 0}):void 0,o=D(D({},n),{pagePath:t.pagePath,serviceVersion:t.serviceVersion,service:t.service});new a("PERF",t.collector).sendByXhr(o),r.clearPerf()}),6e3),[2]}}))},new((n=void 0)||(n=Promise))((function(t,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(s,a)}c((o=o.apply(e,r||[])).next())}));var e,r,n,o},t.prototype.clearPerf=function(){window.performance&&window.performance.clearResourceTimings&&(window.performance.clearResourceTimings(),this.perfConfig={perfDetail:{}})},t}()),q="function"==typeof Buffer,B=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),G=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),W=((t=>{let e={};t.forEach(((t,r)=>e[t]=r))})(G),String.fromCharCode.bind(String)),H=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),t=>t.replace(/=/g,"").replace(/[+\/]/g,(t=>"+"==t?"-":"_"))),X="function"==typeof btoa?t=>btoa(t):q?t=>Buffer.from(t,"binary").toString("base64"):t=>{let e,r,n,o,i="";const s=t.length%3;for(let s=0;s<t.length;){if((r=t.charCodeAt(s++))>255||(n=t.charCodeAt(s++))>255||(o=t.charCodeAt(s++))>255)throw new TypeError("invalid character found");e=r<<16|n<<8|o,i+=G[e>>18&63]+G[e>>12&63]+G[e>>6&63]+G[63&e]}return s?i.slice(0,s-3)+"===".substring(s):i},J=q?t=>Buffer.from(t).toString("base64"):t=>{let e=[];for(let r=0,n=t.length;r<n;r+=4096)e.push(W.apply(null,t.subarray(r,r+4096)));return X(e.join(""))},K=t=>{if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?W(192|e>>>6)+W(128|63&e):W(224|e>>>12&15)+W(128|e>>>6&63)+W(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return W(240|e>>>18&7)+W(128|e>>>12&63)+W(128|e>>>6&63)+W(128|63&e)},Y=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,z=q?t=>Buffer.from(t,"utf8").toString("base64"):B?t=>J(B.encode(t)):t=>X(t.replace(Y,K)),Q=(t,e=!1)=>e?H(z(t)):z(t);var Z=function(){return Z=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Z.apply(this,arguments)},$=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},tt={};function et(e,r){rt(e);var a=window.XMLHttpRequest,c=XMLHttpRequest.prototype.send,u=XMLHttpRequest.prototype.open;if(c&&u){a.getRequestConfig=[],window.XMLHttpRequest=function(){var t=new a;return t.addEventListener("readystatechange",(function(){p.call(this,"xhrReadyStateChange")}),!1),t.open=function(t,e,r,n,o){return this.getRequestConfig=arguments,u.apply(this,arguments)},t.send=function(t){return c.apply(this,arguments)},t};var l=[];window.addEventListener("xhrReadyStateChange",(function(a){var c="function"==typeof e.loginUser?e.loginUser():e.loginUser,u={traceId:"",service:tt.service,spans:[],serviceInstance:tt.serviceVersion,traceSegmentId:"",loginUser:c},p=a.detail.readyState,f=a.detail.getRequestConfig,h={};if(f[1].startsWith("http://")||f[1].startsWith("https://")?h=new URL(f[1]):f[1].startsWith("//")?h=new URL("".concat(window.location.protocol).concat(f[1])):(h=new URL(window.location.href)).pathname=f[1],!tt.noTraceOrigins.some((function(t){if("string"==typeof t){if(t===h.origin)return!0}else if(t instanceof RegExp&&t.test(h.origin))return!0}))){var g=new URL(tt.collector),d="/"===g.pathname?h.pathname:h.pathname.replace(new RegExp("^".concat(g.pathname)),"");if(![n.ERROR,n.ERRORS,n.PERF,n.SEGMENTS].includes(d)||tt.traceSDKInternal){if(p===o.OPENED){var v=t(),y=t();l.push({event:a.detail,startTime:(new Date).getTime(),traceId:v,traceSegmentId:y});var m=String(Q(v)),O=String(Q(y)),w=String(Q(u.service)),E=String(Q(u.serviceInstance)),R=String(Q(tt.pagePath)),S=String(Q(h.host)),b=c?String(Q(c)):"",T=u.spans.length,I="".concat(1,"-").concat(m,"-").concat(O,"-").concat(T,"-").concat(w,"-").concat(E,"-").concat(R,"-").concat(S,"-").concat(b);a.detail.setRequestHeader("sw8",I)}if(p===o.DONE){for(var P=(new Date).getTime(),_=0;_<l.length;_++)if(l[_].event.readyState===o.DONE){var x={};l[_].event.status&&(x=new URL(l[_].event.responseURL));var C=[{key:"http.method",value:f[0]},{key:"url",value:l[_].event.responseURL||"".concat(h.protocol,"//").concat(h.host).concat(h.pathname)}],A={operationName:tt.pagePath,startTime:l[_].startTime,endTime:P,spanId:u.spans.length,spanLayer:i,spanType:s,isError:0===a.detail.status||a.detail.status>=400,parentSpanId:u.spans.length-1,componentId:10001,peer:x.host,tags:tt.detailMode?tt.customTags?$($([],C,!0),tt.customTags,!0):C:void 0};(u=Z(Z({},u),{traceId:l[_].traceId,traceSegmentId:l[_].traceSegmentId})).spans.push(A),l.splice(_,1)}r.push(u)}}}}))}else console.error("Tracing is not supported");function p(t){var e=new CustomEvent(t,{detail:this});window.dispatchEvent(e)}}function rt(t){tt=Z(Z({},tt),t)}var nt=function(){return nt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},nt.apply(this,arguments)},ot=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},it={};function st(t){it=nt(nt({},it),t)}function at(o){var c=[];et(o,c),function(o,a){var c,u,l=this;st(o);var f=o.customFetch||(null===(c=window.rawWindow)||void 0===c?void 0:c.fetch)||(null===(u=window.__MICRO_APP_BASE_WINDOW__)||void 0===u?void 0:u.fetch)||globalThis.fetch||window.fetch;if("function"==typeof f){var h=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return h=l,g=void 0,v=function(){var u,l,h,g,d,v,y,m,O,w,E,R,S,b,T,I,P,_,x,C,A,N,j,k,M,L;return function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(U){switch(U.label){case 0:return u="function"==typeof o.loginUser?o.loginUser():o.loginUser,l=(new Date).getTime(),h=t(),g=t(),d={traceId:"",service:it.service,spans:[],serviceInstance:it.serviceVersion,traceSegmentId:"",loginUser:u},v={},"[object Request]"===Object.prototype.toString.call(c[0])?v=new URL(c[0].url):c[0].startsWith("http://")||c[0].startsWith("https://")?v=new URL(c[0]):c[0].startsWith("//")?v=new URL("".concat(window.location.protocol).concat(c[0])):(v=new URL(window.location.href)).pathname=c[0],y=it.noTraceOrigins.some((function(t){if("string"==typeof t){if(t===v.origin)return!0}else if(t instanceof RegExp&&t.test(v.origin))return!0})),m=new URL(it.collector),O="/"===m.pathname?v.pathname:v.pathname.replace(new RegExp("^".concat(m.pathname)),""),w=[n.ERROR,n.ERRORS,n.PERF,n.SEGMENTS],E=w.includes(O),(R=!y||E&&it.traceSDKInternal)&&(S=String(Q(h)),b=String(Q(g)),T=String(Q(d.service)),I=String(Q(d.serviceInstance)),P=String(Q(it.pagePath)),_=String(Q(v.host)),x=u?String(Q(u)):"",C=d.spans.length,A="".concat(1,"-").concat(S,"-").concat(b,"-").concat(C,"-").concat(T,"-").concat(I,"-").concat(P,"-").concat(_,"-").concat(x),c[1]||(c[1]={}),c[1].headers||(c[1].headers={}),c[1].headers.sw8=A),[4,f.apply(void 0,c)];case 1:N=U.sent();try{N&&(0===N.status||N.status>=400)&&(j={uniqueId:t(),service:it.service,serviceVersion:it.serviceVersion,pagePath:it.pagePath,category:e.AJAX_ERROR,grade:r.ERROR,errorUrl:N&&N.url||"".concat(v.protocol,"//").concat(v.host).concat(v.pathname),message:"status: ".concat(N?N.status:0,"; statusText: ").concat(N&&N.statusText,";"),collector:it.collector,stack:"Fetch: "+N&&N.statusText},(new p).traceInfo(j)),R&&(k=[{key:"http.method",value:c[1].method||"GET"},{key:"url",value:N&&N.url||"".concat(v.protocol,"//").concat(v.host).concat(v.pathname)}],M=(new Date).getTime(),L={operationName:it.pagePath,startTime:l,endTime:M,spanId:d.spans.length,spanLayer:i,spanType:s,isError:N&&(0===N.status||N.status>=400),parentSpanId:d.spans.length-1,componentId:10001,peer:v.host,tags:it.detailMode?it.customTags?ot(ot([],k,!0),it.customTags,!0):k:void 0},(d=nt(nt({},d),{traceId:h,traceSegmentId:g})).spans.push(L),a.push(d))}catch(t){throw t}return[2,N.clone()]}}))},new((d=void 0)||(d=Promise))((function(t,e){function r(t){try{o(v.next(t))}catch(t){e(t)}}function n(t){try{o(v.throw(t))}catch(t){e(t)}}function o(e){var o;e.done?t(e.value):(o=e.value,o instanceof d?o:new d((function(t){t(o)}))).then(r,n)}o((v=v.apply(h,g||[])).next())}));var h,g,d,v};window.fetch=h,globalThis.fetch=h}}(o,c),window.addEventListener("beforeunload",(function(){c.length&&new a("SEGMENTS",o.collector).sendByBeacon(c)})),setInterval((function(){c.length&&(new a("SEGMENTS",o.collector).sendByXhr(c),c.splice(0,c.length))}),o.traceTimeInterval)}function ct(t){rt(t),st(t)}var ut=function(){return ut=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ut.apply(this,arguments)};const lt={customOptions:{collector:location.origin,jsErrors:!0,apiErrors:!0,resourceErrors:!0,autoTracePerf:!0,useFmp:!1,enableSPA:!1,traceSDKInternal:!1,detailMode:!0,noTraceOrigins:[],traceTimeInterval:6e4},register:function(t){this.customOptions=ut(ut({},this.customOptions),t),this.validateOptions(),this.catchErrors(this.customOptions),this.customOptions.enableSPA||this.performance(this.customOptions),at(this.customOptions)},performance:function(t){"complete"===document.readyState?F.getPerf(t):window.addEventListener("load",(function(){F.getPerf(t)}),!1)},catchErrors:function(t){var e=t.service,r=t.pagePath,n=t.serviceVersion,o=t.collector;t.jsErrors&&(d.handleErrors({service:e,pagePath:r,serviceVersion:n,collector:o}),m.handleErrors({service:e,pagePath:r,serviceVersion:n,collector:o}),t.vue&&P.handleErrors({service:e,pagePath:r,serviceVersion:n,collector:o},t.vue)),t.apiErrors&&E.handleError({service:e,pagePath:r,serviceVersion:n,collector:o}),t.resourceErrors&&b.handleErrors({service:e,pagePath:r,serviceVersion:n,collector:o})},setPerformance:function(t){this.customOptions=ut(ut(ut({},this.customOptions),t),{useFmp:!1}),this.validateOptions(),this.performance(this.customOptions);var e=this.customOptions,r=e.service,n=e.pagePath,o=e.serviceVersion,i=e.collector;this.customOptions.jsErrors&&(d.setOptions({service:r,pagePath:n,serviceVersion:o,collector:i}),m.setOptions({service:r,pagePath:n,serviceVersion:o,collector:i}),this.customOptions.vue&&P.setOptions({service:r,pagePath:n,serviceVersion:o,collector:i})),this.customOptions.apiErrors&&E.setOptions({service:r,pagePath:n,serviceVersion:o,collector:i}),this.customOptions.resourceErrors&&b.setOptions({service:r,pagePath:n,serviceVersion:o,collector:i}),ct(this.customOptions)},reportFrameErrors:function(t,e){C.handleErrors(t,e)},validateTags:function(t){if(!t)return!1;if(!Array.isArray(t))return this.customOptions.customTags=void 0,console.error("customTags error"),!1;for(var e=!0,r=0,n=t;r<n.length;r++){var o=n[r];o&&o.key&&o.value||(e=!1)}return!!e||(this.customOptions.customTags=void 0,console.error("customTags error"),!1)},validateOptions:function(){var t=this.customOptions,e=t.collector,r=t.service,n=t.pagePath,o=t.serviceVersion,i=t.jsErrors,s=t.apiErrors,a=t.resourceErrors,c=t.autoTracePerf,u=t.useFmp,l=t.enableSPA,p=t.traceSDKInternal,f=t.detailMode,h=t.noTraceOrigins,g=t.traceTimeInterval,d=t.customTags,v=t.vue;this.validateTags(d),"string"!=typeof e&&(this.customOptions.collector=location.origin),"string"!=typeof r&&(this.customOptions.service=""),"string"!=typeof n&&(this.customOptions.pagePath=""),"string"!=typeof o&&(this.customOptions.serviceVersion=""),"boolean"!=typeof i&&(this.customOptions.jsErrors=!0),"boolean"!=typeof s&&(this.customOptions.apiErrors=!0),"boolean"!=typeof a&&(this.customOptions.resourceErrors=!0),"boolean"!=typeof c&&(this.customOptions.autoTracePerf=!0),"boolean"!=typeof u&&(this.customOptions.useFmp=!1),"boolean"!=typeof l&&(this.customOptions.enableSPA=!1),"boolean"!=typeof p&&(this.customOptions.traceSDKInternal=!1),"boolean"!=typeof f&&(this.customOptions.detailMode=!0),"boolean"!=typeof f&&(this.customOptions.detailMode=!0),Array.isArray(h)||(this.customOptions.noTraceOrigins=[]),"number"!=typeof g&&(this.customOptions.traceTimeInterval=6e4),"function"!=typeof v&&(this.customOptions.vue=void 0)},setCustomTags:function(t){var e=ut(ut({},this.customOptions),{customTags:t});this.validateTags(t)&&ct(e)}};window.ClientMonitor=lt})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJtYXBwaW5ncyI6Im1CQUVlLFNBQVNBLElBQ3RCLE1BQU8sdUNBQXVDQyxRQUFRLFNBQVMsU0FBQ0MsR0FFOUQsSUFBTUMsRUFBcUIsR0FBaEJDLEtBQUtDLFNBQWlCLEVBSWpDLE9BRmdCLE1BQU5ILEVBQVlDLEVBQVMsRUFBSkEsRUFBVyxHQUU3QkcsU0FBUyxHQUNwQixHQUNGLENDUkEsSUFBWUMsRUFRQUMsRUFLQUMsR0FiWixTQUFZRixHQUNWLG9CQUNBLDRCQUNBLGtCQUNBLDBCQUNBLGdCQUNBLHlCQUNELENBUEQsQ0FBWUEsSUFBQUEsRUFBYyxLQVExQixTQUFZQyxHQUNWLGNBQ0Esb0JBQ0EsZUFDRCxDQUpELENBQVlBLElBQUFBLEVBQWEsS0FLekIsU0FBWUMsR0FDViw0QkFDQSw4QkFDQSwyQkFDQSx3QkFDQSx5QkFDRCxDQU5ELENBQVlBLElBQUFBLEVBQVcsS0FRaEIsSUFHS0MsRUFIQ0MsRUFBWSxPQUNaQyxFQUFXLFFBRXhCLFNBQVlGLEdBQ1YsdUJBQ0Esa0JBQ0QsQ0FIRCxDQUFZQSxJQUFBQSxFQUFXLEtDMkN2QixRQXBFQSxXQUdFLFdBQVlHLEVBQWNDLEdBRmxCLEtBQUFDLElBQWMsR0FHUCxVQUFURixFQUNGRyxLQUFLRCxJQUFNRCxFQUFZTCxFQUFZUSxNQUNqQixXQUFUSixFQUNURyxLQUFLRCxJQUFNRCxFQUFZTCxFQUFZUyxPQUNqQixZQUFUTCxFQUNURyxLQUFLRCxJQUFNRCxFQUFZTCxFQUFZVSxRQUNqQixhQUFUTixFQUNURyxLQUFLRCxJQUFNRCxFQUFZTCxFQUFZVyxTQUNqQixTQUFUUCxJQUNURyxLQUFLRCxJQUFNRCxFQUFZTCxFQUFZWSxLQUV2QyxDQW9ERixPQWxEUyxZQUFBQyxZQUFQLFNBQW1CQyxHQUVqQixVQURPQSxFQUFLVCxVQUNQRSxLQUFLRCxJQUFWLENBR0EsSUFBTVMsRUFBYyxJQUFJQyxRQUFRVCxLQUFLRCxJQUFLLENBQUVXLE9BQVEsT0FBUUMsS0FBTUMsS0FBS0MsVUFBVU4sS0FFakZPLE1BQU1OLEdBQ0hPLE1BQUssU0FBQ0MsR0FDTCxHQUFJQSxFQUFTQyxRQUFVLEtBQTJCLElBQXBCRCxFQUFTQyxPQUNyQyxNQUFNLElBQUlDLE1BQU0sc0NBRXBCLElBQ0NDLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUQsTUFBTUEsRUFDaEIsRyxDQUNKLEVBRU8sWUFBQUUsVUFBUCxTQUFpQmYsR0FDZixHQUFLUCxLQUFLRCxJQUFWLENBR0EsSUFBTXdCLEVBQU0sSUFBSUMsZUFFaEJELEVBQUlFLEtBQUssT0FBUXpCLEtBQUtELEtBQUssR0FDM0J3QixFQUFJRyxpQkFBaUIsZUFBZ0Isb0JBQ3JDSCxFQUFJSSxtQkFBcUIsV0FDQSxJQUFuQkosRUFBSUssWUFBb0JMLEVBQUlOLE9BQVMsS0FDdkNJLFFBQVFRLElBQUksc0JBRWhCLEVBQ0FOLEVBQUlPLEtBQUtsQixLQUFLQyxVQUFVTixHLENBQzFCLEVBRU8sWUFBQXdCLGFBQVAsU0FBb0J4QixHQUNiUCxLQUFLRCxNQUcwQixtQkFBekJpQyxVQUFVQyxXQVVyQmpDLEtBQUtzQixVQUFVZixHQVRieUIsVUFBVUMsV0FDUmpDLEtBQUtELElBQ0wsSUFBSW1DLEtBQUssQ0FBQ3RCLEtBQUtDLFVBQVVOLElBQVEsQ0FDL0JWLEtBQU0sc0JBT2QsRUFDRixFQW5FQSxHQzhCQSxNQTVCQSx3QkFDVSxLQUFBc0MsT0FBMkQsR0FDM0QsS0FBQXJDLFVBQW9CLEVBd0I5QixRQXRCUyxZQUFBc0MsUUFBUCxTQUFlN0IsRUFBc0NULEdBQ25ERSxLQUFLbUMsT0FBT0UsS0FBSzlCLEdBQ2pCUCxLQUFLRixVQUFZQSxDQUNuQixFQUVPLFlBQUF3QyxVQUFQLFdBQ1F0QyxLQUFLbUMsUUFBVW5DLEtBQUttQyxPQUFPSSxTQUlqQyxJQUFJLEVBQU8sU0FBVXZDLEtBQUtGLFdBQVd3QixVQUFVdEIsS0FBS21DLFFBQ3BEbkMsS0FBS21DLE9BQVMsR0FDaEIsRUFFTyxZQUFBSyxpQkFBUCxzQkFDRUMsT0FBT0MsaUJBQWlCLGdCQUFnQixXQUNqQyxFQUFLUCxPQUFPSSxRQUdqQixJQUFJLEVBQU8sU0FBVSxFQUFLekMsV0FBV2lDLGFBQWEsRUFBS0ksT0FDekQsR0FDRixFQUNGLEVBMUJBLElDQ0EsSUFDSVEsRUFEQUMsRUFBNkMsQ0FBQyxFLFFBRWxELHdCQUNTLEtBQUFDLFFBQWtFLENBQ3ZFQyxTQUFVLEdBQ1ZDLFFBQVMsR0FDVEMsZUFBZ0IsR0FDaEJDLFNBQVUsR0FDVkMsU0FBVTNELEVBQWU0RCxjQUN6QkMsTUFBTzVELEVBQWM2RCxLQUNyQkMsU0FBVSxHQUNWQyxLQUFNLEVBQ05DLElBQUssRUFDTEMsUUFBUyxHQUNUQyxvQkFBb0IsRUFDcEI1RCxVQUFXLEdBOEJmLFFBM0JTLFlBQUE2RCxVQUFQLFNBQWlCZCxHLE1BQ2Y3QyxLQUFLNkMsUUFBVUEsR0FBVzdDLEtBQUs2QyxRQUMvQixJQUFNZSxFQUE4QixDQUNsQ3JFLEVBQWVzRSxXQUNmdEUsRUFBZXVFLGVBQ2Z2RSxFQUFlNEQsZUFHWlAsRUFBZW1CLFNBQVNDLE9BQVVKLEVBQWtCSyxTQUFTakUsS0FBSzZDLFFBQVFLLGFBQy9ELE1BQ1hhLFNBQVNDLE9BQU8sRUFEbkJwQixFLEVBR0E1QyxLQUFLNkMsUUFBUWEsb0JBQXFCLEdBRXBDLElBQU01RCxFQUFZRSxLQUFLNkMsUUFBUS9DLGlCQUV4QkUsS0FBSzZDLFFBQVEvQyxVQUNwQixFQUFLc0MsUUFBUXBDLEtBQUs2QyxRQUFTL0MsR0FDM0IsRUFBSzBDLG1CQUNERyxJQUlKQSxFQUFXdUIsYUFBWSxXQUNyQixFQUFLNUIsV0FDUCxHQUFHLEtBQ0wsRUFDRixFQTNDQSxHLHlwQkMyQkEsWUE1QkEsdUUsT0FDVSxFQUFBNkIsUUFBK0IsQ0FDckNwQixRQUFTLEdBQ1RFLFNBQVUsR0FDVkQsZUFBZ0IsSSxDQXVCcEIsUUEzQnVCLE9BTWQsWUFBQW9CLGFBQVAsU0FBb0JDLEdBQXBCLFdBQ0VyRSxLQUFLbUUsUUFBVUUsRUFDZjVCLE9BQU82QixRQUFVLFNBQUNiLEVBQVMxRCxFQUFLd0QsRUFBTUMsRUFBS3BDLEdBQ3pDLEVBQUt5QixRQUFVLEVBQUgsS0FDUCxFQUFLc0IsU0FBTyxDQUNmckIsU0FBVTlELElBQ1ZrRSxTQUFVM0QsRUFBZWdGLFNBQ3pCbkIsTUFBTzVELEVBQWNTLE1BQ3JCcUQsU0FBVXZELEVBQ1Z3RCxLQUFJLEVBQ0pDLElBQUcsRUFDSEMsUUFBTyxFQUNQM0QsVUFBV3VFLEVBQVF2RSxVQUNuQjBFLE1BQU9wRCxFQUFRQSxFQUFNb0QsTUFBUSxLQUUvQixFQUFLYixXQUNQLENBQ0YsRUFDQSxZQUFBYyxXQUFBLFNBQVdDLEdBQ1QxRSxLQUFLbUUsUUFBVU8sQ0FDakIsRUFDRixFQTNCQSxDQUF1QixJLDhxQkN1Q3ZCLFlBdENBLHVFLE9BQ1UsRUFBQVAsUUFBK0IsQ0FDckNwQixRQUFTLEdBQ1RFLFNBQVUsR0FDVkQsZUFBZ0IsSSxDQWlDcEIsUUFyQzRCLE9BTW5CLFlBQUFvQixhQUFQLFNBQW9CQyxHQUFwQixXQUNFckUsS0FBS21FLFFBQVVFLEVBQ2Y1QixPQUFPQyxpQkFBaUIsc0JBQXNCLFNBQUNpQyxHQUM3QyxJQUNFLElBQUk1RSxFQUFNLEdBQ1YsSUFBSzRFLElBQVVBLEVBQU1DLE9BQ25CLE9BRUVELEVBQU1DLE9BQU9DLFFBQVVGLEVBQU1DLE9BQU9DLE9BQU85RSxNQUM3Q0EsRUFBTTRFLEVBQU1DLE9BQU9DLE9BQU85RSxLQUU1QixFQUFLOEMsUUFBVSxPQUNWLEVBQUtzQixTQUFPLENBQ2ZyQixTQUFVOUQsSUFDVmtFLFNBQVUzRCxFQUFldUYsY0FDekIxQixNQUFPNUQsRUFBY1MsTUFDckJxRCxTQUFVdkQsR0FBT2dFLFNBQVNDLEtBQzFCUCxRQUFTa0IsRUFBTUMsT0FBT25CLFFBQ3RCZSxNQUFPRyxFQUFNQyxPQUFPSixNQUNwQjFFLFVBQVd1RSxFQUFRdkUsWUFHckIsRUFBSzZELFcsQ0FDTCxNQUFPdkMsR0FDUEMsUUFBUVEsSUFBSVQsRSxDQUVoQixHQUNGLEVBQ0EsWUFBQXFELFdBQUEsU0FBV0MsR0FDVDFFLEtBQUttRSxRQUFVTyxDQUNqQixFQUNGLEVBckNBLENBQTRCLEksOHFCQytDNUIsWUEvQ0EsdUUsT0FDVSxFQUFBUCxRQUErQixDQUNyQ3BCLFFBQVMsR0FDVEUsU0FBVSxHQUNWRCxlQUFnQixJLENBeUNwQixRQTdDeUIsT0FPaEIsWUFBQStCLFlBQVAsU0FBbUJWLEdBQW5CLFdBRU81QixPQUFPakIsaUJBR1p4QixLQUFLbUUsUUFBVUUsRUFDZjVCLE9BQU9DLGlCQUNMLHVCQUNBLFNBQUNpQyxHQUNDLElBQU1LLEVBQVNMLEVBQU1LLE9BRUssSUFBdEJBLEVBQU9wRCxZQUdQb0QsRUFBT0MsaUJBQWlCLEtBQU9aLEVBQVF2RSxVQUFZTCxFQUFZUyxTQUc3QyxJQUFsQjhFLEVBQU8vRCxRQUFnQitELEVBQU8vRCxPQUFTLE1BSTNDLEVBQUs0QixRQUFVLE9BQ1YsRUFBS3NCLFNBQU8sQ0FDZnJCLFNBQVU5RCxJQUNWa0UsU0FBVTNELEVBQWVzRSxXQUN6QlQsTUFBTzVELEVBQWNTLE1BQ3JCcUQsU0FBVTBCLEVBQU9DLGlCQUFpQixHQUNsQ3hCLFFBQVMsa0JBQVd1QixFQUFPL0QsT0FBTSx5QkFBaUIrRCxFQUFPRSxXQUFVLEtBQ25FcEYsVUFBV3VFLEVBQVF2RSxVQUNuQjBFLE1BQU9RLEVBQU9HLGVBRWhCLEVBQUt4QixhQUNQLElBRUosRUFDQSxZQUFBYyxXQUFBLFNBQVdDLEdBQ1QxRSxLQUFLbUUsUUFBVU8sQ0FDakIsRUFDRixFQTdDQSxDQUF5QixJLDhxQkMyQ3pCLFlBM0NBLHVFLE9BQ1UsRUFBQVAsUUFBK0IsQ0FDckNwQixRQUFTLEdBQ1RFLFNBQVUsR0FDVkQsZUFBZ0IsSSxDQXNDcEIsUUExQzZCLE9BTXBCLFlBQUFvQixhQUFQLFNBQW9CQyxHQUFwQixXQUNFckUsS0FBS21FLFFBQVVFLEVBQ2Y1QixPQUFPQyxpQkFBaUIsU0FBUyxTQUFDaUMsR0FDaEMsSUFDRSxJQUFLQSxFQUNILE9BRUYsSUFBTVMsRUFBY1QsRUFBTVMsT0FNMUIsS0FKRUEsYUFBa0JDLG1CQUNsQkQsYUFBa0JFLGlCQUNsQkYsYUFBa0JHLGtCQUlsQixPQUVGLEVBQUsxQyxRQUFVLE9BQ1YsRUFBS3NCLFNBQU8sQ0FDZnJCLFNBQVU5RCxJQUNWa0UsU0FBVTNELEVBQWV1RSxlQUN6QlYsTUFBMEIsUUFBbkJnQyxFQUFPSSxRQUFvQmhHLEVBQWNpRyxRQUFVakcsRUFBY1MsTUFDeEVxRCxTQUFXOEIsRUFBNkJNLEtBQVFOLEVBQTJCcEIsTUFBUUQsU0FBU0MsS0FDNUZQLFFBQVMsZUFBUTJCLEVBQU9JLFFBQU8sbUJBQy9CMUYsVUFBV3VFLEVBQVF2RSxVQUNuQjBFLE1BQU8sZUFBUVksRUFBT0ksUUFBTyxxQkFFL0IsRUFBSzdCLFcsQ0FDTCxNQUFPdkMsR0FDUCxNQUFNQSxDLENBRVYsR0FDRixFQUNBLFlBQUFxRCxXQUFBLFNBQVdDLEdBQ1QxRSxLQUFLbUUsUUFBVU8sQ0FDakIsRUFDRixFQTFDQSxDQUE2QixJLDhxQkNrQzdCLFlBbENBLHVFLE9BQ1UsRUFBQVAsUUFBK0IsQ0FDckNwQixRQUFTLEdBQ1RFLFNBQVUsR0FDVkQsZUFBZ0IsSSxDQTRCcEIsUUFoQ3dCLE9BTWYsWUFBQW9CLGFBQVAsU0FBb0JDLEVBQThCc0IsR0FBbEQsV0FDRTNGLEtBQUttRSxRQUFVRSxFQUNUc0IsR0FBT0EsRUFBSWQsU0FHakJjLEVBQUlkLE9BQU9lLGFBQWUsU0FBQ3hFLEVBQWN5RSxFQUFTQyxHQUNoRCxJQUNFLEVBQUtqRCxRQUFVLE9BQ1YsRUFBS3NCLFNBQU8sQ0FDZnJCLFNBQVU5RCxJQUNWa0UsU0FBVTNELEVBQWV3RyxVQUN6QjNDLE1BQU81RCxFQUFjUyxNQUNyQnFELFNBQVVTLFNBQVNDLEtBQ25CUCxRQUFTcUMsRUFDVGhHLFVBQVd1RSxFQUFRdkUsVUFDbkIwRSxNQUFPcEQsRUFBTW9ELFFBRWYsRUFBS2IsVyxDQUNMLE1BQU92QyxHQUNQLE1BQU1BLEMsQ0FFVixFQUNGLEVBQ0EsWUFBQXFELFdBQUEsU0FBV0MsR0FDVDFFLEtBQUttRSxRQUFVTyxDQUNqQixFQUNGLEVBaENBLENBQXdCLEksOHFCQ3FCeEIsWUFyQkEsdUUsT0FDVSxFQUFBUCxRQUErQixDQUNyQ3BCLFFBQVMsR0FDVEUsU0FBVSxHQUNWRCxlQUFnQixJLENBZ0JwQixRQXBCMEIsT0FNakIsWUFBQW9CLGFBQVAsU0FBb0JDLEVBQThCakQsR0FDaERwQixLQUFLbUUsUUFBVUUsRUFDZnJFLEtBQUs2QyxRQUFVLE9BQ1Y3QyxLQUFLbUUsU0FBTyxDQUNmckIsU0FBVTlELElBQ1ZrRSxTQUFVM0QsRUFBZWdGLFNBQ3pCbkIsTUFBTzVELEVBQWNTLE1BQ3JCcUQsU0FBVWxDLEVBQU00RSxNQUFRakMsU0FBU0MsS0FDakNQLFFBQVNyQyxFQUFNcUMsUUFDZjNELFVBQVd1RSxFQUFRdkUsV0FBYWlFLFNBQVNrQyxPQUN6Q3pCLE1BQU9wRCxFQUFNb0QsUUFFZnhFLEtBQUsyRCxXQUNQLEVBQ0YsRUFwQkEsQ0FBMEIsSUMyQzFCLEVBaERBLHdCQThDQSxRQTdDUyxZQUFBdUMsY0FBUCxXQUNFLElBQ1EsSUFBQUMsRUFBVzFELE9BQU8yRCxZQUFnRCxPQUN4RSxHQUFrRCxtQkFBdkMzRCxPQUFPNEQsNEJBQTRDLENBQzVELElBQU1DLEVBQVlGLFlBQVlHLGlCQUFpQixjQUFjLEdBRXpERCxJQUNGSCxFQUFTRyxFLENBYWIsTUFBTyxDQUNMRSxrQkFUNkJDLElBQTNCTixFQUFPTyxnQkFDTUMsU0FBU0MsT0FBT1QsRUFBT1UsV0FBYVYsRUFBT08saUJBQWtCLFNBQzVDRCxJQUF2Qk4sRUFBT1csWUFDREgsU0FBU0MsT0FBT1QsRUFBT1csWUFBY1gsRUFBT1ksZUFBZ0IsSUFFNUQsRUFLZkMsUUFBU0wsU0FBU0MsT0FBT1QsRUFBT2MsZ0JBQWtCZCxFQUFPZSxtQkFBb0IsSUFDN0VDLFNBQVVSLFNBQVNDLE9BQU9ULEVBQU9pQixjQUFnQmpCLEVBQU9rQixjQUFlLElBQ3ZFQyxRQUFTWCxTQUFTQyxPQUFPVCxFQUFPb0IsV0FBYXBCLEVBQU9xQixjQUFlLElBQ25FQyxVQUFXZCxTQUFTQyxPQUFPVCxFQUFPdUIsWUFBY3ZCLEVBQU9pQixlQUFnQixJQUN2RU8sZ0JBQWlCaEIsU0FBU0MsT0FBT1QsRUFBT3lCLGVBQWlCekIsRUFBT3VCLGFBQWMsSUFDOUVHLFFBQVNsQixTQUFTQyxPQUFPVCxFQUFPdUIsWUFBY3ZCLEVBQU9VLFlBQWEsSUFDbEVpQixhQUFjbkIsU0FBU0MsT0FBT1QsRUFBTzRCLHlCQUEyQjVCLEVBQU9VLFlBQWEsSUFDcEZtQixhQUFjckIsU0FBU0MsT0FBT1QsRUFBTzhCLGVBQWlCOUIsRUFBT1UsWUFBYSxJQUUxRXFCLFFBQVN2QixTQUFTQyxPQUFPVCxFQUFPOEIsZUFBaUI5QixFQUFPNEIsMEJBQTJCLElBRW5GSSxRQUN3QixXQUF0QnBFLFNBQVNxRSxVQUF5QmpDLEVBQU9rQyxzQkFBd0IsRUFDN0QxQixTQUFTQyxPQUFPVCxFQUFPb0IsV0FBYXBCLEVBQU9rQyx1QkFBd0IsU0FDbkU1QixFQUNONkIsUUFBUzNCLFNBQVNDLE9BQU9ULEVBQU95QixlQUFpQnpCLEVBQU9VLFlBQWEsSUFDckUwQixjQUFlNUIsU0FBU0MsT0FBT1QsRUFBT2lCLGNBQWdCakIsRUFBT2UsbUJBQW9CLElBQ2pGc0IsUUFBUyxFLENBRVgsTUFBT0MsR0FDUCxNQUFNQSxDLENBRVYsRUFDRixFQTlDQSxHQ0NBLElBUUtDLEVBUkNDLEVBQVcsU0FBQ0MsRUFBd0JDLEdBQ3hDLE9BQUlwRyxPQUFPcUcsaUJBQ0ZyRyxPQUFPcUcsaUJBQWlCRixFQUFTLE1BQU1DLEdBRXZDRCxFQUFRRyxhQUFhRixFQUVoQyxHQUVBLFNBQUtILEdBQ0gsaUJBQ0EsaUJBQ0EsdUJBQ0EsdUJBQ0EscUJBQ0Esb0JBQ0QsQ0FQRCxDQUFLQSxJQUFBQSxFQUFVLEtBU2YsSUFBTU0sRUFBcUI1QyxZQUFZNkMsTUFDakNDLEVBQTJCLENBQUMsU0FBVSxRQUFTLE9BQVEsT0FBUSxRQUUvREMsRUFBYTFHLE9BQU8yRyxXQUNwQkMsRUFBYTVHLE9BQU82RyxZQTJQMUIsUUF4UEEsV0FRRSxhQVBPLEtBQUFkLFFBQWtCLEVBQ2pCLEtBQUFlLGdCQUEyQyxHQUMzQyxLQUFBQyxNQUFnQixFQUNoQixLQUFBQyxTQUE2QixLQUM3QixLQUFBQyxjQUF3QixFQUN4QixLQUFBQyxRQUFlLENBQUMsRUFHakJ2RCxhQUFnQkEsWUFBWXdELFdBSWpDNUosS0FBSzZKLGVBSEh4SSxRQUFRUSxJQUFJLHFEQUloQixDQXdPRixPQXZPVSxZQUFBaUksaUJBQVIsV0FDRSxJQUFNQyxFQUFlM0QsWUFBWTZDLE1BQzNCZSxFQUFxQkMsU0FBU3RKLEtBQ2hDcUosR0FDRmhLLEtBQUtrSyxPQUFPRixFQUFPaEssS0FBSzBKLGVBRTFCMUosS0FBS3VKLGdCQUFnQmxILEtBQUssQ0FDeEIwSCxLQUFJLEdBRVIsRUFDUSxZQUFBRixhQUFSLHNCQUNFN0osS0FBSzhKLG1CQUNMOUosS0FBS3lKLFNBQVcsSUFBSVUsa0JBQWlCLFdBQ25DLEVBQUtULGVBQWlCLEVBQ3RCLElBQU1LLEVBQU8zRCxZQUFZNkMsTUFDbkJlLEVBQXFCQyxTQUFTdEosS0FDaENxSixHQUNGLEVBQUtFLE9BQU9GLEVBQU8sRUFBS04sZUFFMUIsRUFBS0gsZ0JBQWdCbEgsS0FBSyxDQUN4QjBILEtBQUksR0FFUixJQUVBL0osS0FBS3lKLFNBQVNXLFFBQVFILFNBQVUsQ0FDOUJJLFdBQVcsRUFDWEMsU0FBUyxJQUVYdEssS0FBS3VLLHFCQUNQLEVBQ1EsWUFBQUEsb0JBQVIsc0JBQ0UsR0FBS3ZLLEtBQUt3SixNQUdMVyxpQkFHTCxHQUFJbkssS0FBS3dLLGdCQUFnQnhCLEdBQWEsQ0FFcENoSixLQUFLeUosU0FBU2dCLGFBQ2R6SyxLQUFLd0osTUFBTyxFQUdaLElBRkEsSUFDSWtCLEVBQWdCLEtBQ0QsTUFGUDFLLEtBQUsySyxhQUFhVixTQUFTdEosTUFFaEJpSyxLQUFKLGVBQVUsQ0FBeEIsSUFBTUMsRUFBSSxLQUNUSCxHQUFNQSxFQUFHSSxHQUNQSixFQUFHSSxHQUFLRCxFQUFLQyxLQUNmSixFQUFLRyxHQUdQSCxFQUFLRyxDLENBT1QsR0FIQXpFLFlBQVl3RCxhQUFhbUIsU0FBUSxTQUFDRixHQUNoQyxFQUFLbEIsUUFBUWtCLEVBQUs3RSxNQUFRNkUsRUFBS25ELFdBQ2pDLEtBQ0tnRCxFQUNILE9BQU8sRUFFVCxJQUFNTSxFQUF5QmhMLEtBQUtpTCxhQUFhUCxFQUFHUSxLQUM5Q0MsRUFBb0JuTCxLQUFLb0wsV0FBV0osR0FDMUNoTCxLQUFLd0ksUUFBVTJDLEMsTUFFZkUsWUFBVyxXQUNULEVBQUtkLHFCQUNQLEdBbEZnQixJQW9GcEIsRUFDUSxZQUFBYSxXQUFSLFNBQW1CSixHQUVqQixJQURBLElBQUlNLEVBQUssRUFDVSxNQUFBTixFQUFBLGVBQVcsQ0FBekIsSUFBTUgsRUFBSSxLQUNUZCxFQUFlLEVBQ25CLEdBQW9CLElBQWhCYyxFQUFLVSxPQUFjLENBQ3JCLElBQU1DLEVBQWdCN0UsU0FBU2tFLEVBQUtZLElBQUlDLGFBQWEsU0FBVSxJQUMvRDNCLEVBQU8vSixLQUFLdUosZ0JBQWdCaUMsSUFBVXhMLEtBQUt1SixnQkFBZ0JpQyxHQUFPekIsSSxNQUM3RCxHQUFvQixJQUFoQmMsRUFBS1UsT0FDZCxHQUF5QixRQUFyQlYsRUFBS1ksSUFBSWpHLFFBQ1h1RSxFQUFPL0osS0FBSzJKLFFBQVNrQixFQUFLWSxJQUF5Qi9GLFVBQzlDLEdBQXlCLFFBQXJCbUYsRUFBS1ksSUFBSWpHLFFBQ1pnRyxFQUFnQjdFLFNBQVNrRSxFQUFLWSxJQUFJQyxhQUFhLFNBQVUsSUFDL0QzQixFQUFPL0osS0FBS3VKLGdCQUFnQmlDLElBQVV4TCxLQUFLdUosZ0JBQWdCaUMsR0FBT3pCLFNBQzdELENBQ0wsSUFBTTRCLEVBQVFoRCxFQUFTa0MsRUFBS1ksSUFBSyxvQkFBb0JFLE1BQU0sb0JBQ3ZENUwsRUFBYyxHQUNkNEwsR0FBU0EsRUFBTSxNQUNqQjVMLEVBQU00TCxFQUFNLElBQ0gxSCxTQUFTLFVBQ2hCbEUsRUFBTWdFLFNBQVNxRSxTQUFXdUQsRUFBTSxLQUdwQzVCLEVBQU8vSixLQUFLMkosUUFBUTVKLEUsTUFFRyxJQUFoQjhLLEVBQUtVLFNBQ1csV0FBckJWLEVBQUtZLElBQUlqRyxTQUNMZ0csRUFBZ0I3RSxTQUFTa0UsRUFBS1ksSUFBSUMsYUFBYSxTQUFVLElBQy9EM0IsRUFBTy9KLEtBQUt1SixnQkFBZ0JpQyxJQUFVeEwsS0FBS3VKLGdCQUFnQmlDLEdBQU96QixNQUNwQyxVQUFyQmMsRUFBS1ksSUFBSWpHLFdBQ2xCdUUsRUFBTy9KLEtBQUsySixRQUFTa0IsRUFBS1ksSUFBeUIvRixRQUVqRHFFLEVBQU8vSixLQUFLMkosUUFBU2tCLEVBQUtZLElBQXlCRyxXQUlyQyxpQkFBVDdCLElBQ1RBLEVBQU8sR0FFTHVCLEVBQUt2QixJQUNQdUIsRUFBS3ZCLEUsQ0FHVCxPQUFPdUIsQ0FDVCxFQUtRLFlBQUFMLGFBQVIsU0FBcUJDLEdBQ25CLEdBQW1CLElBQWZBLEVBQUkzSSxPQUNOLE9BQU8ySSxFQUVULElBQUlXLEVBQWMsRUFDbEJYLEVBQUlILFNBQVEsU0FBQ0YsR0FDWGdCLEdBQU9oQixFQUFLQyxFQUNkLElBQ0EsSUFBTWdCLEVBQWNELEVBQU1YLEVBQUkzSSxPQUM5QixPQUFPMkksRUFBSWEsUUFBTyxTQUFDbEIsR0FDakIsT0FBT0EsRUFBS0MsR0FBS2dCLENBQ25CLEdBQ0YsRUFDUSxZQUFBdEIsZ0JBQVIsU0FBd0J3QixHQUN0QixJQUFNakMsRUFBZTNELFlBQVk2QyxNQUFRK0MsRUFDbkNDLEVBQ0pqTSxLQUFLdUosZ0JBQWdCaEgsT0FBUyxFQUFJdkMsS0FBS3VKLGdCQUFnQnZKLEtBQUt1SixnQkFBZ0JoSCxPQUFTLEdBQUd3SCxLQUFPLEVBQ2pHLE9BQU9BLEVBekpXLEtBeUpLQSxFQUFPa0MsRUFBYyxHQUM5QyxFQUNRLFlBQUF0QixhQUFSLFNBQXFCdUIsR0FDbkIsSUFBS0EsRUFDSCxNQUFPLENBQUMsRUFJVixJQUZBLElBQU10QixFQUFPLEdBRU8sTUFERXNCLEVBQUtDLFNBQ1AsZUFBVSxDQUF6QixJQUFNQyxFQUFLLEtBRWQsR0FBS0EsRUFBTVYsYUFBYSxTQUF4QixDQUdBLElBQU1XLEVBQUlyTSxLQUFLMkssYUFBYXlCLEdBQ3hCQyxFQUFFdkIsSUFDSkYsRUFBS3ZJLEtBQUtnSyxFLEVBSWQsT0FBT3JNLEtBQUtzTSxnQkFBZ0JKLEVBQU10QixFQUNwQyxFQUNRLFlBQUEwQixnQkFBUixTQUF3QmIsRUFBY2IsR0FDOUIsTUFBK0JhLEVBQUljLHdCQUFqQ0MsRUFBSyxRQUFFQyxFQUFNLFNBQUVDLEVBQUksT0FBRUMsRUFBRyxNQUM1QkMsR0FBd0IsR0FDeEJ2RCxFQUFLc0QsR0FBT3hELEVBQUt1RCxLQUNuQkUsR0FBZSxHQUVqQixJQUFJQyxFQUFjLEVBQ2xCakMsRUFBS0csU0FBUSxTQUFDRixHQUNaZ0MsR0FBT2hDLEVBQUtDLEVBQ2QsSUFDQSxJQUFJUyxFQUFpQnVCLE9BQU9wRSxFQUFXK0MsRUFBSWpHLFdBQW9CLEVBR2xELElBQVgrRixHQUNBNUMsRUFBUzhDLEVBQUsscUJBQ3dCLFlBQXRDOUMsRUFBUzhDLEVBQUsscUJBQ3dCLFNBQXRDOUMsRUFBUzhDLEVBQUssc0JBRWRGLEVBQVM3QyxFQUFXcUUsS0FHdEIsSUFBSWpDLEVBQWE4QixFQUFlSixFQUFRQyxFQUFTbEIsRUFBUyxFQUN0REwsRUFBTSxDQUFDLENBQUVPLElBQUcsRUFBRVgsR0FBRSxFQUFFUyxPQUFNLElBQ3RCeUIsRUFBT3ZCLEVBRVB3QixFQUFjak4sS0FBS2tOLG9CQUFvQnpCLEdBRTdDLEdBQUlvQixFQUFNL0IsRUFBS21DLEdBQStCLElBQWhCQSxFQUFtQixDQUMvQ25DLEVBQUsrQixFQUNMM0IsRUFBTSxHQUNOLElBQW1CLFVBQUFOLEVBQUEsZUFBTSxDQUFwQixJQUFNQyxFQUFJLEtBQ2JLLEVBQU1BLEVBQUlpQyxPQUFPdEMsRUFBS0ssSSxFQUcxQixNQUFPLENBQ0xOLEtBQUksRUFDSkUsR0FBRSxFQUNGSSxJQUFHLEVBQ0g4QixLQUFJLEVBRVIsRUFDUSxZQUFBRSxvQkFBUixTQUE0QnpCLEdBQ3BCLE1BQThDQSxFQUFJYyx3QkFBaERHLEVBQUksT0FBRVUsRUFBSyxRQUFFVCxFQUFHLE1BQUVVLEVBQU0sU0FBRWIsRUFBSyxRQUFFQyxFQUFNLFNBR3pDYSxFQUFtQm5FLEVBQ25Cb0UsRUFBb0JsRSxFQUNwQm1FLEVBQVdKLEVBQVFWLEdBQVFZLEVBSlQsSUFJZ0NsTyxLQUFLcU8sSUFBSUwsRUFBT0UsR0FBWWxPLEtBQUtzTyxJQUFJaEIsRUFKckUsSUFLbEJpQixFQUFXTixFQUFTVixHQUFPWSxFQUpWLElBSWlDbk8sS0FBS3FPLElBQUlKLEVBQVFFLEdBQWFuTyxLQUFLc08sSUFBSWYsRUFKeEUsSUFNdkIsT0FBSWEsR0FBWSxHQUFLRyxHQUFZLEVBQ3hCLEVBRURILEVBQVdHLEdBQWFuQixFQUFRQyxFQUMxQyxFQUVRLFlBQUF2QyxPQUFSLFNBQWU5RSxFQUFpQnNFLEdBQzlCLElBQU1sRSxFQUFrQkosRUFBT0ksUUFDL0IsSUFBeUMsSUFBckMwRCxFQUFlMEUsUUFBUXBJLEdBQWlCLENBQzFDLElBQU1xSSxFQUE0QnpJLEVBQU8rRyxTQUN6QyxHQUFJMEIsR0FBYUEsRUFBVXRMLE9BQVMsRUFDbEMsSUFBSyxJQUFJdUwsRUFBSUQsRUFBVXRMLE9BQVMsRUFBR3VMLEdBQUssRUFBR0EsSUFBSyxDQUM5QyxJQUFNQyxFQUFrQkYsRUFBVUMsR0FHbEMsR0FGbUQsT0FBakNDLEVBQU9yQyxhQUFhLFNBRXRCLENBQ1IsTUFBK0JxQyxFQUFPeEIsd0JBQXBDRyxFQUFJLE9BQUUsRUFBRyxNQUFFRixFQUFLLFFBQUVDLEVBQU0sU0FDaEMsR0FBSXBELEVBQUssR0FBT0YsRUFBS3VELEdBQWtCLElBQVZGLEdBQTBCLElBQVhDLEVBQzFDLFNBRUZzQixFQUFPQyxhQUFhLFFBQVMsVUFBR3RFLEcsQ0FFbEMxSixLQUFLa0ssT0FBTzZELEVBQVFyRSxFLEVBSTVCLEVBQ0YsRUF0UEEsRyxvTkN1Q0EsWUExREEsd0JBQ1UsS0FBQXVFLFdBQWEsQ0FDbkJDLFdBQVksQ0FBQyxFQXNEakIsUUFuRFMsWUFBQUMsUUFBUCxTQUFlOUosR0FBZixXQUNFckUsS0FBS29PLFdBQVcvSixHQUNaQSxFQUFRZ0ssV0FFVjVMLE9BQU9DLGlCQUNMLGNBQ0EsV0FDRSxFQUFLMEwsV0FBVy9KLEVBQ2xCLElBQ0EsRUFHTixFQUVhLFlBQUErSixXQUFiLFNBQXdCL0osRyxrcUNBQ2xCaUssRUFBdUMsQ0FBRTlGLGFBQVMvQixHQUNsRHBDLEVBQVFrSyxlQUFpQmxLLEVBQVFtSyxPQUM3QixHQUFNLElBQUksR0FEZCxNLE9BQ0ZGLEVBQU0sUyx3QkFHUmpELFlBQVcsV0FDTGhILEVBQVFrSyxnQkFDVixFQUFLTixXQUFXQyxZQUFhLElBQUksR0FBV2hJLGlCQUU5QyxJQUFNZ0ksRUFBYTdKLEVBQVFrSyxjQUN2QixPQUNLLEVBQUtOLFdBQVdDLFlBQVUsQ0FDN0IxRixRQUFTbkUsRUFBUW1LLE9BQVM3SCxTQUFTQyxPQUFPMEgsRUFBSTlGLFNBQVUsU0FBTS9CLFNBRWhFQSxFQUNFZ0ksRUFBVyxPQUNaUCxHQUFVLENBQ2JqTCxTQUFVb0IsRUFBUXBCLFNBQ2xCRCxlQUFnQnFCLEVBQVFyQixlQUN4QkQsUUFBU3NCLEVBQVF0QixVQUVuQixJQUFJLEVBQU8sT0FBUXNCLEVBQVF2RSxXQUFXd0IsVUFBVW1OLEdBRWhELEVBQUtDLFdBQ1AsR0FBRyxLLHlTQUdHLFlBQUFBLFVBQVIsV0FDUWpNLE9BQU8yRCxhQUFlM0QsT0FBTzJELFlBQVl1SSx1QkFHL0NsTSxPQUFPMkQsWUFBWXVJLHVCQUNuQjNPLEtBQUtpTyxXQUFhLENBQ2hCQyxXQUFZLENBQUMsR0FFakIsRUFDRixFQXhEQSxJQ1FNVSxFQUErQixtQkFBWEMsT0FFcEJDLEdBRDZCLG1CQUFoQkMsYUFBNkIsSUFBSUEsWUFDakIsbUJBQWhCQyxZQUE2QixJQUFJQSxpQkFBZ0J2SSxHQUU5RHdJLEVBQVNDLE1BQU1DLFVBQVVDLE1BQU1DLEtBRHZCLHFFQVFSQyxHQU5TLENBQUVDLElBQ2IsSUFBSUMsRUFBTSxDQUFDLEVBQ1hELEVBQUV4RSxTQUFRLENBQUM3TCxFQUFHNE8sSUFBTTBCLEVBQUl0USxHQUFLNE8sR0FFaEMsRUFKYyxDQUlabUIsR0FFYXJJLE9BQU82SSxhQUFhQyxLQUFLOUksU0FJbkMrSSxHQUhzQyxtQkFBcEJDLFdBQVdDLE1BQzdCRCxXQUFXQyxLQUFLSCxLQUFLRSxZQUVQbEssR0FBUUEsRUFDdkJ6RyxRQUFRLEtBQU0sSUFBSUEsUUFBUSxVQUFXNlEsR0FBYSxLQUFOQSxFQUFZLElBQU0sT0EyQjdEQyxFQUF3QixtQkFBVEMsS0FBdUJDLEdBQVFELEtBQUtDLEdBQ25EckIsRUFBY3FCLEdBQVFwQixPQUFPZ0IsS0FBS0ksRUFBSyxVQUFVM1EsU0FBUyxVQXZCMUMyUSxJQUVsQixJQUFJQyxFQUFLQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFNLEdBQzNCLE1BQU1DLEVBQU1OLEVBQUkxTixPQUFTLEVBQ3pCLElBQUssSUFBSXVMLEVBQUksRUFBR0EsRUFBSW1DLEVBQUkxTixRQUFTLENBQzdCLElBQUs0TixFQUFLRixFQUFJTyxXQUFXMUMsTUFBUSxNQUM1QnNDLEVBQUtILEVBQUlPLFdBQVcxQyxNQUFRLE1BQzVCdUMsRUFBS0osRUFBSU8sV0FBVzFDLE1BQVEsSUFDN0IsTUFBTSxJQUFJMkMsVUFBVSwyQkFDeEJQLEVBQU9DLEdBQU0sR0FBT0MsR0FBTSxFQUFLQyxFQUMvQkMsR0FBT3JCLEVBQU9pQixHQUFPLEdBQUssSUFDcEJqQixFQUFPaUIsR0FBTyxHQUFLLElBQ25CakIsRUFBT2lCLEdBQU8sRUFBSSxJQUNsQmpCLEVBQWEsR0FBTmlCLEVBQ2pCLENBQ0EsT0FBT0ssRUFBTUQsRUFBSWxCLE1BQU0sRUFBR21CLEVBQU0sR0FBSyxNQUFNRyxVQUFVSCxHQUFPRCxDQUFHLEVBVTdESyxFQUFrQi9CLEVBQ2pCZ0MsR0FBUS9CLE9BQU9nQixLQUFLZSxHQUFLdFIsU0FBUyxVQUNsQ3NSLElBR0MsSUFBSUMsRUFBTyxHQUNYLElBQUssSUFBSS9DLEVBQUksRUFBR2dELEVBQUlGLEVBQUlyTyxPQUFRdUwsRUFBSWdELEVBQUdoRCxHQUZ2QixLQUdaK0MsRUFBS3hPLEtBQUtpTixFQUFReUIsTUFBTSxLQUFNSCxFQUFJSSxTQUFTbEQsRUFBR0EsRUFIbEMsUUFLaEIsT0FBT2lDLEVBQU1jLEVBQUtJLEtBQUssSUFBSSxFQVc3QkMsRUFBV2hTLElBQ2IsR0FBSUEsRUFBRXFELE9BQVMsRUFFWCxPQURJNE8sRUFBS2pTLEVBQUVzUixXQUFXLElBQ1YsSUFBT3RSLEVBQ2JpUyxFQUFLLEtBQVM3QixFQUFRLElBQVE2QixJQUFPLEdBQ2pDN0IsRUFBUSxJQUFhLEdBQUw2QixHQUNmN0IsRUFBUSxJQUFTNkIsSUFBTyxHQUFNLElBQzNCN0IsRUFBUSxJQUFTNkIsSUFBTyxFQUFLLElBQzdCN0IsRUFBUSxJQUFhLEdBQUw2QixHQUc5QixJQUFJQSxFQUFLLE1BQzBCLE1BQTVCalMsRUFBRXNSLFdBQVcsR0FBSyxRQUNsQnRSLEVBQUVzUixXQUFXLEdBQUssT0FDekIsT0FBUWxCLEVBQVEsSUFBUzZCLElBQU8sR0FBTSxHQUNoQzdCLEVBQVEsSUFBUzZCLElBQU8sR0FBTSxJQUM5QjdCLEVBQVEsSUFBUzZCLElBQU8sRUFBSyxJQUM3QjdCLEVBQVEsSUFBYSxHQUFMNkIsRUFDMUIsRUFFRUMsRUFBVSxnREFRVkMsRUFBVXpDLEVBQ1R2QyxHQUFNd0MsT0FBT2dCLEtBQUt4RCxFQUFHLFFBQVEvTSxTQUFTLFVBQ3ZDd1AsRUFDS3pDLEdBQU1zRSxFQUFnQjdCLEVBQUl3QyxPQUFPakYsSUFDakNBLEdBQU0wRCxFQUFXMUQsRUFOTnBOLFFBQVFtUyxFQUFTRixJQVlqQ0ksRUFBUyxDQUFDNUwsRUFBSzZMLEdBQVUsSUFBVUEsRUFDbkM1QixFQUFXMEIsRUFBUTNMLElBQ25CMkwsRUFBUTNMLEcsc1pDcEhWOEwsR0FBd0MsQ0FBQyxFQUM5QixTQUFTQyxHQUFlcE4sRUFBNEJxTixHQUNqRWpOLEdBQVdKLEdBQ1gsSUFBTXNOLEVBQWNsUCxPQUFPakIsZUFDckJvUSxFQUFVcFEsZUFBZTJOLFVBQVVyTixLQUNuQytQLEVBQVVyUSxlQUFlMk4sVUFBVTFOLEtBRXpDLEdBQU1tUSxHQUFXQyxFQUFqQixDQUlBRixFQUFZMU0saUJBQW1CLEdBcUM5QnhDLE9BQWVqQixlQTdCaEIsV0FDRSxJQUFNc1EsRUFBVSxJQUFJSCxFQXlCcEIsT0F2QkFHLEVBQVFwUCxpQkFDTixvQkFDQSxXQUNFcVAsRUFBaUIxQyxLQUFLclAsS0FBTSxzQkFDOUIsSUFDQSxHQUdGOFIsRUFBUXJRLEtBQU8sU0FDYmYsRUFDQVgsRUFDQWlTLEVBQ0FDLEVBQ0FDLEdBSUEsT0FGQWxTLEtBQUtpRixpQkFBbUJrTixVQUVqQk4sRUFBUWQsTUFBTS9RLEtBQU1tUyxVQUM3QixFQUNBTCxFQUFRaFEsS0FBTyxTQUFVbkIsR0FDdkIsT0FBT2lSLEVBQVFiLE1BQU0vUSxLQUFNbVMsVUFDN0IsRUFFT0wsQ0FDVCxFQUlBLElBQU1NLEVBQXdHLEdBRTlHM1AsT0FBT0MsaUJBQWlCLHVCQUF1QixTQUFDaUMsR0FDOUMsSUFBTTBOLEVBQXlDLG1CQUF0QmhPLEVBQVFnTyxVQUEyQmhPLEVBQVFnTyxZQUFjaE8sRUFBUWdPLFVBQ3RGQyxFQUFVLENBQ1pDLFFBQVMsR0FDVHhQLFFBQVN5TyxHQUFhek8sUUFDdEJ5UCxNQUFPLEdBQ1BDLGdCQUFpQmpCLEdBQWF4TyxlQUM5QjBQLGVBQWdCLEdBQ2hCTCxVQUFTLEdBRUxNLEVBQVdoTyxFQUFNSyxPQUFPcEQsV0FDeEJpRCxFQUFTRixFQUFNSyxPQUFPQyxpQkFDeEJsRixFQUFNLENBQUMsRUFxQlgsR0FwQkk4RSxFQUFPLEdBQUcrTixXQUFXLFlBQWMvTixFQUFPLEdBQUcrTixXQUFXLFlBQzFEN1MsRUFBTSxJQUFJOFMsSUFBSWhPLEVBQU8sSUFDWkEsRUFBTyxHQUFHK04sV0FBVyxNQUM5QjdTLEVBQU0sSUFBSThTLElBQUksVUFBR3BRLE9BQU9zQixTQUFTcUUsVUFBUSxPQUFHdkQsRUFBTyxNQUVuRDlFLEVBQU0sSUFBSThTLElBQUlwUSxPQUFPc0IsU0FBU0MsT0FDMUI4TyxTQUFXak8sRUFBTyxJQUdEMk0sR0FBYXVCLGVBQWVDLE1BQUssU0FBQ0MsR0FDdkQsR0FBb0IsaUJBQVRBLEdBQ1QsR0FBSUEsSUFBU2xULEVBQUlrRyxPQUNmLE9BQU8sT0FFSixHQUFJZ04sYUFBZ0JDLFFBQ3JCRCxFQUFLRSxLQUFLcFQsRUFBSWtHLFFBQ2hCLE9BQU8sQ0FHYixJQUNBLENBSUEsSUFBTW1OLEVBQU8sSUFBSVAsSUFBSXJCLEdBQWExUixXQUM1QmdULEVBQTZCLE1BQWxCTSxFQUFLTixTQUFtQi9TLEVBQUkrUyxTQUFXL1MsRUFBSStTLFNBQVM3VCxRQUFRLElBQUlpVSxPQUFPLFdBQUlFLEVBQUtOLFdBQWEsSUFJOUcsSUFIa0IsQ0FBQ3JULEVBQVlRLE1BQU9SLEVBQVlTLE9BQVFULEVBQVlZLEtBQU1aLEVBQVlXLFVBQ3hENkQsU0FBUzZPLElBRW5CdEIsR0FBYTZCLGlCQUFuQyxDQUtBLEdBQUlWLElBQWFqVCxFQUFZNFQsT0FBUSxDQUNuQyxJQUFNZixFQUFVdlQsSUFDVjBULEVBQWlCMVQsSUFFdkJvVCxFQUFhL1AsS0FBSyxDQUNoQnNDLE1BQU9BLEVBQU1LLE9BQ2J1TyxXQUFXLElBQUlDLE1BQU9DLFVBQ3RCbEIsUUFBTyxFQUNQRyxlQUFjLElBR2hCLElBQU1nQixFQUFhOU0sT0FBTzBLLEVBQU9pQixJQUMzQm9CLEVBQVkvTSxPQUFPMEssRUFBT29CLElBQzFCM1AsRUFBVTZELE9BQU8wSyxFQUFPZ0IsRUFBUXZQLFVBQ2hDNlEsRUFBV2hOLE9BQU8wSyxFQUFPZ0IsRUFBUUcsa0JBQ2pDb0IsRUFBV2pOLE9BQU8wSyxFQUFPRSxHQUFhdk8sV0FDdEM2USxFQUFPbE4sT0FBTzBLLEVBQU92UixFQUFJZ1UsT0FDekJDLEVBQWUzQixFQUFZekwsT0FBTzBLLEVBQU9lLElBQWMsR0FDdkQ3RyxFQUFROEcsRUFBUUUsTUFBTWpRLE9BQ3RCMFIsRUFBUyxVQUFHLEVBQUMsWUFBSVAsRUFBVSxZQUFJQyxFQUFTLFlBQUluSSxFQUFLLFlBQUl6SSxFQUFPLFlBQUk2USxFQUFRLFlBQUlDLEVBQVEsWUFBSUMsRUFBSSxZQUFJRSxHQUV0R3JQLEVBQU1LLE9BQU90RCxpQkFBaUIsTUFBT3VTLEUsQ0FHdkMsR0FBSXRCLElBQWFqVCxFQUFZd1UsS0FBTSxDQUVqQyxJQURBLElBQU1DLEdBQVUsSUFBSVgsTUFBT0MsVUFDbEIzRixFQUFJLEVBQUdBLEVBQUlzRSxFQUFhN1AsT0FBUXVMLElBQ3ZDLEdBQUlzRSxFQUFhdEUsR0FBR25KLE1BQU0vQyxhQUFlbEMsRUFBWXdVLEtBQU0sQ0FDekQsSUFBSUUsRUFBYyxDQUFDLEVBQ2ZoQyxFQUFhdEUsR0FBR25KLE1BQU0xRCxTQUN4Qm1ULEVBQWMsSUFBSXZCLElBQUlULEVBQWF0RSxHQUFHbkosTUFBTXlQLGNBRTlDLElBQU1DLEVBQU8sQ0FDWCxDQUNFQyxJQUFLLGNBQ0xDLE1BQU8xUCxFQUFPLElBRWhCLENBQ0V5UCxJQUFLLE1BQ0xDLE1BQU9uQyxFQUFhdEUsR0FBR25KLE1BQU15UCxhQUFlLFVBQUdyVSxFQUFJcUksU0FBUSxhQUFLckksRUFBSWdVLE1BQUksT0FBR2hVLEVBQUkrUyxZQUc3RTBCLEVBQXVCLENBQzNCQyxjQUFlakQsR0FBYXZPLFNBQzVCc1EsVUFBV25CLEVBQWF0RSxHQUFHeUYsVUFDM0JZLFFBQU8sRUFDUE8sT0FBUXBDLEVBQVFFLE1BQU1qUSxPQUN0Qm9TLFVBQVdoVixFQUNYaVYsU0FBVWhWLEVBQ1ZpVixRQUFpQyxJQUF4QmxRLEVBQU1LLE9BQU8vRCxRQUFnQjBELEVBQU1LLE9BQU8vRCxRQUFVLElBQzdENlQsYUFBY3hDLEVBQVFFLE1BQU1qUSxPQUFTLEVBQ3JDd1MsWWQ3SGUsTWM4SGZqQixLQUFNTSxFQUFZTCxLQUNsQk0sS0FBTTdDLEdBQWF3RCxXQUNmeEQsR0FBYXlELFdBQ1gsRUFBRCxLQUFLWixHQUFNLEdBQUc3QyxHQUFheUQsWUFBVSxHQUNwQ1osT0FDRjVOLElBRU42TCxFQUFVLE9BQ0xBLEdBQU8sQ0FDVkMsUUFBU0gsRUFBYXRFLEdBQUd5RSxRQUN6QkcsZUFBZ0JOLEVBQWF0RSxHQUFHNEUsa0JBRTFCRixNQUFNblEsS0FBS21TLEdBQ25CcEMsRUFBYThDLE9BQU9wSCxFQUFHLEUsQ0FHM0I0RCxFQUFTclAsS0FBS2lRLEUsR0FFbEIsRyxNQWpLRWpSLFFBQVFELE1BQU0sNEJBS2hCLFNBQVMyUSxFQUFpQnBOLEdBQ3hCLElBQU13USxFQUFZLElBQUlDLFlBQVl6USxFQUFPLENBQUVLLE9BQVFoRixPQUVuRHlDLE9BQU80UyxjQUFjRixFQUN2QixDQXlKRixDQUNPLFNBQVMxUSxHQUFXQyxHQUN6QjhNLEdBQWUsT0FBS0EsSUFBaUI5TSxFQUN2QyxDLDBaQzdLSSxHQUFvQixDQUFDLEVBa0psQixTQUFTNFEsR0FBZ0I1USxHQUM5QixHQUFlLFNBQUssSUFBaUJBLEVBQ3ZDLENDbEplLFNBQVM2USxHQUFhbFIsR0FDbkMsSUFBTXFOLEVBQVcsR0FFakJELEdBQWVwTixFQUFTcU4sR0RKWCxTQUFxQnJOLEVBQTRCcU4sR0FBaEUsSSxJQUFBLE9BQ0U0RCxHQUFnQmpSLEdBQ2hCLElBQU1tUixFQUNKblIsRUFBUW9SLGNBQ2lCLFFBQXhCLEVBQUFoVCxPQUFlaVQsaUJBQVMsZUFBRTVVLFNBQ2MsUUFBeEMsRUFBQTJCLE9BQWVrVCxpQ0FBeUIsZUFBRTdVLFFBQzNDOFUsV0FBVzlVLE9BQ1gyQixPQUFPM0IsTUFFVCxHQUEyQixtQkFBaEIwVSxFQUFYLENBSUEsSUFBTUssRUFBZSxXLElBQU8sc0QsbXNDQWlFVCxPQWhFWHhELEVBQXlDLG1CQUF0QmhPLEVBQVFnTyxVQUEyQmhPLEVBQVFnTyxZQUFjaE8sRUFBUWdPLFVBQ3BGa0IsR0FBWSxJQUFJQyxNQUFPQyxVQUN2QmxCLEVBQVV2VCxJQUNWMFQsRUFBaUIxVCxJQUNuQnNULEVBQVUsQ0FDWkMsUUFBUyxHQUNUeFAsUUFBUyxHQUFhQSxRQUN0QnlQLE1BQU8sR0FDUEMsZ0JBQWlCLEdBQWF6UCxlQUM5QjBQLGVBQWdCLEdBQ2hCTCxVQUFTLEdBRVB0UyxFQUFNLENBQUMsRUFFcUMscUJBQTVDK1YsT0FBTzNHLFVBQVU3UCxTQUFTK1AsS0FBSzBHLEVBQUssSUFDdENoVyxFQUFNLElBQUk4UyxJQUFJa0QsRUFBSyxHQUFHaFcsS0FFbEJnVyxFQUFLLEdBQUduRCxXQUFXLFlBQWNtRCxFQUFLLEdBQUduRCxXQUFXLFlBQ3REN1MsRUFBTSxJQUFJOFMsSUFBSWtELEVBQUssSUFDVkEsRUFBSyxHQUFHbkQsV0FBVyxNQUM1QjdTLEVBQU0sSUFBSThTLElBQUksVUFBR3BRLE9BQU9zQixTQUFTcUUsVUFBUSxPQUFHMk4sRUFBSyxNQUVqRGhXLEVBQU0sSUFBSThTLElBQUlwUSxPQUFPc0IsU0FBU0MsT0FDMUI4TyxTQUFXaUQsRUFBSyxHQUlsQmhELEVBQWlCLEdBQWFBLGVBQWVDLE1BQUssU0FBQ0MsR0FDdkQsR0FBb0IsaUJBQVRBLEdBQ1QsR0FBSUEsSUFBU2xULEVBQUlrRyxPQUNmLE9BQU8sT0FFSixHQUFJZ04sYUFBZ0JDLFFBQ3JCRCxFQUFLRSxLQUFLcFQsRUFBSWtHLFFBQ2hCLE9BQU8sQ0FHYixJQUNNbU4sRUFBTyxJQUFJUCxJQUFJLEdBQWEvUyxXQUM1QmdULEVBQTZCLE1BQWxCTSxFQUFLTixTQUFtQi9TLEVBQUkrUyxTQUFXL1MsRUFBSStTLFNBQVM3VCxRQUFRLElBQUlpVSxPQUFPLFdBQUlFLEVBQUtOLFdBQWEsSUFDeEdrRCxFQUFZLENBQUN2VyxFQUFZUSxNQUFPUixFQUFZUyxPQUFRVCxFQUFZWSxLQUFNWixFQUFZVyxVQUNsRjZWLEVBQWdCRCxFQUFVL1IsU0FBUzZPLElBQ25Db0QsR0FBWW5ELEdBQW1Ca0QsR0FBaUIsR0FBYTVDLG9CQUczREssRUFBYTlNLE9BQU8wSyxFQUFPaUIsSUFDM0JvQixFQUFZL00sT0FBTzBLLEVBQU9vQixJQUMxQjNQLEVBQVU2RCxPQUFPMEssRUFBT2dCLEVBQVF2UCxVQUNoQzZRLEVBQVdoTixPQUFPMEssRUFBT2dCLEVBQVFHLGtCQUNqQ29CLEVBQVdqTixPQUFPMEssRUFBTyxHQUFhck8sV0FDdEM2USxFQUFPbE4sT0FBTzBLLEVBQU92UixFQUFJZ1UsT0FDekJDLEVBQWUzQixFQUFZekwsT0FBTzBLLEVBQU9lLElBQWMsR0FDdkQ3RyxFQUFROEcsRUFBUUUsTUFBTWpRLE9BQ3RCMFIsRUFBUyxVQUFHLEVBQUMsWUFBSVAsRUFBVSxZQUFJQyxFQUFTLFlBQUluSSxFQUFLLFlBQUl6SSxFQUFPLFlBQUk2USxFQUFRLFlBQUlDLEVBQVEsWUFBSUMsRUFBSSxZQUFJRSxHQUVqRytCLEVBQUssS0FDUkEsRUFBSyxHQUFLLENBQUMsR0FFUkEsRUFBSyxHQUFHSSxVQUNYSixFQUFLLEdBQUdJLFFBQVUsQ0FBQyxHQUVyQkosRUFBSyxHQUFHSSxRQUFRQyxJQUFNbkMsR0FHUCxHQUFNdUIsRUFBVyxhQUFJTyxJLE9BQWhDL1UsRUFBVyxTQUVqQixJQUNNQSxJQUFpQyxJQUFwQkEsRUFBU0MsUUFBZ0JELEVBQVNDLFFBQVUsT0FDckQ0QixFQUFVLENBQ2RDLFNBQVU5RCxJQUNWK0QsUUFBUyxHQUFhQSxRQUN0QkMsZUFBZ0IsR0FBYUEsZUFDN0JDLFNBQVUsR0FBYUEsU0FDdkJDLFNBQVUzRCxFQUFlc0UsV0FDekJULE1BQU81RCxFQUFjUyxNQUNyQnFELFNBQVd0QyxHQUFZQSxFQUFTakIsS0FBUSxVQUFHQSxFQUFJcUksU0FBUSxhQUFLckksRUFBSWdVLE1BQUksT0FBR2hVLEVBQUkrUyxVQUMzRXJQLFFBQVMsa0JBQVd6QyxFQUFXQSxFQUFTQyxPQUFTLEVBQUMseUJBQWlCRCxHQUFZQSxFQUFTa0UsV0FBVSxLQUNsR3BGLFVBQVcsR0FBYUEsVUFDeEIwRSxNQUFPLFVBQVl4RCxHQUFZQSxFQUFTa0UsYUFFMUMsSUFBSSxHQUFPdkIsVUFBVWQsSUFFbkJxVCxJQUNJN0IsRUFBTyxDQUNYLENBQ0VDLElBQUssY0FDTEMsTUFBT3dCLEVBQUssR0FBR3JWLFFBQVUsT0FFM0IsQ0FDRTRULElBQUssTUFDTEMsTUFBUXZULEdBQVlBLEVBQVNqQixLQUFRLFVBQUdBLEVBQUlxSSxTQUFRLGFBQUtySSxFQUFJZ1UsTUFBSSxPQUFHaFUsRUFBSStTLFlBR3RFcUIsR0FBVSxJQUFJWCxNQUFPQyxVQUNyQmUsRUFBdUIsQ0FDM0JDLGNBQWUsR0FBYXhSLFNBQzVCc1EsVUFBUyxFQUNUWSxRQUFPLEVBQ1BPLE9BQVFwQyxFQUFRRSxNQUFNalEsT0FDdEJvUyxVQUFXaFYsRUFDWGlWLFNBQVVoVixFQUVWaVYsUUFBUzdULElBQWlDLElBQXBCQSxFQUFTQyxRQUFnQkQsRUFBU0MsUUFBVSxLQUNsRTZULGFBQWN4QyxFQUFRRSxNQUFNalEsT0FBUyxFQUNyQ3dTLFlmOUZpQixNZStGakJqQixLQUFNL1QsRUFBSWdVLEtBQ1ZNLEtBQU0sR0FBYVcsV0FDZixHQUFhQyxXQUNYLFNBQUlaLEdBQU0sR0FBRyxHQUFhWSxZQUFVLEdBQ3BDWixPQUNGNU4sSUFFTjZMLEVBQVUsU0FDTEEsR0FBTyxDQUNWQyxRQUFPLEVBQ1BHLGVBQWMsS0FFUkYsTUFBTW5RLEtBQUttUyxHQUNuQjlDLEVBQVNyUCxLQUFLaVEsRyxDQUVoQixNQUFPN0osR0FDUCxNQUFNQSxDLENBRVIsTUFBTyxDQUFQLEVBQU96SCxFQUFTcVYsUyxxU0FJbEI1VCxPQUFPM0IsTUFBUStVLEVBRWRELFdBQW1COVUsTUFBUStVLEMsQ0FDOUIsQ0MzSUVTLENBQVlqUyxFQUFTcU4sR0FDckJqUCxPQUFPQyxpQkFBaUIsZ0JBQWdCLFdBQ2pDZ1AsRUFBU25QLFFBR2QsSUFBSSxFQUFPLFdBQVk4QixFQUFRdkUsV0FBV2lDLGFBQWEyUCxFQUN6RCxJQUVBeE4sYUFBWSxXQUNMd04sRUFBU25QLFNBR2QsSUFBSSxFQUFPLFdBQVk4QixFQUFRdkUsV0FBV3dCLFVBQVVvUSxHQUNwREEsRUFBU3dELE9BQU8sRUFBR3hELEVBQVNuUCxRQUM5QixHQUFHOEIsRUFBUWtTLGtCQUNiLENBRU8sU0FBU0MsR0FBVTlSLEdBQ3hCRCxHQUFXQyxHQUNYNFEsR0FBZ0I1USxFQUNsQixDLHVOQ2tLQSxTQTNMc0IsQ0FDcEIrUixjQUFlLENBQ2IzVyxVQUFXaUUsU0FBU2tDLE9BQ3BCeVEsVUFBVSxFQUNWQyxXQUFXLEVBQ1hDLGdCQUFnQixFQUNoQnJJLGVBQWUsRUFDZkMsUUFBUSxFQUNSSCxXQUFXLEVBQ1hnRixrQkFBa0IsRUFDbEIyQixZQUFZLEVBQ1pqQyxlQUFnQixHQUNoQndELGtCQUFtQixLQUdyQk0sU0FBUSxTQUFDQyxHQUNQOVcsS0FBS3lXLGNBQWdCLFNBQ2hCelcsS0FBS3lXLGVBQ0xLLEdBRUw5VyxLQUFLK1csa0JBQ0wvVyxLQUFLZ1gsWUFBWWhYLEtBQUt5VyxlQUNqQnpXLEtBQUt5VyxjQUFjcEksV0FDdEJyTyxLQUFLb0csWUFBWXBHLEtBQUt5VyxlQUd4QmxCLEdBQWF2VixLQUFLeVcsY0FDcEIsRUFDQXJRLFlBQVcsU0FBQzBRLEdBRWtCLGFBQXhCN00sU0FBU3JJLFdBQ1gsRUFBVXVNLFFBQVEySSxHQUVsQnJVLE9BQU9DLGlCQUNMLFFBQ0EsV0FDRSxFQUFVeUwsUUFBUTJJLEVBQ3BCLElBQ0EsRUFHTixFQUVBRSxZQUFXLFNBQUMzUyxHQUNGLElBQUF0QixFQUFpRHNCLEVBQU8sUUFBL0NwQixFQUF3Q29CLEVBQU8sU0FBckNyQixFQUE4QnFCLEVBQU8sZUFBckJ2RSxFQUFjdUUsRUFBTyxVQUU1REEsRUFBUXFTLFdBQ1YsRUFBU3RTLGFBQWEsQ0FBRXJCLFFBQU8sRUFBRUUsU0FBUSxFQUFFRCxlQUFjLEVBQUVsRCxVQUFTLElBQ3BFLEVBQWNzRSxhQUFhLENBQUVyQixRQUFPLEVBQUVFLFNBQVEsRUFBRUQsZUFBYyxFQUFFbEQsVUFBUyxJQUNyRXVFLEVBQVE0UyxLQUNWLEVBQVU3UyxhQUFhLENBQUVyQixRQUFPLEVBQUVFLFNBQVEsRUFBRUQsZUFBYyxFQUFFbEQsVUFBUyxHQUFJdUUsRUFBUTRTLE1BR2pGNVMsRUFBUXNTLFdBQ1YsRUFBVzVSLFlBQVksQ0FBRWhDLFFBQU8sRUFBRUUsU0FBUSxFQUFFRCxlQUFjLEVBQUVsRCxVQUFTLElBRW5FdUUsRUFBUXVTLGdCQUNWLEVBQWV4UyxhQUFhLENBQUVyQixRQUFPLEVBQUVFLFNBQVEsRUFBRUQsZUFBYyxFQUFFbEQsVUFBUyxHQUU5RSxFQUNBb1gsZUFBYyxTQUFDSixHQUViOVcsS0FBS3lXLGNBQWdCLFlBQ2hCelcsS0FBS3lXLGVBQ0xLLEdBQU8sQ0FDVnRJLFFBQVEsSUFFVnhPLEtBQUsrVyxrQkFDTC9XLEtBQUtvRyxZQUFZcEcsS0FBS3lXLGVBQ2hCLE1BQW1EelcsS0FBS3lXLGNBQXREMVQsRUFBTyxVQUFFRSxFQUFRLFdBQUVELEVBQWMsaUJBQUVsRCxFQUFTLFlBQ2hERSxLQUFLeVcsY0FBY0MsV0FDckIsRUFBU2pTLFdBQVcsQ0FBRTFCLFFBQU8sRUFBRUUsU0FBUSxFQUFFRCxlQUFjLEVBQUVsRCxVQUFTLElBQ2xFLEVBQWMyRSxXQUFXLENBQUUxQixRQUFPLEVBQUVFLFNBQVEsRUFBRUQsZUFBYyxFQUFFbEQsVUFBUyxJQUNuRUUsS0FBS3lXLGNBQWNRLEtBQ3JCLEVBQVV4UyxXQUFXLENBQUUxQixRQUFPLEVBQUVFLFNBQVEsRUFBRUQsZUFBYyxFQUFFbEQsVUFBUyxLQUduRUUsS0FBS3lXLGNBQWNFLFdBQ3JCLEVBQVdsUyxXQUFXLENBQUUxQixRQUFPLEVBQUVFLFNBQVEsRUFBRUQsZUFBYyxFQUFFbEQsVUFBUyxJQUVsRUUsS0FBS3lXLGNBQWNHLGdCQUNyQixFQUFlblMsV0FBVyxDQUFFMUIsUUFBTyxFQUFFRSxTQUFRLEVBQUVELGVBQWMsRUFBRWxELFVBQVMsSUFFMUUwVyxHQUFVeFcsS0FBS3lXLGNBQ2pCLEVBQ0FVLGtCQUFpQixTQUFDTCxFQUE4QjFWLEdBQzlDLEVBQVlnRCxhQUFhMFMsRUFBUzFWLEVBQ3BDLEVBQ0FnVyxhQUFZLFNBQUNuQyxHQUNYLElBQUtBLEVBQ0gsT0FBTyxFQUVULElBQUsvRixNQUFNbUksUUFBUXBDLEdBR2pCLE9BRkFqVixLQUFLeVcsY0FBY3hCLGdCQUFheE8sRUFDaENwRixRQUFRRCxNQUFNLHFCQUNQLEVBR1QsSUFEQSxJQUFJa1csR0FBUyxFQUNLLE1BQUFyQyxFQUFBLGVBQVksQ0FBekIsSUFBTXhKLEVBQUcsS0FDTkEsR0FBT0EsRUFBSTZJLEtBQU83SSxFQUFJOEksUUFDMUIrQyxHQUFTLEUsQ0FHYixRQUFLQSxJQUNIdFgsS0FBS3lXLGNBQWN4QixnQkFBYXhPLEVBQ2hDcEYsUUFBUUQsTUFBTSxxQkFDUCxFQUdYLEVBQ0EyVixnQkFBZSxXQUNQLE1BaUJGL1csS0FBS3lXLGNBaEJQM1csRUFBUyxZQUNUaUQsRUFBTyxVQUNQRSxFQUFRLFdBQ1JELEVBQWMsaUJBQ2QwVCxFQUFRLFdBQ1JDLEVBQVMsWUFDVEMsRUFBYyxpQkFDZHJJLEVBQWEsZ0JBQ2JDLEVBQU0sU0FDTkgsRUFBUyxZQUNUZ0YsRUFBZ0IsbUJBQ2hCMkIsRUFBVSxhQUNWakMsRUFBYyxpQkFDZHdELEVBQWlCLG9CQUNqQnRCLEVBQVUsYUFDVmdDLEVBQUcsTUFFTGpYLEtBQUtvWCxhQUFhbkMsR0FDTyxpQkFBZG5WLElBQ1RFLEtBQUt5VyxjQUFjM1csVUFBWWlFLFNBQVNrQyxRQUVuQixpQkFBWmxELElBQ1QvQyxLQUFLeVcsY0FBYzFULFFBQVUsSUFFUCxpQkFBYkUsSUFDVGpELEtBQUt5VyxjQUFjeFQsU0FBVyxJQUVGLGlCQUFuQkQsSUFDVGhELEtBQUt5VyxjQUFjelQsZUFBaUIsSUFFZCxrQkFBYjBULElBQ1QxVyxLQUFLeVcsY0FBY0MsVUFBVyxHQUVQLGtCQUFkQyxJQUNUM1csS0FBS3lXLGNBQWNFLFdBQVksR0FFSCxrQkFBbkJDLElBQ1Q1VyxLQUFLeVcsY0FBY0csZ0JBQWlCLEdBRVQsa0JBQWxCckksSUFDVHZPLEtBQUt5VyxjQUFjbEksZUFBZ0IsR0FFZixrQkFBWEMsSUFDVHhPLEtBQUt5VyxjQUFjakksUUFBUyxHQUVMLGtCQUFkSCxJQUNUck8sS0FBS3lXLGNBQWNwSSxXQUFZLEdBRUQsa0JBQXJCZ0YsSUFDVHJULEtBQUt5VyxjQUFjcEQsa0JBQW1CLEdBRWQsa0JBQWYyQixJQUNUaFYsS0FBS3lXLGNBQWN6QixZQUFhLEdBRVIsa0JBQWZBLElBQ1RoVixLQUFLeVcsY0FBY3pCLFlBQWEsR0FFN0I5RixNQUFNbUksUUFBUXRFLEtBQ2pCL1MsS0FBS3lXLGNBQWMxRCxlQUFpQixJQUVMLGlCQUF0QndELElBQ1R2VyxLQUFLeVcsY0FBY0Ysa0JBQW9CLEtBRXRCLG1CQUFSVSxJQUNUalgsS0FBS3lXLGNBQWNRLFNBQU14USxFQUU3QixFQUNBOFEsY0FBYSxTQUFDbEQsR0FDWixJQUFNM1AsRUFBTSxTQUFLMUUsS0FBS3lXLGVBQWEsQ0FBRXhCLFdBQVlaLElBQzdDclUsS0FBS29YLGFBQWEvQyxJQUNwQm1DLEdBQVU5UixFQUVkLEdDM0xEakMsT0FBZStVLGNBQWdCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcG93ZXIvYXBtLWNsaWVudC1qcy8uL3NyYy9zZXJ2aWNlcy91dWlkLnRzIiwid2VicGFjazovL0Bwb3dlci9hcG0tY2xpZW50LWpzLy4vc3JjL3NlcnZpY2VzL2NvbnN0YW50LnRzIiwid2VicGFjazovL0Bwb3dlci9hcG0tY2xpZW50LWpzLy4vc3JjL3NlcnZpY2VzL3JlcG9ydC50cyIsIndlYnBhY2s6Ly9AcG93ZXIvYXBtLWNsaWVudC1qcy8uL3NyYy9zZXJ2aWNlcy90YXNrLnRzIiwid2VicGFjazovL0Bwb3dlci9hcG0tY2xpZW50LWpzLy4vc3JjL3NlcnZpY2VzL2Jhc2UudHMiLCJ3ZWJwYWNrOi8vQHBvd2VyL2FwbS1jbGllbnQtanMvLi9zcmMvZXJyb3JzL2pzLnRzIiwid2VicGFjazovL0Bwb3dlci9hcG0tY2xpZW50LWpzLy4vc3JjL2Vycm9ycy9wcm9taXNlLnRzIiwid2VicGFjazovL0Bwb3dlci9hcG0tY2xpZW50LWpzLy4vc3JjL2Vycm9ycy9hamF4LnRzIiwid2VicGFjazovL0Bwb3dlci9hcG0tY2xpZW50LWpzLy4vc3JjL2Vycm9ycy9yZXNvdXJjZS50cyIsIndlYnBhY2s6Ly9AcG93ZXIvYXBtLWNsaWVudC1qcy8uL3NyYy9lcnJvcnMvdnVlLnRzIiwid2VicGFjazovL0Bwb3dlci9hcG0tY2xpZW50LWpzLy4vc3JjL2Vycm9ycy9mcmFtZXMudHMiLCJ3ZWJwYWNrOi8vQHBvd2VyL2FwbS1jbGllbnQtanMvLi9zcmMvcGVyZm9ybWFuY2UvcGVyZi50cyIsIndlYnBhY2s6Ly9AcG93ZXIvYXBtLWNsaWVudC1qcy8uL3NyYy9wZXJmb3JtYW5jZS9mbXAudHMiLCJ3ZWJwYWNrOi8vQHBvd2VyL2FwbS1jbGllbnQtanMvLi9zcmMvcGVyZm9ybWFuY2UvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vQHBvd2VyL2FwbS1jbGllbnQtanMvLi9ub2RlX21vZHVsZXMvanMtYmFzZTY0L2Jhc2U2NC5tanMiLCJ3ZWJwYWNrOi8vQHBvd2VyL2FwbS1jbGllbnQtanMvLi9zcmMvdHJhY2UvaW50ZXJjZXB0b3JzL3hoci50cyIsIndlYnBhY2s6Ly9AcG93ZXIvYXBtLWNsaWVudC1qcy8uL3NyYy90cmFjZS9pbnRlcmNlcHRvcnMvZmV0Y2gudHMiLCJ3ZWJwYWNrOi8vQHBvd2VyL2FwbS1jbGllbnQtanMvLi9zcmMvdHJhY2Uvc2VnbWVudC50cyIsIndlYnBhY2s6Ly9AcG93ZXIvYXBtLWNsaWVudC1qcy8uL3NyYy9tb25pdG9yLnRzIiwid2VicGFjazovL0Bwb3dlci9hcG0tY2xpZW50LWpzLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1dWlkKCkge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCAoYykgPT4ge1xuICAgIC8qIHRzbGludDpkaXNhYmxlICovXG4gICAgY29uc3QgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMDtcbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuICAgIGNvbnN0IHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xuXG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cbiIsImltcG9ydCBSZXBvcnQgZnJvbSAnLi9yZXBvcnQnO1xuXG5cbmV4cG9ydCBlbnVtIEVycm9yc0NhdGVnb3J5IHtcbiAgQUpBWF9FUlJPUiA9ICdhamF4JyxcbiAgUkVTT1VSQ0VfRVJST1IgPSAncmVzb3VyY2UnLFxuICBWVUVfRVJST1IgPSAndnVlJyxcbiAgUFJPTUlTRV9FUlJPUiA9ICdwcm9taXNlJyxcbiAgSlNfRVJST1IgPSAnanMnLFxuICBVTktOT1dOX0VSUk9SID0gJ3Vua25vd24nLFxufVxuZXhwb3J0IGVudW0gR3JhZGVUeXBlRW51bSB7XG4gIElORk8gPSAnSW5mbycsXG4gIFdBUk5JTkcgPSAnV2FybmluZycsXG4gIEVSUk9SID0gJ0Vycm9yJyxcbn1cbmV4cG9ydCBlbnVtIFJlcG9ydFR5cGVzIHtcbiAgRVJST1IgPSAnL2Jyb3dzZXIvZXJyb3JMb2cnLFxuICBFUlJPUlMgPSAnL2Jyb3dzZXIvZXJyb3JMb2dzJyxcbiAgUEVSRiA9ICcvYnJvd3Nlci9wZXJmRGF0YScsXG4gIFNFR01FTlQgPSAnL3YzL3NlZ21lbnQnLFxuICBTRUdNRU5UUyA9ICcvdjMvc2VnbWVudHMnLFxufVxuXG5leHBvcnQgY29uc3QgU3BhbkxheWVyID0gJ0h0dHAnO1xuZXhwb3J0IGNvbnN0IFNwYW5UeXBlID0gJ0V4aXQnO1xuXG5leHBvcnQgZW51bSBSZWFkeVN0YXR1cyB7XG4gIE9QRU5FRCA9IDEsXG4gIERPTkUgPSA0LFxufVxuZXhwb3J0IGNvbnN0IENvbXBvbmVudElkID0gMTAwMDE7IC8vIGFqYXhcbiIsIlxuaW1wb3J0IHsgUmVwb3J0VHlwZXMgfSBmcm9tICcuL2NvbnN0YW50JztcbmNsYXNzIFJlcG9ydCB7XG4gIHByaXZhdGUgdXJsOiBzdHJpbmcgPSAnJztcblxuICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcsIGNvbGxlY3Rvcjogc3RyaW5nKSB7XG4gICAgaWYgKHR5cGUgPT09ICdFUlJPUicpIHtcbiAgICAgIHRoaXMudXJsID0gY29sbGVjdG9yICsgUmVwb3J0VHlwZXMuRVJST1I7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnRVJST1JTJykge1xuICAgICAgdGhpcy51cmwgPSBjb2xsZWN0b3IgKyBSZXBvcnRUeXBlcy5FUlJPUlM7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnU0VHTUVOVCcpIHtcbiAgICAgIHRoaXMudXJsID0gY29sbGVjdG9yICsgUmVwb3J0VHlwZXMuU0VHTUVOVDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdTRUdNRU5UUycpIHtcbiAgICAgIHRoaXMudXJsID0gY29sbGVjdG9yICsgUmVwb3J0VHlwZXMuU0VHTUVOVFM7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnUEVSRicpIHtcbiAgICAgIHRoaXMudXJsID0gY29sbGVjdG9yICsgUmVwb3J0VHlwZXMuUEVSRjtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc2VuZEJ5RmV0Y2goZGF0YTogYW55KSB7XG4gICAgZGVsZXRlIGRhdGEuY29sbGVjdG9yO1xuICAgIGlmICghdGhpcy51cmwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2VuZFJlcXVlc3QgPSBuZXcgUmVxdWVzdCh0aGlzLnVybCwgeyBtZXRob2Q6ICdQT1NUJywgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSkgfSk7XG5cbiAgICBmZXRjaChzZW5kUmVxdWVzdClcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDQwMCB8fCByZXNwb25zZS5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nIG9uIGFwaSBzZXJ2ZXIhJyk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgfSk7XG4gIH1cblxuICBwdWJsaWMgc2VuZEJ5WGhyKGRhdGE6IGFueSkge1xuICAgIGlmICghdGhpcy51cmwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICB4aHIub3BlbigncG9zdCcsIHRoaXMudXJsLCB0cnVlKTtcbiAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0ICYmIHhoci5zdGF0dXMgPCA0MDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1JlcG9ydCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgfVxuXG4gIHB1YmxpYyBzZW5kQnlCZWFjb24oZGF0YTogYW55KSB7XG4gICAgaWYgKCF0aGlzLnVybCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvci5zZW5kQmVhY29uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihcbiAgICAgICAgdGhpcy51cmwsXG4gICAgICAgIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShkYXRhKV0sIHtcbiAgICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZW5kQnlYaHIoZGF0YSk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFJlcG9ydDtcbiIsIlxuaW1wb3J0IHsgRXJyb3JJbmZvRmllbGRzLCBSZXBvcnRGaWVsZHMgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCBSZXBvcnQgZnJvbSAnLi9yZXBvcnQnO1xuXG5jbGFzcyBUYXNrUXVldWUge1xuICBwcml2YXRlIHF1ZXVlczogKChFcnJvckluZm9GaWVsZHMgJiBSZXBvcnRGaWVsZHMpIHwgdW5kZWZpbmVkKVtdID0gW107XG4gIHByaXZhdGUgY29sbGVjdG9yOiBzdHJpbmcgPSAnJztcblxuICBwdWJsaWMgYWRkVGFzayhkYXRhOiBFcnJvckluZm9GaWVsZHMgJiBSZXBvcnRGaWVsZHMsIGNvbGxlY3Rvcjogc3RyaW5nKSB7XG4gICAgdGhpcy5xdWV1ZXMucHVzaChkYXRhKTtcbiAgICB0aGlzLmNvbGxlY3RvciA9IGNvbGxlY3RvcjtcbiAgfVxuXG4gIHB1YmxpYyBmaXJlVGFza3MoKSB7XG4gICAgaWYgKCEodGhpcy5xdWV1ZXMgJiYgdGhpcy5xdWV1ZXMubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5ldyBSZXBvcnQoJ0VSUk9SUycsIHRoaXMuY29sbGVjdG9yKS5zZW5kQnlYaHIodGhpcy5xdWV1ZXMpO1xuICAgIHRoaXMucXVldWVzID0gW107XG4gIH1cblxuICBwdWJsaWMgZmluYWxseUZpcmVUYXNrcygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnF1ZXVlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbmV3IFJlcG9ydCgnRVJST1JTJywgdGhpcy5jb2xsZWN0b3IpLnNlbmRCeUJlYWNvbih0aGlzLnF1ZXVlcyk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFRhc2tRdWV1ZSgpO1xuIiwiXG5pbXBvcnQgVGFzayBmcm9tICcuL3Rhc2snO1xuaW1wb3J0IHsgRXJyb3JzQ2F0ZWdvcnksIEdyYWRlVHlwZUVudW0gfSBmcm9tICcuL2NvbnN0YW50JztcbmltcG9ydCB7IEVycm9ySW5mb0ZpZWxkcywgUmVwb3J0RmllbGRzIH0gZnJvbSAnLi90eXBlcyc7XG5cbmxldCBwYWdlSGFzanNFcnJvcjogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcbmxldCBpbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQ7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlIHtcbiAgcHVibGljIGxvZ0luZm86IEVycm9ySW5mb0ZpZWxkcyAmIFJlcG9ydEZpZWxkcyAmIHsgY29sbGVjdG9yOiBzdHJpbmcgfSA9IHtcbiAgICB1bmlxdWVJZDogJycsXG4gICAgc2VydmljZTogJycsXG4gICAgc2VydmljZVZlcnNpb246ICcnLFxuICAgIHBhZ2VQYXRoOiAnJyxcbiAgICBjYXRlZ29yeTogRXJyb3JzQ2F0ZWdvcnkuVU5LTk9XTl9FUlJPUixcbiAgICBncmFkZTogR3JhZGVUeXBlRW51bS5JTkZPLFxuICAgIGVycm9yVXJsOiAnJyxcbiAgICBsaW5lOiAwLFxuICAgIGNvbDogMCxcbiAgICBtZXNzYWdlOiAnJyxcbiAgICBmaXJzdFJlcG9ydGVkRXJyb3I6IGZhbHNlLFxuICAgIGNvbGxlY3RvcjogJycsXG4gIH07XG5cbiAgcHVibGljIHRyYWNlSW5mbyhsb2dJbmZvPzogRXJyb3JJbmZvRmllbGRzICYgUmVwb3J0RmllbGRzICYgeyBjb2xsZWN0b3I6IHN0cmluZyB9KSB7XG4gICAgdGhpcy5sb2dJbmZvID0gbG9nSW5mbyB8fCB0aGlzLmxvZ0luZm87XG4gICAgY29uc3QgRXhjbHVkZUVycm9yVHlwZXM6IHN0cmluZ1tdID0gW1xuICAgICAgRXJyb3JzQ2F0ZWdvcnkuQUpBWF9FUlJPUixcbiAgICAgIEVycm9yc0NhdGVnb3J5LlJFU09VUkNFX0VSUk9SLFxuICAgICAgRXJyb3JzQ2F0ZWdvcnkuVU5LTk9XTl9FUlJPUixcbiAgICBdO1xuICAgIC8vIG1hcmsganMgZXJyb3IgcHZcbiAgICBpZiAoIXBhZ2VIYXNqc0Vycm9yW2xvY2F0aW9uLmhyZWZdICYmICFFeGNsdWRlRXJyb3JUeXBlcy5pbmNsdWRlcyh0aGlzLmxvZ0luZm8uY2F0ZWdvcnkpKSB7XG4gICAgICBwYWdlSGFzanNFcnJvciA9IHtcbiAgICAgICAgW2xvY2F0aW9uLmhyZWZdOiB0cnVlLFxuICAgICAgfTtcbiAgICAgIHRoaXMubG9nSW5mby5maXJzdFJlcG9ydGVkRXJyb3IgPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBjb2xsZWN0b3IgPSB0aGlzLmxvZ0luZm8uY29sbGVjdG9yO1xuXG4gICAgZGVsZXRlIHRoaXMubG9nSW5mby5jb2xsZWN0b3I7XG4gICAgVGFzay5hZGRUYXNrKHRoaXMubG9nSW5mbywgY29sbGVjdG9yKTtcbiAgICBUYXNrLmZpbmFsbHlGaXJlVGFza3MoKTtcbiAgICBpZiAoaW50ZXJ2YWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gcmVwb3J0IGVycm9ycyB3aXRoaW4gMW1pblxuICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgVGFzay5maXJlVGFza3MoKTtcbiAgICB9LCA2MDAwMCk7XG4gIH1cbn1cbiIsIlxuXG5pbXBvcnQgdXVpZCBmcm9tICcuLi9zZXJ2aWNlcy91dWlkJztcbmltcG9ydCBCYXNlIGZyb20gJy4uL3NlcnZpY2VzL2Jhc2UnO1xuaW1wb3J0IHsgR3JhZGVUeXBlRW51bSwgRXJyb3JzQ2F0ZWdvcnkgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb25zdGFudCc7XG5pbXBvcnQgeyBDdXN0b21SZXBvcnRPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMnO1xuY2xhc3MgSlNFcnJvcnMgZXh0ZW5kcyBCYXNlIHtcbiAgcHJpdmF0ZSBpbmZvT3B0OiBDdXN0b21SZXBvcnRPcHRpb25zID0ge1xuICAgIHNlcnZpY2U6ICcnLFxuICAgIHBhZ2VQYXRoOiAnJyxcbiAgICBzZXJ2aWNlVmVyc2lvbjogJycsXG4gIH07XG4gIHB1YmxpYyBoYW5kbGVFcnJvcnMob3B0aW9uczogQ3VzdG9tUmVwb3J0T3B0aW9ucykge1xuICAgIHRoaXMuaW5mb09wdCA9IG9wdGlvbnM7XG4gICAgd2luZG93Lm9uZXJyb3IgPSAobWVzc2FnZSwgdXJsLCBsaW5lLCBjb2wsIGVycm9yKSA9PiB7XG4gICAgICB0aGlzLmxvZ0luZm8gPSB7XG4gICAgICAgIC4uLnRoaXMuaW5mb09wdCxcbiAgICAgICAgdW5pcXVlSWQ6IHV1aWQoKSxcbiAgICAgICAgY2F0ZWdvcnk6IEVycm9yc0NhdGVnb3J5LkpTX0VSUk9SLFxuICAgICAgICBncmFkZTogR3JhZGVUeXBlRW51bS5FUlJPUixcbiAgICAgICAgZXJyb3JVcmw6IHVybCxcbiAgICAgICAgbGluZSxcbiAgICAgICAgY29sLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBjb2xsZWN0b3I6IG9wdGlvbnMuY29sbGVjdG9yLFxuICAgICAgICBzdGFjazogZXJyb3IgPyBlcnJvci5zdGFjayA6ICcnLFxuICAgICAgfTtcbiAgICAgIHRoaXMudHJhY2VJbmZvKCk7XG4gICAgfTtcbiAgfVxuICBzZXRPcHRpb25zKG9wdDogQ3VzdG9tUmVwb3J0T3B0aW9ucykge1xuICAgIHRoaXMuaW5mb09wdCA9IG9wdDtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgbmV3IEpTRXJyb3JzKCk7XG4iLCJcblxuaW1wb3J0IHV1aWQgZnJvbSAnLi4vc2VydmljZXMvdXVpZCc7XG5pbXBvcnQgQmFzZSBmcm9tICcuLi9zZXJ2aWNlcy9iYXNlJztcbmltcG9ydCB7IEdyYWRlVHlwZUVudW0sIEVycm9yc0NhdGVnb3J5IH0gZnJvbSAnLi4vc2VydmljZXMvY29uc3RhbnQnO1xuaW1wb3J0IHsgQ3VzdG9tUmVwb3J0T3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzJztcblxuY2xhc3MgUHJvbWlzZUVycm9ycyBleHRlbmRzIEJhc2Uge1xuICBwcml2YXRlIGluZm9PcHQ6IEN1c3RvbVJlcG9ydE9wdGlvbnMgPSB7XG4gICAgc2VydmljZTogJycsXG4gICAgcGFnZVBhdGg6ICcnLFxuICAgIHNlcnZpY2VWZXJzaW9uOiAnJyxcbiAgfTtcbiAgcHVibGljIGhhbmRsZUVycm9ycyhvcHRpb25zOiBDdXN0b21SZXBvcnRPcHRpb25zKSB7XG4gICAgdGhpcy5pbmZvT3B0ID0gb3B0aW9ucztcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndW5oYW5kbGVkcmVqZWN0aW9uJywgKGV2ZW50KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgdXJsID0gJyc7XG4gICAgICAgIGlmICghZXZlbnQgfHwgIWV2ZW50LnJlYXNvbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQucmVhc29uLmNvbmZpZyAmJiBldmVudC5yZWFzb24uY29uZmlnLnVybCkge1xuICAgICAgICAgIHVybCA9IGV2ZW50LnJlYXNvbi5jb25maWcudXJsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nSW5mbyA9IHtcbiAgICAgICAgICAuLi50aGlzLmluZm9PcHQsXG4gICAgICAgICAgdW5pcXVlSWQ6IHV1aWQoKSxcbiAgICAgICAgICBjYXRlZ29yeTogRXJyb3JzQ2F0ZWdvcnkuUFJPTUlTRV9FUlJPUixcbiAgICAgICAgICBncmFkZTogR3JhZGVUeXBlRW51bS5FUlJPUixcbiAgICAgICAgICBlcnJvclVybDogdXJsIHx8IGxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgbWVzc2FnZTogZXZlbnQucmVhc29uLm1lc3NhZ2UsXG4gICAgICAgICAgc3RhY2s6IGV2ZW50LnJlYXNvbi5zdGFjayxcbiAgICAgICAgICBjb2xsZWN0b3I6IG9wdGlvbnMuY29sbGVjdG9yLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMudHJhY2VJbmZvKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgc2V0T3B0aW9ucyhvcHQ6IEN1c3RvbVJlcG9ydE9wdGlvbnMpIHtcbiAgICB0aGlzLmluZm9PcHQgPSBvcHQ7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IG5ldyBQcm9taXNlRXJyb3JzKCk7XG4iLCJcblxuaW1wb3J0IHV1aWQgZnJvbSAnLi4vc2VydmljZXMvdXVpZCc7XG5pbXBvcnQgQmFzZSBmcm9tICcuLi9zZXJ2aWNlcy9iYXNlJztcbmltcG9ydCB7IEdyYWRlVHlwZUVudW0sIEVycm9yc0NhdGVnb3J5LCBSZXBvcnRUeXBlcyB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbnN0YW50JztcbmltcG9ydCB7IEN1c3RvbVJlcG9ydE9wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5cbmNsYXNzIEFqYXhFcnJvcnMgZXh0ZW5kcyBCYXNlIHtcbiAgcHJpdmF0ZSBpbmZvT3B0OiBDdXN0b21SZXBvcnRPcHRpb25zID0ge1xuICAgIHNlcnZpY2U6ICcnLFxuICAgIHBhZ2VQYXRoOiAnJyxcbiAgICBzZXJ2aWNlVmVyc2lvbjogJycsXG4gIH07XG4gIC8vIGdldCBodHRwIGVycm9yIGluZm9cbiAgcHVibGljIGhhbmRsZUVycm9yKG9wdGlvbnM6IEN1c3RvbVJlcG9ydE9wdGlvbnMpIHtcbiAgICAvLyBYTUxIdHRwUmVxdWVzdCBPYmplY3RcbiAgICBpZiAoIXdpbmRvdy5YTUxIdHRwUmVxdWVzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmluZm9PcHQgPSBvcHRpb25zO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ3hoclJlYWR5U3RhdGVDaGFuZ2UnLFxuICAgICAgKGV2ZW50OiBDdXN0b21FdmVudDxYTUxIdHRwUmVxdWVzdCAmIHsgZ2V0UmVxdWVzdENvbmZpZzogYW55W10gfT4pID0+IHtcbiAgICAgICAgY29uc3QgZGV0YWlsID0gZXZlbnQuZGV0YWlsO1xuXG4gICAgICAgIGlmIChkZXRhaWwucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGV0YWlsLmdldFJlcXVlc3RDb25maWdbMV0gPT09IG9wdGlvbnMuY29sbGVjdG9yICsgUmVwb3J0VHlwZXMuRVJST1JTKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZXRhaWwuc3RhdHVzICE9PSAwICYmIGRldGFpbC5zdGF0dXMgPCA0MDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvZ0luZm8gPSB7XG4gICAgICAgICAgLi4udGhpcy5pbmZvT3B0LFxuICAgICAgICAgIHVuaXF1ZUlkOiB1dWlkKCksXG4gICAgICAgICAgY2F0ZWdvcnk6IEVycm9yc0NhdGVnb3J5LkFKQVhfRVJST1IsXG4gICAgICAgICAgZ3JhZGU6IEdyYWRlVHlwZUVudW0uRVJST1IsXG4gICAgICAgICAgZXJyb3JVcmw6IGRldGFpbC5nZXRSZXF1ZXN0Q29uZmlnWzFdLFxuICAgICAgICAgIG1lc3NhZ2U6IGBzdGF0dXM6ICR7ZGV0YWlsLnN0YXR1c307IHN0YXR1c1RleHQ6ICR7ZGV0YWlsLnN0YXR1c1RleHR9O2AsXG4gICAgICAgICAgY29sbGVjdG9yOiBvcHRpb25zLmNvbGxlY3RvcixcbiAgICAgICAgICBzdGFjazogZGV0YWlsLnJlc3BvbnNlVGV4dCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50cmFjZUluZm8oKTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuICBzZXRPcHRpb25zKG9wdDogQ3VzdG9tUmVwb3J0T3B0aW9ucykge1xuICAgIHRoaXMuaW5mb09wdCA9IG9wdDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQWpheEVycm9ycygpO1xuIiwiXG5cbmltcG9ydCB1dWlkIGZyb20gJy4uL3NlcnZpY2VzL3V1aWQnO1xuaW1wb3J0IEJhc2UgZnJvbSAnLi4vc2VydmljZXMvYmFzZSc7XG5pbXBvcnQgeyBHcmFkZVR5cGVFbnVtLCBFcnJvcnNDYXRlZ29yeSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbnN0YW50JztcbmltcG9ydCB7IEN1c3RvbVJlcG9ydE9wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5cbmNsYXNzIFJlc291cmNlRXJyb3JzIGV4dGVuZHMgQmFzZSB7XG4gIHByaXZhdGUgaW5mb09wdDogQ3VzdG9tUmVwb3J0T3B0aW9ucyA9IHtcbiAgICBzZXJ2aWNlOiAnJyxcbiAgICBwYWdlUGF0aDogJycsXG4gICAgc2VydmljZVZlcnNpb246ICcnLFxuICB9O1xuICBwdWJsaWMgaGFuZGxlRXJyb3JzKG9wdGlvbnM6IEN1c3RvbVJlcG9ydE9wdGlvbnMpIHtcbiAgICB0aGlzLmluZm9PcHQgPSBvcHRpb25zO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIChldmVudCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXQ6IGFueSA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgY29uc3QgaXNFbGVtZW50VGFyZ2V0ID1cbiAgICAgICAgICB0YXJnZXQgaW5zdGFuY2VvZiBIVE1MU2NyaXB0RWxlbWVudCB8fFxuICAgICAgICAgIHRhcmdldCBpbnN0YW5jZW9mIEhUTUxMaW5rRWxlbWVudCB8fFxuICAgICAgICAgIHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKCFpc0VsZW1lbnRUYXJnZXQpIHtcbiAgICAgICAgICAvLyByZXR1cm4ganMgZXJyb3JcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dJbmZvID0ge1xuICAgICAgICAgIC4uLnRoaXMuaW5mb09wdCxcbiAgICAgICAgICB1bmlxdWVJZDogdXVpZCgpLFxuICAgICAgICAgIGNhdGVnb3J5OiBFcnJvcnNDYXRlZ29yeS5SRVNPVVJDRV9FUlJPUixcbiAgICAgICAgICBncmFkZTogdGFyZ2V0LnRhZ05hbWUgPT09ICdJTUcnID8gR3JhZGVUeXBlRW51bS5XQVJOSU5HIDogR3JhZGVUeXBlRW51bS5FUlJPUixcbiAgICAgICAgICBlcnJvclVybDogKHRhcmdldCBhcyBIVE1MU2NyaXB0RWxlbWVudCkuc3JjIHx8ICh0YXJnZXQgYXMgSFRNTExpbmtFbGVtZW50KS5ocmVmIHx8IGxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgbWVzc2FnZTogYGxvYWQgJHt0YXJnZXQudGFnTmFtZX0gcmVzb3VyY2UgZXJyb3JgLFxuICAgICAgICAgIGNvbGxlY3Rvcjogb3B0aW9ucy5jb2xsZWN0b3IsXG4gICAgICAgICAgc3RhY2s6IGBsb2FkICR7dGFyZ2V0LnRhZ05hbWV9IHJlc291cmNlIGVycm9yYCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50cmFjZUluZm8oKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHNldE9wdGlvbnMob3B0OiBDdXN0b21SZXBvcnRPcHRpb25zKSB7XG4gICAgdGhpcy5pbmZvT3B0ID0gb3B0O1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBuZXcgUmVzb3VyY2VFcnJvcnMoKTtcbiIsIlxuXG5pbXBvcnQgdXVpZCBmcm9tICcuLi9zZXJ2aWNlcy91dWlkJztcbmltcG9ydCBCYXNlIGZyb20gJy4uL3NlcnZpY2VzL2Jhc2UnO1xuaW1wb3J0IHsgR3JhZGVUeXBlRW51bSwgRXJyb3JzQ2F0ZWdvcnkgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb25zdGFudCc7XG5pbXBvcnQgeyBDdXN0b21SZXBvcnRPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jbGFzcyBWdWVFcnJvcnMgZXh0ZW5kcyBCYXNlIHtcbiAgcHJpdmF0ZSBpbmZvT3B0OiBDdXN0b21SZXBvcnRPcHRpb25zID0ge1xuICAgIHNlcnZpY2U6ICcnLFxuICAgIHBhZ2VQYXRoOiAnJyxcbiAgICBzZXJ2aWNlVmVyc2lvbjogJycsXG4gIH07XG4gIHB1YmxpYyBoYW5kbGVFcnJvcnMob3B0aW9uczogQ3VzdG9tUmVwb3J0T3B0aW9ucywgVnVlOiBhbnkpIHtcbiAgICB0aGlzLmluZm9PcHQgPSBvcHRpb25zO1xuICAgIGlmICghKFZ1ZSAmJiBWdWUuY29uZmlnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBWdWUuY29uZmlnLmVycm9ySGFuZGxlciA9IChlcnJvcjogRXJyb3IsIHZtOiBhbnksIGluZm86IHN0cmluZykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5sb2dJbmZvID0ge1xuICAgICAgICAgIC4uLnRoaXMuaW5mb09wdCxcbiAgICAgICAgICB1bmlxdWVJZDogdXVpZCgpLFxuICAgICAgICAgIGNhdGVnb3J5OiBFcnJvcnNDYXRlZ29yeS5WVUVfRVJST1IsXG4gICAgICAgICAgZ3JhZGU6IEdyYWRlVHlwZUVudW0uRVJST1IsXG4gICAgICAgICAgZXJyb3JVcmw6IGxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgbWVzc2FnZTogaW5mbyxcbiAgICAgICAgICBjb2xsZWN0b3I6IG9wdGlvbnMuY29sbGVjdG9yLFxuICAgICAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50cmFjZUluZm8oKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgc2V0T3B0aW9ucyhvcHQ6IEN1c3RvbVJlcG9ydE9wdGlvbnMpIHtcbiAgICB0aGlzLmluZm9PcHQgPSBvcHQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZUVycm9ycygpO1xuIiwiXG5cbmltcG9ydCB1dWlkIGZyb20gJy4uL3NlcnZpY2VzL3V1aWQnO1xuaW1wb3J0IEJhc2UgZnJvbSAnLi4vc2VydmljZXMvYmFzZSc7XG5pbXBvcnQgeyBHcmFkZVR5cGVFbnVtLCBFcnJvcnNDYXRlZ29yeSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbnN0YW50JztcbmltcG9ydCB7IEN1c3RvbVJlcG9ydE9wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5cbmNsYXNzIEZyYW1lRXJyb3JzIGV4dGVuZHMgQmFzZSB7XG4gIHByaXZhdGUgaW5mb09wdDogQ3VzdG9tUmVwb3J0T3B0aW9ucyA9IHtcbiAgICBzZXJ2aWNlOiAnJyxcbiAgICBwYWdlUGF0aDogJycsXG4gICAgc2VydmljZVZlcnNpb246ICcnLFxuICB9O1xuICBwdWJsaWMgaGFuZGxlRXJyb3JzKG9wdGlvbnM6IEN1c3RvbVJlcG9ydE9wdGlvbnMsIGVycm9yOiBFcnJvcikge1xuICAgIHRoaXMuaW5mb09wdCA9IG9wdGlvbnM7XG4gICAgdGhpcy5sb2dJbmZvID0ge1xuICAgICAgLi4udGhpcy5pbmZvT3B0LFxuICAgICAgdW5pcXVlSWQ6IHV1aWQoKSxcbiAgICAgIGNhdGVnb3J5OiBFcnJvcnNDYXRlZ29yeS5KU19FUlJPUixcbiAgICAgIGdyYWRlOiBHcmFkZVR5cGVFbnVtLkVSUk9SLFxuICAgICAgZXJyb3JVcmw6IGVycm9yLm5hbWUgfHwgbG9jYXRpb24uaHJlZixcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBjb2xsZWN0b3I6IG9wdGlvbnMuY29sbGVjdG9yIHx8IGxvY2F0aW9uLm9yaWdpbixcbiAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICB9O1xuICAgIHRoaXMudHJhY2VJbmZvKCk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IG5ldyBGcmFtZUVycm9ycygpO1xuIiwiXG5pbXBvcnQgeyBJUGVyZkRldGFpbCB9IGZyb20gJy4vdHlwZSc7XG5jbGFzcyBQYWdlUGVyZiB7XG4gIHB1YmxpYyBnZXRQZXJmVGltaW5nKCk6IElQZXJmRGV0YWlsIHtcbiAgICB0cnkge1xuICAgICAgbGV0IHsgdGltaW5nIH0gPSB3aW5kb3cucGVyZm9ybWFuY2UgYXMgUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nIHwgYW55OyAvLyBQZXJmb3JtYW5jZVRpbWluZ1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IG50MlRpbWluZyA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoJ25hdmlnYXRpb24nKVswXTtcblxuICAgICAgICBpZiAobnQyVGltaW5nKSB7XG4gICAgICAgICAgdGltaW5nID0gbnQyVGltaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgcmVkaXJlY3RUaW1lID0gMDtcblxuICAgICAgaWYgKHRpbWluZy5uYXZpZ2F0aW9uU3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZWRpcmVjdFRpbWUgPSBwYXJzZUludChTdHJpbmcodGltaW5nLmZldGNoU3RhcnQgLSB0aW1pbmcubmF2aWdhdGlvblN0YXJ0KSwgMTApO1xuICAgICAgfSBlbHNlIGlmICh0aW1pbmcucmVkaXJlY3RFbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZWRpcmVjdFRpbWUgPSBwYXJzZUludChTdHJpbmcodGltaW5nLnJlZGlyZWN0RW5kIC0gdGltaW5nLnJlZGlyZWN0U3RhcnQpLCAxMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWRpcmVjdFRpbWUgPSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZWRpcmVjdFRpbWUsXG4gICAgICAgIGRuc1RpbWU6IHBhcnNlSW50KFN0cmluZyh0aW1pbmcuZG9tYWluTG9va3VwRW5kIC0gdGltaW5nLmRvbWFpbkxvb2t1cFN0YXJ0KSwgMTApLFxuICAgICAgICB0dGZiVGltZTogcGFyc2VJbnQoU3RyaW5nKHRpbWluZy5yZXNwb25zZVN0YXJ0IC0gdGltaW5nLnJlcXVlc3RTdGFydCksIDEwKSwgLy8gVGltZSB0byBGaXJzdCBCeXRlXG4gICAgICAgIHRjcFRpbWU6IHBhcnNlSW50KFN0cmluZyh0aW1pbmcuY29ubmVjdEVuZCAtIHRpbWluZy5jb25uZWN0U3RhcnQpLCAxMCksXG4gICAgICAgIHRyYW5zVGltZTogcGFyc2VJbnQoU3RyaW5nKHRpbWluZy5yZXNwb25zZUVuZCAtIHRpbWluZy5yZXNwb25zZVN0YXJ0KSwgMTApLFxuICAgICAgICBkb21BbmFseXNpc1RpbWU6IHBhcnNlSW50KFN0cmluZyh0aW1pbmcuZG9tSW50ZXJhY3RpdmUgLSB0aW1pbmcucmVzcG9uc2VFbmQpLCAxMCksXG4gICAgICAgIGZwdFRpbWU6IHBhcnNlSW50KFN0cmluZyh0aW1pbmcucmVzcG9uc2VFbmQgLSB0aW1pbmcuZmV0Y2hTdGFydCksIDEwKSwgLy8gRmlyc3QgUGFpbnQgVGltZSBvciBCbGFuayBTY3JlZW4gVGltZVxuICAgICAgICBkb21SZWFkeVRpbWU6IHBhcnNlSW50KFN0cmluZyh0aW1pbmcuZG9tQ29udGVudExvYWRlZEV2ZW50RW5kIC0gdGltaW5nLmZldGNoU3RhcnQpLCAxMCksXG4gICAgICAgIGxvYWRQYWdlVGltZTogcGFyc2VJbnQoU3RyaW5nKHRpbWluZy5sb2FkRXZlbnRTdGFydCAtIHRpbWluZy5mZXRjaFN0YXJ0KSwgMTApLCAvLyBQYWdlIGZ1bGwgbG9hZCB0aW1lXG4gICAgICAgIC8vIFN5bmNocm9ub3VzIGxvYWQgcmVzb3VyY2VzIGluIHRoZSBwYWdlXG4gICAgICAgIHJlc1RpbWU6IHBhcnNlSW50KFN0cmluZyh0aW1pbmcubG9hZEV2ZW50U3RhcnQgLSB0aW1pbmcuZG9tQ29udGVudExvYWRlZEV2ZW50RW5kKSwgMTApLFxuICAgICAgICAvLyBPbmx5IHZhbGlkIGZvciBIVFRQU1xuICAgICAgICBzc2xUaW1lOlxuICAgICAgICAgIGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiB0aW1pbmcuc2VjdXJlQ29ubmVjdGlvblN0YXJ0ID4gMFxuICAgICAgICAgICAgPyBwYXJzZUludChTdHJpbmcodGltaW5nLmNvbm5lY3RFbmQgLSB0aW1pbmcuc2VjdXJlQ29ubmVjdGlvblN0YXJ0KSwgMTApXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgdHRsVGltZTogcGFyc2VJbnQoU3RyaW5nKHRpbWluZy5kb21JbnRlcmFjdGl2ZSAtIHRpbWluZy5mZXRjaFN0YXJ0KSwgMTApLCAvLyB0aW1lIHRvIGludGVyYWN0XG4gICAgICAgIGZpcnN0UGFja1RpbWU6IHBhcnNlSW50KFN0cmluZyh0aW1pbmcucmVzcG9uc2VTdGFydCAtIHRpbWluZy5kb21haW5Mb29rdXBTdGFydCksIDEwKSwgLy8gZmlyc3QgcGFjayB0aW1lXG4gICAgICAgIGZtcFRpbWU6IDAsIC8vIEZpcnN0IE1lYW5pbmdmdWwgUGFpbnRcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGFnZVBlcmY7XG4iLCJcbmltcG9ydCB7IElDYWxTY29yZSwgRWxlbWVudExpc3QgfSBmcm9tICcuL3R5cGUnO1xuXG5jb25zdCBnZXRTdHlsZSA9IChlbGVtZW50OiBFbGVtZW50IHwgYW55LCBhdHRyOiBhbnkpID0+IHtcbiAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpW2F0dHJdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBlbGVtZW50LmN1cnJlbnRTdHlsZVthdHRyXTtcbiAgfVxufTtcbi8vIGVsZW1lbnQgd2VpZ2h0IGZvciBjYWxjdWxhdGUgc2NvcmVcbmVudW0gRUxFX1dFSUdIVCB7XG4gIFNWRyA9IDIsXG4gIElNRyA9IDIsXG4gIENBTlZBUyA9IDQsXG4gIE9CSkVDVCA9IDQsXG4gIEVNQkVEID0gNCxcbiAgVklERU8gPSA0LFxufVxuXG5jb25zdCBTVEFSVF9USU1FOiBudW1iZXIgPSBwZXJmb3JtYW5jZS5ub3coKTtcbmNvbnN0IElHTk9SRV9UQUdfU0VUOiBzdHJpbmdbXSA9IFsnU0NSSVBUJywgJ1NUWUxFJywgJ01FVEEnLCAnSEVBRCcsICdMSU5LJ107XG5jb25zdCBMSU1JVDogbnVtYmVyID0gMzAwMDtcbmNvbnN0IFdXOiBudW1iZXIgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbmNvbnN0IFdIOiBudW1iZXIgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5jb25zdCBERUxBWTogbnVtYmVyID0gMjAwMDsgLy8gZm1wIHJldHJ5IGludGVydmFsXG5cbmNsYXNzIEZNUFRpbWluZyB7XG4gIHB1YmxpYyBmbXBUaW1lOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHN0YXR1c0NvbGxlY3RvcjogQXJyYXk8eyB0aW1lOiBudW1iZXIgfT4gPSBbXTsgLy8gbm9kZXMgY2hhbmdlIHRpbWVcbiAgcHJpdmF0ZSBmbGFnOiBib29sZWFuID0gdHJ1ZTtcbiAgcHJpdmF0ZSBvYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlciA9IG51bGw7XG4gIHByaXZhdGUgY2FsbGJhY2tDb3VudDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBlbnRyaWVzOiBhbnkgPSB7fTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAoIXBlcmZvcm1hbmNlIHx8ICFwZXJmb3JtYW5jZS5nZXRFbnRyaWVzKSB7XG4gICAgICBjb25zb2xlLmxvZygneW91ciBicm93c2VyIGRvIG5vdCBzdXBwb3J0IHBlcmZvcm1hbmNlLmdldEVudHJpZXMnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pbml0T2JzZXJ2ZXIoKTtcbiAgfVxuICBwcml2YXRlIGdldEZpcnN0U25hcFNob3QoKSB7XG4gICAgY29uc3QgdGltZTogbnVtYmVyID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgJGJvZHk6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcbiAgICBpZiAoJGJvZHkpIHtcbiAgICAgIHRoaXMuc2V0VGFnKCRib2R5LCB0aGlzLmNhbGxiYWNrQ291bnQpO1xuICAgIH1cbiAgICB0aGlzLnN0YXR1c0NvbGxlY3Rvci5wdXNoKHtcbiAgICAgIHRpbWUsXG4gICAgfSk7XG4gIH1cbiAgcHJpdmF0ZSBpbml0T2JzZXJ2ZXIoKSB7XG4gICAgdGhpcy5nZXRGaXJzdFNuYXBTaG90KCk7XG4gICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgIHRoaXMuY2FsbGJhY2tDb3VudCArPSAxO1xuICAgICAgY29uc3QgdGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgJGJvZHk6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgIGlmICgkYm9keSkge1xuICAgICAgICB0aGlzLnNldFRhZygkYm9keSwgdGhpcy5jYWxsYmFja0NvdW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdHVzQ29sbGVjdG9yLnB1c2goe1xuICAgICAgICB0aW1lLFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgLy8gb2JzZXJ2ZSBhbGwgY2hpbGQgbm9kZXNcbiAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgfSk7XG4gICAgdGhpcy5jYWxjdWxhdGVGaW5hbFNjb3JlKCk7XG4gIH1cbiAgcHJpdmF0ZSBjYWxjdWxhdGVGaW5hbFNjb3JlKCkge1xuICAgIGlmICghdGhpcy5mbGFnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5jaGVja05lZWRDYW5jZWwoU1RBUlRfVElNRSkpIHtcbiAgICAgIC8vIGNhbmNlbCBvYnNlcnZlciBmb3IgZG9tIGNoYW5nZVxuICAgICAgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB0aGlzLmZsYWcgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHJlcyA9IHRoaXMuZ2V0VHJlZVNjb3JlKGRvY3VtZW50LmJvZHkpO1xuICAgICAgbGV0IHRwOiBJQ2FsU2NvcmUgPSBudWxsO1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHJlcy5kcHNzKSB7XG4gICAgICAgIGlmICh0cCAmJiB0cC5zdCkge1xuICAgICAgICAgIGlmICh0cC5zdCA8IGl0ZW0uc3QpIHtcbiAgICAgICAgICAgIHRwID0gaXRlbTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHAgPSBpdGVtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBHZXQgYWxsIG9mIHNvdXJlcyBsb2FkIHRpbWVcbiAgICAgIHBlcmZvcm1hbmNlLmdldEVudHJpZXMoKS5mb3JFYWNoKChpdGVtOiBQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nKSA9PiB7XG4gICAgICAgIHRoaXMuZW50cmllc1tpdGVtLm5hbWVdID0gaXRlbS5yZXNwb25zZUVuZDtcbiAgICAgIH0pO1xuICAgICAgaWYgKCF0cCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHRFbHM6IEVsZW1lbnRMaXN0ID0gdGhpcy5maWx0ZXJSZXN1bHQodHAuZWxzKTtcbiAgICAgIGNvbnN0IGZtcFRpbWluZzogbnVtYmVyID0gdGhpcy5nZXRGbXBUaW1lKHJlc3VsdEVscyk7XG4gICAgICB0aGlzLmZtcFRpbWUgPSBmbXBUaW1pbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZUZpbmFsU2NvcmUoKTtcbiAgICAgIH0sIERFTEFZKTtcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBnZXRGbXBUaW1lKHJlc3VsdEVsczogRWxlbWVudExpc3QpOiBudW1iZXIge1xuICAgIGxldCBydCA9IDA7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHJlc3VsdEVscykge1xuICAgICAgbGV0IHRpbWU6IG51bWJlciA9IDA7XG4gICAgICBpZiAoaXRlbS53ZWlnaHQgPT09IDEpIHtcbiAgICAgICAgY29uc3QgaW5kZXg6IG51bWJlciA9IHBhcnNlSW50KGl0ZW0uZWxlLmdldEF0dHJpYnV0ZSgnZm1wX2MnKSwgMTApO1xuICAgICAgICB0aW1lID0gdGhpcy5zdGF0dXNDb2xsZWN0b3JbaW5kZXhdICYmIHRoaXMuc3RhdHVzQ29sbGVjdG9yW2luZGV4XS50aW1lO1xuICAgICAgfSBlbHNlIGlmIChpdGVtLndlaWdodCA9PT0gMikge1xuICAgICAgICBpZiAoaXRlbS5lbGUudGFnTmFtZSA9PT0gJ0lNRycpIHtcbiAgICAgICAgICB0aW1lID0gdGhpcy5lbnRyaWVzWyhpdGVtLmVsZSBhcyBIVE1MSW1hZ2VFbGVtZW50KS5zcmNdO1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uZWxlLnRhZ05hbWUgPT09ICdTVkcnKSB7XG4gICAgICAgICAgY29uc3QgaW5kZXg6IG51bWJlciA9IHBhcnNlSW50KGl0ZW0uZWxlLmdldEF0dHJpYnV0ZSgnZm1wX2MnKSwgMTApO1xuICAgICAgICAgIHRpbWUgPSB0aGlzLnN0YXR1c0NvbGxlY3RvcltpbmRleF0gJiYgdGhpcy5zdGF0dXNDb2xsZWN0b3JbaW5kZXhdLnRpbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbWF0Y2ggPSBnZXRTdHlsZShpdGVtLmVsZSwgJ2JhY2tncm91bmQtaW1hZ2UnKS5tYXRjaCgvdXJsXFwoXFxcIiguKj8pXFxcIlxcKS8pO1xuICAgICAgICAgIGxldCB1cmw6IHN0cmluZyA9ICcnO1xuICAgICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgICAgICAgICAgdXJsID0gbWF0Y2hbMV07XG4gICAgICAgICAgICBpZiAoIXVybC5pbmNsdWRlcygnaHR0cCcpKSB7XG4gICAgICAgICAgICAgIHVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgbWF0Y2hbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRpbWUgPSB0aGlzLmVudHJpZXNbdXJsXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpdGVtLndlaWdodCA9PT0gNCkge1xuICAgICAgICBpZiAoaXRlbS5lbGUudGFnTmFtZSA9PT0gJ0NBTlZBUycpIHtcbiAgICAgICAgICBjb25zdCBpbmRleDogbnVtYmVyID0gcGFyc2VJbnQoaXRlbS5lbGUuZ2V0QXR0cmlidXRlKCdmbXBfYycpLCAxMCk7XG4gICAgICAgICAgdGltZSA9IHRoaXMuc3RhdHVzQ29sbGVjdG9yW2luZGV4XSAmJiB0aGlzLnN0YXR1c0NvbGxlY3RvcltpbmRleF0udGltZTtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmVsZS50YWdOYW1lID09PSAnVklERU8nKSB7XG4gICAgICAgICAgdGltZSA9IHRoaXMuZW50cmllc1soaXRlbS5lbGUgYXMgSFRNTFZpZGVvRWxlbWVudCkuc3JjXTtcbiAgICAgICAgICBpZiAoIXRpbWUpIHtcbiAgICAgICAgICAgIHRpbWUgPSB0aGlzLmVudHJpZXNbKGl0ZW0uZWxlIGFzIEhUTUxWaWRlb0VsZW1lbnQpLnBvc3Rlcl07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHRpbWUgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRpbWUgPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHJ0IDwgdGltZSkge1xuICAgICAgICBydCA9IHRpbWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydDtcbiAgfVxuICAvKipcbiAgICogVGhlIG5vZGVzIHdpdGggdGhlIGhpZ2hlc3Qgc2NvcmUgaW4gdGhlIHZpc2libGUgYXJlYSBhcmUgY29sbGVjdGVkIGFuZCB0aGUgYXZlcmFnZSB2YWx1ZSBpcyB0YWtlbixcbiAgICogYW5kIHRoZSBsb3cgc2NvcmUgb25lcyBhcmUgZWxpbWluYXRlZFxuICAgKi9cbiAgcHJpdmF0ZSBmaWx0ZXJSZXN1bHQoZWxzOiBFbGVtZW50TGlzdCk6IEVsZW1lbnRMaXN0IHtcbiAgICBpZiAoZWxzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIGVscztcbiAgICB9XG4gICAgbGV0IHN1bTogbnVtYmVyID0gMDtcbiAgICBlbHMuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7XG4gICAgICBzdW0gKz0gaXRlbS5zdDtcbiAgICB9KTtcbiAgICBjb25zdCBhdmc6IG51bWJlciA9IHN1bSAvIGVscy5sZW5ndGg7XG4gICAgcmV0dXJuIGVscy5maWx0ZXIoKGl0ZW06IGFueSkgPT4ge1xuICAgICAgcmV0dXJuIGl0ZW0uc3QgPiBhdmc7XG4gICAgfSk7XG4gIH1cbiAgcHJpdmF0ZSBjaGVja05lZWRDYW5jZWwoc3RhcnQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHRpbWU6IG51bWJlciA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQ7XG4gICAgY29uc3QgbGFzdENhbFRpbWU6IG51bWJlciA9XG4gICAgICB0aGlzLnN0YXR1c0NvbGxlY3Rvci5sZW5ndGggPiAwID8gdGhpcy5zdGF0dXNDb2xsZWN0b3JbdGhpcy5zdGF0dXNDb2xsZWN0b3IubGVuZ3RoIC0gMV0udGltZSA6IDA7XG4gICAgcmV0dXJuIHRpbWUgPiBMSU1JVCB8fCB0aW1lIC0gbGFzdENhbFRpbWUgPiAxMDAwO1xuICB9XG4gIHByaXZhdGUgZ2V0VHJlZVNjb3JlKG5vZGU6IEVsZW1lbnQpOiBJQ2FsU2NvcmUgfCBhbnkge1xuICAgIGlmICghbm9kZSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCBkcHNzID0gW107XG4gICAgY29uc3QgY2hpbGRyZW46IGFueSA9IG5vZGUuY2hpbGRyZW47XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgLy8gT25seSBjYWxjdWxhdGUgbWFya2VkIGVsZW1lbnRzXG4gICAgICBpZiAoIWNoaWxkLmdldEF0dHJpYnV0ZSgnZm1wX2MnKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHMgPSB0aGlzLmdldFRyZWVTY29yZShjaGlsZCk7XG4gICAgICBpZiAocy5zdCkge1xuICAgICAgICBkcHNzLnB1c2gocyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2FsY2F1bHRlR3JhZGVzKG5vZGUsIGRwc3MpO1xuICB9XG4gIHByaXZhdGUgY2FsY2F1bHRlR3JhZGVzKGVsZTogRWxlbWVudCwgZHBzczogSUNhbFNjb3JlW10pOiBJQ2FsU2NvcmUge1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgbGVmdCwgdG9wIH0gPSBlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGlzSW5WaWV3UG9ydDogYm9vbGVhbiA9IHRydWU7XG4gICAgaWYgKFdIIDwgdG9wIHx8IFdXIDwgbGVmdCkge1xuICAgICAgaXNJblZpZXdQb3J0ID0gZmFsc2U7XG4gICAgfVxuICAgIGxldCBzZHA6IG51bWJlciA9IDA7XG4gICAgZHBzcy5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcbiAgICAgIHNkcCArPSBpdGVtLnN0O1xuICAgIH0pO1xuICAgIGxldCB3ZWlnaHQ6IG51bWJlciA9IE51bWJlcihFTEVfV0VJR0hUW2VsZS50YWdOYW1lIGFzIGFueV0pIHx8IDE7XG4gICAgLy8gSWYgdGhlcmUgaXMgYSBjb21tb24gZWxlbWVudCBvZiB0aGUgYmFja2dyb3VuZCBpbWFnZSwgaXQgaXMgY2FsY3VsYXRlZCBhY2NvcmRpbmcgdG8gdGhlIHBpY3R1cmVcbiAgICBpZiAoXG4gICAgICB3ZWlnaHQgPT09IDEgJiZcbiAgICAgIGdldFN0eWxlKGVsZSwgJ2JhY2tncm91bmQtaW1hZ2UnKSAmJlxuICAgICAgZ2V0U3R5bGUoZWxlLCAnYmFja2dyb3VuZC1pbWFnZScpICE9PSAnaW5pdGlhbCcgJiZcbiAgICAgIGdldFN0eWxlKGVsZSwgJ2JhY2tncm91bmQtaW1hZ2UnKSAhPT0gJ25vbmUnXG4gICAgKSB7XG4gICAgICB3ZWlnaHQgPSBFTEVfV0VJR0hULklNRztcbiAgICB9XG4gICAgLy8gc2NvcmUgPSB0aGUgYXJlYSBvZiBlbGVtZW50XG4gICAgbGV0IHN0OiBudW1iZXIgPSBpc0luVmlld1BvcnQgPyB3aWR0aCAqIGhlaWdodCAqIHdlaWdodCA6IDA7XG4gICAgbGV0IGVscyA9IFt7IGVsZSwgc3QsIHdlaWdodCB9XTtcbiAgICBjb25zdCByb290ID0gZWxlO1xuICAgIC8vIFRoZSBwZXJjZW50YWdlIG9mIHRoZSBjdXJyZW50IGVsZW1lbnQgaW4gdGhlIHZpZXdwb3J0XG4gICAgY29uc3QgYXJlYVBlcmNlbnQgPSB0aGlzLmNhbGN1bGF0ZUFyZWFQYXJlbnQoZWxlKTtcbiAgICAvLyBJZiB0aGUgc3VtIG9mIHRoZSBjaGlsZCdzIHdlaWdodHMgaXMgZ3JlYXRlciB0aGFuIHRoZSBwYXJlbnQncyB0cnVlIHdlaWdodFxuICAgIGlmIChzZHAgPiBzdCAqIGFyZWFQZXJjZW50IHx8IGFyZWFQZXJjZW50ID09PSAwKSB7XG4gICAgICBzdCA9IHNkcDtcbiAgICAgIGVscyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGRwc3MpIHtcbiAgICAgICAgZWxzID0gZWxzLmNvbmNhdChpdGVtLmVscyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBkcHNzLFxuICAgICAgc3QsXG4gICAgICBlbHMsXG4gICAgICByb290LFxuICAgIH07XG4gIH1cbiAgcHJpdmF0ZSBjYWxjdWxhdGVBcmVhUGFyZW50KGVsZTogRWxlbWVudCk6IG51bWJlciB7XG4gICAgY29uc3QgeyBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20sIHdpZHRoLCBoZWlnaHQgfSA9IGVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB3aW5MZWZ0OiBudW1iZXIgPSAwO1xuICAgIGNvbnN0IHdpblRvcDogbnVtYmVyID0gMDtcbiAgICBjb25zdCB3aW5SaWdodDogbnVtYmVyID0gV1c7XG4gICAgY29uc3Qgd2luQm90dG9tOiBudW1iZXIgPSBXSDtcbiAgICBjb25zdCBvdmVybGFwWCA9IHJpZ2h0IC0gbGVmdCArICh3aW5SaWdodCAtIHdpbkxlZnQpIC0gKE1hdGgubWF4KHJpZ2h0LCB3aW5SaWdodCkgLSBNYXRoLm1pbihsZWZ0LCB3aW5MZWZ0KSk7XG4gICAgY29uc3Qgb3ZlcmxhcFkgPSBib3R0b20gLSB0b3AgKyAod2luQm90dG9tIC0gd2luVG9wKSAtIChNYXRoLm1heChib3R0b20sIHdpbkJvdHRvbSkgLSBNYXRoLm1pbih0b3AsIHdpblRvcCkpO1xuXG4gICAgaWYgKG92ZXJsYXBYIDw9IDAgfHwgb3ZlcmxhcFkgPD0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiAob3ZlcmxhcFggKiBvdmVybGFwWSkgLyAod2lkdGggKiBoZWlnaHQpO1xuICB9XG4gIC8vIERlcHRoIGZpcnN0IHRyYXZlcnNhbCB0byBtYXJrIG5vZGVzXG4gIHByaXZhdGUgc2V0VGFnKHRhcmdldDogRWxlbWVudCwgY2FsbGJhY2tDb3VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgdGFnTmFtZTogc3RyaW5nID0gdGFyZ2V0LnRhZ05hbWU7XG4gICAgaWYgKElHTk9SRV9UQUdfU0VULmluZGV4T2YodGFnTmFtZSkgPT09IC0xKSB7XG4gICAgICBjb25zdCAkY2hpbGRyZW46IEhUTUxDb2xsZWN0aW9uID0gdGFyZ2V0LmNoaWxkcmVuO1xuICAgICAgaWYgKCRjaGlsZHJlbiAmJiAkY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGxldCBpID0gJGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgY29uc3QgJGNoaWxkOiBFbGVtZW50ID0gJGNoaWxkcmVuW2ldO1xuICAgICAgICAgIGNvbnN0IGhhc1NldFRhZyA9ICRjaGlsZC5nZXRBdHRyaWJ1dGUoJ2ZtcF9jJykgIT09IG51bGw7XG4gICAgICAgICAgLy8gSWYgaXQgaXMgbm90IG1hcmtlZCwgd2hldGhlciB0aGUgbWFya2luZyBjb25kaXRpb24gaXMgbWV0IGlzIGRldGVjdGVkXG4gICAgICAgICAgaWYgKCFoYXNTZXRUYWcpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IH0gPSAkY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBpZiAoV0ggPCB0b3AgfHwgV1cgPCBsZWZ0IHx8IHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMCkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRjaGlsZC5zZXRBdHRyaWJ1dGUoJ2ZtcF9jJywgYCR7Y2FsbGJhY2tDb3VudH1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zZXRUYWcoJGNoaWxkLCBjYWxsYmFja0NvdW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGTVBUaW1pbmc7XG4iLCJcblxuaW1wb3J0IHsgQ3VzdG9tT3B0aW9uc1R5cGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgUmVwb3J0IGZyb20gJy4uL3NlcnZpY2VzL3JlcG9ydCc7XG5pbXBvcnQgcGFnZVBlcmYgZnJvbSAnLi9wZXJmJztcbmltcG9ydCBGTVAgZnJvbSAnLi9mbXAnO1xuaW1wb3J0IHsgSVBlcmZEZXRhaWwgfSBmcm9tICcuL3R5cGUnO1xuXG5jbGFzcyBUcmFjZVBlcmYge1xuICBwcml2YXRlIHBlcmZDb25maWcgPSB7XG4gICAgcGVyZkRldGFpbDoge30sXG4gIH0gYXMgeyBwZXJmRGV0YWlsOiBJUGVyZkRldGFpbCB9O1xuXG4gIHB1YmxpYyBnZXRQZXJmKG9wdGlvbnM6IEN1c3RvbU9wdGlvbnNUeXBlKSB7XG4gICAgdGhpcy5yZWNvcmRQZXJmKG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLmVuYWJsZVNQQSkge1xuICAgICAgLy8gaGFzaCByb3V0ZXJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAnaGFzaGNoYW5nZScsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlY29yZFBlcmYob3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZhbHNlLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgcmVjb3JkUGVyZihvcHRpb25zOiBDdXN0b21PcHRpb25zVHlwZSkge1xuICAgIGxldCBmbXA6IHsgZm1wVGltZTogbnVtYmVyIHwgdW5kZWZpbmVkIH0gPSB7IGZtcFRpbWU6IHVuZGVmaW5lZCB9O1xuICAgIGlmIChvcHRpb25zLmF1dG9UcmFjZVBlcmYgJiYgb3B0aW9ucy51c2VGbXApIHtcbiAgICAgIGZtcCA9IGF3YWl0IG5ldyBGTVAoKTtcbiAgICB9XG4gICAgLy8gYXV0byByZXBvcnQgcHYgYW5kIHBlcmYgZGF0YVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKG9wdGlvbnMuYXV0b1RyYWNlUGVyZikge1xuICAgICAgICB0aGlzLnBlcmZDb25maWcucGVyZkRldGFpbCA9IG5ldyBwYWdlUGVyZigpLmdldFBlcmZUaW1pbmcoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBlcmZEZXRhaWwgPSBvcHRpb25zLmF1dG9UcmFjZVBlcmZcbiAgICAgICAgPyB7XG4gICAgICAgICAgICAuLi50aGlzLnBlcmZDb25maWcucGVyZkRldGFpbCxcbiAgICAgICAgICAgIGZtcFRpbWU6IG9wdGlvbnMudXNlRm1wID8gcGFyc2VJbnQoU3RyaW5nKGZtcC5mbXBUaW1lKSwgMTApIDogdW5kZWZpbmVkLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBwZXJmSW5mbyA9IHtcbiAgICAgICAgLi4ucGVyZkRldGFpbCxcbiAgICAgICAgcGFnZVBhdGg6IG9wdGlvbnMucGFnZVBhdGgsXG4gICAgICAgIHNlcnZpY2VWZXJzaW9uOiBvcHRpb25zLnNlcnZpY2VWZXJzaW9uLFxuICAgICAgICBzZXJ2aWNlOiBvcHRpb25zLnNlcnZpY2UsXG4gICAgICB9O1xuICAgICAgbmV3IFJlcG9ydCgnUEVSRicsIG9wdGlvbnMuY29sbGVjdG9yKS5zZW5kQnlYaHIocGVyZkluZm8pO1xuICAgICAgLy8gY2xlYXIgcGVyZiBkYXRhXG4gICAgICB0aGlzLmNsZWFyUGVyZigpO1xuICAgIH0sIDYwMDApO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhclBlcmYoKSB7XG4gICAgaWYgKCEod2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5jbGVhclJlc291cmNlVGltaW5ncykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2luZG93LnBlcmZvcm1hbmNlLmNsZWFyUmVzb3VyY2VUaW1pbmdzKCk7XG4gICAgdGhpcy5wZXJmQ29uZmlnID0ge1xuICAgICAgcGVyZkRldGFpbDoge30sXG4gICAgfSBhcyB7IHBlcmZEZXRhaWw6IElQZXJmRGV0YWlsIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFRyYWNlUGVyZigpO1xuIiwiLyoqXG4gKiAgYmFzZTY0LnRzXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgMy1DbGF1c2UgTGljZW5zZS5cbiAqICAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqXG4gKiAgUmVmZXJlbmNlczpcbiAqICAgIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0XG4gKlxuICogQGF1dGhvciBEYW4gS29nYWkgKGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5rb2dhaSlcbiAqL1xuY29uc3QgdmVyc2lvbiA9ICczLjcuNyc7XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBsb3dlcmNhc2UgYHZlcnNpb25gLlxuICovXG5jb25zdCBWRVJTSU9OID0gdmVyc2lvbjtcbmNvbnN0IF9oYXNCdWZmZXIgPSB0eXBlb2YgQnVmZmVyID09PSAnZnVuY3Rpb24nO1xuY29uc3QgX1REID0gdHlwZW9mIFRleHREZWNvZGVyID09PSAnZnVuY3Rpb24nID8gbmV3IFRleHREZWNvZGVyKCkgOiB1bmRlZmluZWQ7XG5jb25zdCBfVEUgPSB0eXBlb2YgVGV4dEVuY29kZXIgPT09ICdmdW5jdGlvbicgPyBuZXcgVGV4dEVuY29kZXIoKSA6IHVuZGVmaW5lZDtcbmNvbnN0IGI2NGNoID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcbmNvbnN0IGI2NGNocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGI2NGNoKTtcbmNvbnN0IGI2NHRhYiA9ICgoYSkgPT4ge1xuICAgIGxldCB0YWIgPSB7fTtcbiAgICBhLmZvckVhY2goKGMsIGkpID0+IHRhYltjXSA9IGkpO1xuICAgIHJldHVybiB0YWI7XG59KShiNjRjaHMpO1xuY29uc3QgYjY0cmUgPSAvXig/OltBLVphLXpcXGQrXFwvXXs0fSkqPyg/OltBLVphLXpcXGQrXFwvXXsyfSg/Oj09KT98W0EtWmEtelxcZCtcXC9dezN9PT8pPyQvO1xuY29uc3QgX2Zyb21DQyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYmluZChTdHJpbmcpO1xuY29uc3QgX1U4QWZyb20gPSB0eXBlb2YgVWludDhBcnJheS5mcm9tID09PSAnZnVuY3Rpb24nXG4gICAgPyBVaW50OEFycmF5LmZyb20uYmluZChVaW50OEFycmF5KVxuICAgIDogKGl0KSA9PiBuZXcgVWludDhBcnJheShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpdCwgMCkpO1xuY29uc3QgX21rVXJpU2FmZSA9IChzcmMpID0+IHNyY1xuICAgIC5yZXBsYWNlKC89L2csICcnKS5yZXBsYWNlKC9bK1xcL10vZywgKG0wKSA9PiBtMCA9PSAnKycgPyAnLScgOiAnXycpO1xuY29uc3QgX3RpZHlCNjQgPSAocykgPT4gcy5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL10vZywgJycpO1xuLyoqXG4gKiBwb2x5ZmlsbCB2ZXJzaW9uIG9mIGBidG9hYFxuICovXG5jb25zdCBidG9hUG9seWZpbGwgPSAoYmluKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coJ3BvbHlmaWxsZWQnKTtcbiAgICBsZXQgdTMyLCBjMCwgYzEsIGMyLCBhc2MgPSAnJztcbiAgICBjb25zdCBwYWQgPSBiaW4ubGVuZ3RoICUgMztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbi5sZW5ndGg7KSB7XG4gICAgICAgIGlmICgoYzAgPSBiaW4uY2hhckNvZGVBdChpKyspKSA+IDI1NSB8fFxuICAgICAgICAgICAgKGMxID0gYmluLmNoYXJDb2RlQXQoaSsrKSkgPiAyNTUgfHxcbiAgICAgICAgICAgIChjMiA9IGJpbi5jaGFyQ29kZUF0KGkrKykpID4gMjU1KVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBjaGFyYWN0ZXIgZm91bmQnKTtcbiAgICAgICAgdTMyID0gKGMwIDw8IDE2KSB8IChjMSA8PCA4KSB8IGMyO1xuICAgICAgICBhc2MgKz0gYjY0Y2hzW3UzMiA+PiAxOCAmIDYzXVxuICAgICAgICAgICAgKyBiNjRjaHNbdTMyID4+IDEyICYgNjNdXG4gICAgICAgICAgICArIGI2NGNoc1t1MzIgPj4gNiAmIDYzXVxuICAgICAgICAgICAgKyBiNjRjaHNbdTMyICYgNjNdO1xuICAgIH1cbiAgICByZXR1cm4gcGFkID8gYXNjLnNsaWNlKDAsIHBhZCAtIDMpICsgXCI9PT1cIi5zdWJzdHJpbmcocGFkKSA6IGFzYztcbn07XG4vKipcbiAqIGRvZXMgd2hhdCBgd2luZG93LmJ0b2FgIG9mIHdlYiBicm93c2VycyBkby5cbiAqIEBwYXJhbSB7U3RyaW5nfSBiaW4gYmluYXJ5IHN0cmluZ1xuICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0LWVuY29kZWQgc3RyaW5nXG4gKi9cbmNvbnN0IF9idG9hID0gdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicgPyAoYmluKSA9PiBidG9hKGJpbilcbiAgICA6IF9oYXNCdWZmZXIgPyAoYmluKSA9PiBCdWZmZXIuZnJvbShiaW4sICdiaW5hcnknKS50b1N0cmluZygnYmFzZTY0JylcbiAgICAgICAgOiBidG9hUG9seWZpbGw7XG5jb25zdCBfZnJvbVVpbnQ4QXJyYXkgPSBfaGFzQnVmZmVyXG4gICAgPyAodThhKSA9PiBCdWZmZXIuZnJvbSh1OGEpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICAgIDogKHU4YSkgPT4ge1xuICAgICAgICAvLyBjZi4gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTI3MTAwMDEvaG93LXRvLWNvbnZlcnQtdWludDgtYXJyYXktdG8tYmFzZTY0LWVuY29kZWQtc3RyaW5nLzEyNzEzMzI2IzEyNzEzMzI2XG4gICAgICAgIGNvbnN0IG1heGFyZ3MgPSAweDEwMDA7XG4gICAgICAgIGxldCBzdHJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdThhLmxlbmd0aDsgaSA8IGw7IGkgKz0gbWF4YXJncykge1xuICAgICAgICAgICAgc3Rycy5wdXNoKF9mcm9tQ0MuYXBwbHkobnVsbCwgdThhLnN1YmFycmF5KGksIGkgKyBtYXhhcmdzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfYnRvYShzdHJzLmpvaW4oJycpKTtcbiAgICB9O1xuLyoqXG4gKiBjb252ZXJ0cyBhIFVpbnQ4QXJyYXkgdG8gYSBCYXNlNjQgc3RyaW5nLlxuICogQHBhcmFtIHtib29sZWFufSBbdXJsc2FmZV0gVVJMLWFuZC1maWxlbmFtZS1zYWZlIGEgbGEgUkZDNDY0OCDCpzVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEJhc2U2NCBzdHJpbmdcbiAqL1xuY29uc3QgZnJvbVVpbnQ4QXJyYXkgPSAodThhLCB1cmxzYWZlID0gZmFsc2UpID0+IHVybHNhZmUgPyBfbWtVcmlTYWZlKF9mcm9tVWludDhBcnJheSh1OGEpKSA6IF9mcm9tVWludDhBcnJheSh1OGEpO1xuLy8gVGhpcyB0cmljayBpcyBmb3VuZCBicm9rZW4gaHR0cHM6Ly9naXRodWIuY29tL2RhbmtvZ2FpL2pzLWJhc2U2NC9pc3N1ZXMvMTMwXG4vLyBjb25zdCB1dG9iID0gKHNyYzogc3RyaW5nKSA9PiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3JjKSk7XG4vLyByZXZlcnRpbmcgZ29vZCBvbGQgZmF0aW9uZWQgcmVnZXhwXG5jb25zdCBjYl91dG9iID0gKGMpID0+IHtcbiAgICBpZiAoYy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHZhciBjYyA9IGMuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgcmV0dXJuIGNjIDwgMHg4MCA/IGNcbiAgICAgICAgICAgIDogY2MgPCAweDgwMCA/IChfZnJvbUNDKDB4YzAgfCAoY2MgPj4+IDYpKVxuICAgICAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKGNjICYgMHgzZikpKVxuICAgICAgICAgICAgICAgIDogKF9mcm9tQ0MoMHhlMCB8ICgoY2MgPj4+IDEyKSAmIDB4MGYpKVxuICAgICAgICAgICAgICAgICAgICArIF9mcm9tQ0MoMHg4MCB8ICgoY2MgPj4+IDYpICYgMHgzZikpXG4gICAgICAgICAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKGNjICYgMHgzZikpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBjYyA9IDB4MTAwMDBcbiAgICAgICAgICAgICsgKGMuY2hhckNvZGVBdCgwKSAtIDB4RDgwMCkgKiAweDQwMFxuICAgICAgICAgICAgKyAoYy5jaGFyQ29kZUF0KDEpIC0gMHhEQzAwKTtcbiAgICAgICAgcmV0dXJuIChfZnJvbUNDKDB4ZjAgfCAoKGNjID4+PiAxOCkgJiAweDA3KSlcbiAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKChjYyA+Pj4gMTIpICYgMHgzZikpXG4gICAgICAgICAgICArIF9mcm9tQ0MoMHg4MCB8ICgoY2MgPj4+IDYpICYgMHgzZikpXG4gICAgICAgICAgICArIF9mcm9tQ0MoMHg4MCB8IChjYyAmIDB4M2YpKSk7XG4gICAgfVxufTtcbmNvbnN0IHJlX3V0b2IgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGRl18W15cXHgwMC1cXHg3Rl0vZztcbi8qKlxuICogQGRlcHJlY2F0ZWQgc2hvdWxkIGhhdmUgYmVlbiBpbnRlcm5hbCB1c2Ugb25seS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgVVRGLTggc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVVEYtMTYgc3RyaW5nXG4gKi9cbmNvbnN0IHV0b2IgPSAodSkgPT4gdS5yZXBsYWNlKHJlX3V0b2IsIGNiX3V0b2IpO1xuLy9cbmNvbnN0IF9lbmNvZGUgPSBfaGFzQnVmZmVyXG4gICAgPyAocykgPT4gQnVmZmVyLmZyb20ocywgJ3V0ZjgnKS50b1N0cmluZygnYmFzZTY0JylcbiAgICA6IF9URVxuICAgICAgICA/IChzKSA9PiBfZnJvbVVpbnQ4QXJyYXkoX1RFLmVuY29kZShzKSlcbiAgICAgICAgOiAocykgPT4gX2J0b2EodXRvYihzKSk7XG4vKipcbiAqIGNvbnZlcnRzIGEgVVRGLTgtZW5jb2RlZCBzdHJpbmcgdG8gYSBCYXNlNjQgc3RyaW5nLlxuICogQHBhcmFtIHtib29sZWFufSBbdXJsc2FmZV0gaWYgYHRydWVgIG1ha2UgdGhlIHJlc3VsdCBVUkwtc2FmZVxuICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0IHN0cmluZ1xuICovXG5jb25zdCBlbmNvZGUgPSAoc3JjLCB1cmxzYWZlID0gZmFsc2UpID0+IHVybHNhZmVcbiAgICA/IF9ta1VyaVNhZmUoX2VuY29kZShzcmMpKVxuICAgIDogX2VuY29kZShzcmMpO1xuLyoqXG4gKiBjb252ZXJ0cyBhIFVURi04LWVuY29kZWQgc3RyaW5nIHRvIFVSTC1zYWZlIEJhc2U2NCBSRkM0NjQ4IMKnNS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEJhc2U2NCBzdHJpbmdcbiAqL1xuY29uc3QgZW5jb2RlVVJJID0gKHNyYykgPT4gZW5jb2RlKHNyYywgdHJ1ZSk7XG4vLyBUaGlzIHRyaWNrIGlzIGZvdW5kIGJyb2tlbiBodHRwczovL2dpdGh1Yi5jb20vZGFua29nYWkvanMtYmFzZTY0L2lzc3Vlcy8xMzBcbi8vIGNvbnN0IGJ0b3UgPSAoc3JjOiBzdHJpbmcpID0+IGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoc3JjKSk7XG4vLyByZXZlcnRpbmcgZ29vZCBvbGQgZmF0aW9uZWQgcmVnZXhwXG5jb25zdCByZV9idG91ID0gL1tcXHhDMC1cXHhERl1bXFx4ODAtXFx4QkZdfFtcXHhFMC1cXHhFRl1bXFx4ODAtXFx4QkZdezJ9fFtcXHhGMC1cXHhGN11bXFx4ODAtXFx4QkZdezN9L2c7XG5jb25zdCBjYl9idG91ID0gKGNjY2MpID0+IHtcbiAgICBzd2l0Y2ggKGNjY2MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHZhciBjcCA9ICgoMHgwNyAmIGNjY2MuY2hhckNvZGVBdCgwKSkgPDwgMTgpXG4gICAgICAgICAgICAgICAgfCAoKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMSkpIDw8IDEyKVxuICAgICAgICAgICAgICAgIHwgKCgweDNmICYgY2NjYy5jaGFyQ29kZUF0KDIpKSA8PCA2KVxuICAgICAgICAgICAgICAgIHwgKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMykpLCBvZmZzZXQgPSBjcCAtIDB4MTAwMDA7XG4gICAgICAgICAgICByZXR1cm4gKF9mcm9tQ0MoKG9mZnNldCA+Pj4gMTApICsgMHhEODAwKVxuICAgICAgICAgICAgICAgICsgX2Zyb21DQygob2Zmc2V0ICYgMHgzRkYpICsgMHhEQzAwKSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiBfZnJvbUNDKCgoMHgwZiAmIGNjY2MuY2hhckNvZGVBdCgwKSkgPDwgMTIpXG4gICAgICAgICAgICAgICAgfCAoKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMSkpIDw8IDYpXG4gICAgICAgICAgICAgICAgfCAoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgyKSkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIF9mcm9tQ0MoKCgweDFmICYgY2NjYy5jaGFyQ29kZUF0KDApKSA8PCA2KVxuICAgICAgICAgICAgICAgIHwgKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMSkpKTtcbiAgICB9XG59O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBzaG91bGQgaGF2ZSBiZWVuIGludGVybmFsIHVzZSBvbmx5LlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBVVEYtMTYgc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVVEYtOCBzdHJpbmdcbiAqL1xuY29uc3QgYnRvdSA9IChiKSA9PiBiLnJlcGxhY2UocmVfYnRvdSwgY2JfYnRvdSk7XG4vKipcbiAqIHBvbHlmaWxsIHZlcnNpb24gb2YgYGF0b2JgXG4gKi9cbmNvbnN0IGF0b2JQb2x5ZmlsbCA9IChhc2MpID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZygncG9seWZpbGxlZCcpO1xuICAgIGFzYyA9IGFzYy5yZXBsYWNlKC9cXHMrL2csICcnKTtcbiAgICBpZiAoIWI2NHJlLnRlc3QoYXNjKSlcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbWFsZm9ybWVkIGJhc2U2NC4nKTtcbiAgICBhc2MgKz0gJz09Jy5zbGljZSgyIC0gKGFzYy5sZW5ndGggJiAzKSk7XG4gICAgbGV0IHUyNCwgYmluID0gJycsIHIxLCByMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFzYy5sZW5ndGg7KSB7XG4gICAgICAgIHUyNCA9IGI2NHRhYlthc2MuY2hhckF0KGkrKyldIDw8IDE4XG4gICAgICAgICAgICB8IGI2NHRhYlthc2MuY2hhckF0KGkrKyldIDw8IDEyXG4gICAgICAgICAgICB8IChyMSA9IGI2NHRhYlthc2MuY2hhckF0KGkrKyldKSA8PCA2XG4gICAgICAgICAgICB8IChyMiA9IGI2NHRhYlthc2MuY2hhckF0KGkrKyldKTtcbiAgICAgICAgYmluICs9IHIxID09PSA2NCA/IF9mcm9tQ0ModTI0ID4+IDE2ICYgMjU1KVxuICAgICAgICAgICAgOiByMiA9PT0gNjQgPyBfZnJvbUNDKHUyNCA+PiAxNiAmIDI1NSwgdTI0ID4+IDggJiAyNTUpXG4gICAgICAgICAgICAgICAgOiBfZnJvbUNDKHUyNCA+PiAxNiAmIDI1NSwgdTI0ID4+IDggJiAyNTUsIHUyNCAmIDI1NSk7XG4gICAgfVxuICAgIHJldHVybiBiaW47XG59O1xuLyoqXG4gKiBkb2VzIHdoYXQgYHdpbmRvdy5hdG9iYCBvZiB3ZWIgYnJvd3NlcnMgZG8uXG4gKiBAcGFyYW0ge1N0cmluZ30gYXNjIEJhc2U2NC1lbmNvZGVkIHN0cmluZ1xuICogQHJldHVybnMge3N0cmluZ30gYmluYXJ5IHN0cmluZ1xuICovXG5jb25zdCBfYXRvYiA9IHR5cGVvZiBhdG9iID09PSAnZnVuY3Rpb24nID8gKGFzYykgPT4gYXRvYihfdGlkeUI2NChhc2MpKVxuICAgIDogX2hhc0J1ZmZlciA/IChhc2MpID0+IEJ1ZmZlci5mcm9tKGFzYywgJ2Jhc2U2NCcpLnRvU3RyaW5nKCdiaW5hcnknKVxuICAgICAgICA6IGF0b2JQb2x5ZmlsbDtcbi8vXG5jb25zdCBfdG9VaW50OEFycmF5ID0gX2hhc0J1ZmZlclxuICAgID8gKGEpID0+IF9VOEFmcm9tKEJ1ZmZlci5mcm9tKGEsICdiYXNlNjQnKSlcbiAgICA6IChhKSA9PiBfVThBZnJvbShfYXRvYihhKS5zcGxpdCgnJykubWFwKGMgPT4gYy5jaGFyQ29kZUF0KDApKSk7XG4vKipcbiAqIGNvbnZlcnRzIGEgQmFzZTY0IHN0cmluZyB0byBhIFVpbnQ4QXJyYXkuXG4gKi9cbmNvbnN0IHRvVWludDhBcnJheSA9IChhKSA9PiBfdG9VaW50OEFycmF5KF91blVSSShhKSk7XG4vL1xuY29uc3QgX2RlY29kZSA9IF9oYXNCdWZmZXJcbiAgICA/IChhKSA9PiBCdWZmZXIuZnJvbShhLCAnYmFzZTY0JykudG9TdHJpbmcoJ3V0ZjgnKVxuICAgIDogX1REXG4gICAgICAgID8gKGEpID0+IF9URC5kZWNvZGUoX3RvVWludDhBcnJheShhKSlcbiAgICAgICAgOiAoYSkgPT4gYnRvdShfYXRvYihhKSk7XG5jb25zdCBfdW5VUkkgPSAoYSkgPT4gX3RpZHlCNjQoYS5yZXBsYWNlKC9bLV9dL2csIChtMCkgPT4gbTAgPT0gJy0nID8gJysnIDogJy8nKSk7XG4vKipcbiAqIGNvbnZlcnRzIGEgQmFzZTY0IHN0cmluZyB0byBhIFVURi04IHN0cmluZy5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgQmFzZTY0IHN0cmluZy4gIEJvdGggbm9ybWFsIGFuZCBVUkwtc2FmZSBhcmUgc3VwcG9ydGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVVEYtOCBzdHJpbmdcbiAqL1xuY29uc3QgZGVjb2RlID0gKHNyYykgPT4gX2RlY29kZShfdW5VUkkoc3JjKSk7XG4vKipcbiAqIGNoZWNrIGlmIGEgdmFsdWUgaXMgYSB2YWxpZCBCYXNlNjQgc3RyaW5nXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIGEgdmFsdWUgdG8gY2hlY2tcbiAgKi9cbmNvbnN0IGlzVmFsaWQgPSAoc3JjKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzcmMgIT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgcyA9IHNyYy5yZXBsYWNlKC9cXHMrL2csICcnKS5yZXBsYWNlKC89ezAsMn0kLywgJycpO1xuICAgIHJldHVybiAhL1teXFxzMC05YS16QS1aXFwrL10vLnRlc3QocykgfHwgIS9bXlxcczAtOWEtekEtWlxcLV9dLy50ZXN0KHMpO1xufTtcbi8vXG5jb25zdCBfbm9FbnVtID0gKHYpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdiwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICB9O1xufTtcbi8qKlxuICogZXh0ZW5kIFN0cmluZy5wcm90b3R5cGUgd2l0aCByZWxldmFudCBtZXRob2RzXG4gKi9cbmNvbnN0IGV4dGVuZFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBfYWRkID0gKG5hbWUsIGJvZHkpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCBuYW1lLCBfbm9FbnVtKGJvZHkpKTtcbiAgICBfYWRkKCdmcm9tQmFzZTY0JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVjb2RlKHRoaXMpOyB9KTtcbiAgICBfYWRkKCd0b0Jhc2U2NCcsIGZ1bmN0aW9uICh1cmxzYWZlKSB7IHJldHVybiBlbmNvZGUodGhpcywgdXJsc2FmZSk7IH0pO1xuICAgIF9hZGQoJ3RvQmFzZTY0VVJJJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZW5jb2RlKHRoaXMsIHRydWUpOyB9KTtcbiAgICBfYWRkKCd0b0Jhc2U2NFVSTCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVuY29kZSh0aGlzLCB0cnVlKTsgfSk7XG4gICAgX2FkZCgndG9VaW50OEFycmF5JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdG9VaW50OEFycmF5KHRoaXMpOyB9KTtcbn07XG4vKipcbiAqIGV4dGVuZCBVaW50OEFycmF5LnByb3RvdHlwZSB3aXRoIHJlbGV2YW50IG1ldGhvZHNcbiAqL1xuY29uc3QgZXh0ZW5kVWludDhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBfYWRkID0gKG5hbWUsIGJvZHkpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVaW50OEFycmF5LnByb3RvdHlwZSwgbmFtZSwgX25vRW51bShib2R5KSk7XG4gICAgX2FkZCgndG9CYXNlNjQnLCBmdW5jdGlvbiAodXJsc2FmZSkgeyByZXR1cm4gZnJvbVVpbnQ4QXJyYXkodGhpcywgdXJsc2FmZSk7IH0pO1xuICAgIF9hZGQoJ3RvQmFzZTY0VVJJJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZnJvbVVpbnQ4QXJyYXkodGhpcywgdHJ1ZSk7IH0pO1xuICAgIF9hZGQoJ3RvQmFzZTY0VVJMJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZnJvbVVpbnQ4QXJyYXkodGhpcywgdHJ1ZSk7IH0pO1xufTtcbi8qKlxuICogZXh0ZW5kIEJ1aWx0aW4gcHJvdG90eXBlcyB3aXRoIHJlbGV2YW50IG1ldGhvZHNcbiAqL1xuY29uc3QgZXh0ZW5kQnVpbHRpbnMgPSAoKSA9PiB7XG4gICAgZXh0ZW5kU3RyaW5nKCk7XG4gICAgZXh0ZW5kVWludDhBcnJheSgpO1xufTtcbmNvbnN0IGdCYXNlNjQgPSB7XG4gICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICBWRVJTSU9OOiBWRVJTSU9OLFxuICAgIGF0b2I6IF9hdG9iLFxuICAgIGF0b2JQb2x5ZmlsbDogYXRvYlBvbHlmaWxsLFxuICAgIGJ0b2E6IF9idG9hLFxuICAgIGJ0b2FQb2x5ZmlsbDogYnRvYVBvbHlmaWxsLFxuICAgIGZyb21CYXNlNjQ6IGRlY29kZSxcbiAgICB0b0Jhc2U2NDogZW5jb2RlLFxuICAgIGVuY29kZTogZW5jb2RlLFxuICAgIGVuY29kZVVSSTogZW5jb2RlVVJJLFxuICAgIGVuY29kZVVSTDogZW5jb2RlVVJJLFxuICAgIHV0b2I6IHV0b2IsXG4gICAgYnRvdTogYnRvdSxcbiAgICBkZWNvZGU6IGRlY29kZSxcbiAgICBpc1ZhbGlkOiBpc1ZhbGlkLFxuICAgIGZyb21VaW50OEFycmF5OiBmcm9tVWludDhBcnJheSxcbiAgICB0b1VpbnQ4QXJyYXk6IHRvVWludDhBcnJheSxcbiAgICBleHRlbmRTdHJpbmc6IGV4dGVuZFN0cmluZyxcbiAgICBleHRlbmRVaW50OEFycmF5OiBleHRlbmRVaW50OEFycmF5LFxuICAgIGV4dGVuZEJ1aWx0aW5zOiBleHRlbmRCdWlsdGluc1xufTtcbi8vIG1ha2VjanM6Q1VUIC8vXG5leHBvcnQgeyB2ZXJzaW9uIH07XG5leHBvcnQgeyBWRVJTSU9OIH07XG5leHBvcnQgeyBfYXRvYiBhcyBhdG9iIH07XG5leHBvcnQgeyBhdG9iUG9seWZpbGwgfTtcbmV4cG9ydCB7IF9idG9hIGFzIGJ0b2EgfTtcbmV4cG9ydCB7IGJ0b2FQb2x5ZmlsbCB9O1xuZXhwb3J0IHsgZGVjb2RlIGFzIGZyb21CYXNlNjQgfTtcbmV4cG9ydCB7IGVuY29kZSBhcyB0b0Jhc2U2NCB9O1xuZXhwb3J0IHsgdXRvYiB9O1xuZXhwb3J0IHsgZW5jb2RlIH07XG5leHBvcnQgeyBlbmNvZGVVUkkgfTtcbmV4cG9ydCB7IGVuY29kZVVSSSBhcyBlbmNvZGVVUkwgfTtcbmV4cG9ydCB7IGJ0b3UgfTtcbmV4cG9ydCB7IGRlY29kZSB9O1xuZXhwb3J0IHsgaXNWYWxpZCB9O1xuZXhwb3J0IHsgZnJvbVVpbnQ4QXJyYXkgfTtcbmV4cG9ydCB7IHRvVWludDhBcnJheSB9O1xuZXhwb3J0IHsgZXh0ZW5kU3RyaW5nIH07XG5leHBvcnQgeyBleHRlbmRVaW50OEFycmF5IH07XG5leHBvcnQgeyBleHRlbmRCdWlsdGlucyB9O1xuLy8gYW5kIGZpbmFsbHksXG5leHBvcnQgeyBnQmFzZTY0IGFzIEJhc2U2NCB9O1xuIiwiaW1wb3J0IHsgQ29tcG9uZW50SWQsIFJlYWR5U3RhdHVzLCBSZXBvcnRUeXBlcywgU3BhbkxheWVyLCBTcGFuVHlwZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2NvbnN0YW50JztcbmltcG9ydCB1dWlkIGZyb20gJy4uLy4uL3NlcnZpY2VzL3V1aWQnO1xuaW1wb3J0IHsgZW5jb2RlIH0gZnJvbSAnanMtYmFzZTY0JztcbmltcG9ydCB7IEN1c3RvbU9wdGlvbnNUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgU2VnbWVudEZpZWxkcywgU3BhbkZpZWxkcyB9IGZyb20gJy4uL3R5cGUnO1xuXG5sZXQgY3VzdG9tQ29uZmlnOiBDdXN0b21PcHRpb25zVHlwZSB8IGFueSA9IHt9O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24geGhySW50ZXJjZXB0b3Iob3B0aW9uczogQ3VzdG9tT3B0aW9uc1R5cGUsIHNlZ21lbnRzOiBTZWdtZW50RmllbGRzW10pIHtcbiAgc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgY29uc3Qgb3JpZ2luYWxYSFIgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgYXMgYW55O1xuICBjb25zdCB4aHJTZW5kID0gWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ7XG4gIGNvbnN0IHhock9wZW4gPSBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbjtcblxuICBpZiAoISh4aHJTZW5kICYmIHhock9wZW4pKSB7XG4gICAgY29uc29sZS5lcnJvcignVHJhY2luZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIG9yaWdpbmFsWEhSLmdldFJlcXVlc3RDb25maWcgPSBbXTtcblxuICBmdW5jdGlvbiBhamF4RXZlbnRUcmlnZ2VyKGV2ZW50OiBzdHJpbmcpIHtcbiAgICBjb25zdCBhamF4RXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoZXZlbnQsIHsgZGV0YWlsOiB0aGlzIH0pO1xuXG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQoYWpheEV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGN1c3RvbWl6ZWRYSFIoKSB7XG4gICAgY29uc3QgbGl2ZVhIUiA9IG5ldyBvcmlnaW5hbFhIUigpO1xuXG4gICAgbGl2ZVhIUi5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ3JlYWR5c3RhdGVjaGFuZ2UnLFxuICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICBhamF4RXZlbnRUcmlnZ2VyLmNhbGwodGhpcywgJ3hoclJlYWR5U3RhdGVDaGFuZ2UnKTtcbiAgICAgIH0sXG4gICAgICBmYWxzZSxcbiAgICApO1xuXG4gICAgbGl2ZVhIUi5vcGVuID0gZnVuY3Rpb24gKFxuICAgICAgbWV0aG9kOiBzdHJpbmcsXG4gICAgICB1cmw6IHN0cmluZyxcbiAgICAgIGFzeW5jOiBib29sZWFuLFxuICAgICAgdXNlcm5hbWU/OiBzdHJpbmcgfCBudWxsLFxuICAgICAgcGFzc3dvcmQ/OiBzdHJpbmcgfCBudWxsLFxuICAgICkge1xuICAgICAgdGhpcy5nZXRSZXF1ZXN0Q29uZmlnID0gYXJndW1lbnRzO1xuXG4gICAgICByZXR1cm4geGhyT3Blbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgbGl2ZVhIUi5zZW5kID0gZnVuY3Rpb24gKGJvZHk/OiBEb2N1bWVudCB8IEJvZHlJbml0IHwgbnVsbCkge1xuICAgICAgcmV0dXJuIHhoclNlbmQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGxpdmVYSFI7XG4gIH1cblxuICAod2luZG93IGFzIGFueSkuWE1MSHR0cFJlcXVlc3QgPSBjdXN0b21pemVkWEhSO1xuXG4gIGNvbnN0IHNlZ0NvbGxlY3RvcjogeyBldmVudDogWE1MSHR0cFJlcXVlc3Q7IHN0YXJ0VGltZTogbnVtYmVyOyB0cmFjZUlkOiBzdHJpbmc7IHRyYWNlU2VnbWVudElkOiBzdHJpbmcgfVtdID0gW107XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3hoclJlYWR5U3RhdGVDaGFuZ2UnLCAoZXZlbnQ6IEN1c3RvbUV2ZW50PFhNTEh0dHBSZXF1ZXN0ICYgeyBnZXRSZXF1ZXN0Q29uZmlnOiBhbnlbXSB9PikgPT4ge1xuICAgIGNvbnN0IGxvZ2luVXNlciA9IHR5cGVvZiBvcHRpb25zLmxvZ2luVXNlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMubG9naW5Vc2VyKCkgOiBvcHRpb25zLmxvZ2luVXNlcjtcbiAgICBsZXQgc2VnbWVudCA9IHtcbiAgICAgIHRyYWNlSWQ6ICcnLFxuICAgICAgc2VydmljZTogY3VzdG9tQ29uZmlnLnNlcnZpY2UsXG4gICAgICBzcGFuczogW10sXG4gICAgICBzZXJ2aWNlSW5zdGFuY2U6IGN1c3RvbUNvbmZpZy5zZXJ2aWNlVmVyc2lvbixcbiAgICAgIHRyYWNlU2VnbWVudElkOiAnJyxcbiAgICAgIGxvZ2luVXNlcixcbiAgICB9IGFzIFNlZ21lbnRGaWVsZHM7XG4gICAgY29uc3QgeGhyU3RhdGUgPSBldmVudC5kZXRhaWwucmVhZHlTdGF0ZTtcbiAgICBjb25zdCBjb25maWcgPSBldmVudC5kZXRhaWwuZ2V0UmVxdWVzdENvbmZpZztcbiAgICBsZXQgdXJsID0ge30gYXMgVVJMO1xuICAgIGlmIChjb25maWdbMV0uc3RhcnRzV2l0aCgnaHR0cDovLycpIHx8IGNvbmZpZ1sxXS5zdGFydHNXaXRoKCdodHRwczovLycpKSB7XG4gICAgICB1cmwgPSBuZXcgVVJMKGNvbmZpZ1sxXSk7XG4gICAgfSBlbHNlIGlmIChjb25maWdbMV0uc3RhcnRzV2l0aCgnLy8nKSkge1xuICAgICAgdXJsID0gbmV3IFVSTChgJHt3aW5kb3cubG9jYXRpb24ucHJvdG9jb2x9JHtjb25maWdbMV19YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gY29uZmlnWzFdO1xuICAgIH1cblxuICAgIGNvbnN0IG5vVHJhY2VPcmlnaW5zID0gY3VzdG9tQ29uZmlnLm5vVHJhY2VPcmlnaW5zLnNvbWUoKHJ1bGU6IHN0cmluZyB8IFJlZ0V4cCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBydWxlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAocnVsZSA9PT0gdXJsLm9yaWdpbikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJ1bGUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgaWYgKHJ1bGUudGVzdCh1cmwub3JpZ2luKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG5vVHJhY2VPcmlnaW5zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY1VSTCA9IG5ldyBVUkwoY3VzdG9tQ29uZmlnLmNvbGxlY3Rvcik7XG4gICAgY29uc3QgcGF0aG5hbWUgPSBjVVJMLnBhdGhuYW1lID09PSAnLycgPyB1cmwucGF0aG5hbWUgOiB1cmwucGF0aG5hbWUucmVwbGFjZShuZXcgUmVnRXhwKGBeJHtjVVJMLnBhdGhuYW1lfWApLCAnJyk7XG4gICAgY29uc3QgaW50ZXJuYWxzID0gW1JlcG9ydFR5cGVzLkVSUk9SLCBSZXBvcnRUeXBlcy5FUlJPUlMsIFJlcG9ydFR5cGVzLlBFUkYsIFJlcG9ydFR5cGVzLlNFR01FTlRTXSBhcyBzdHJpbmdbXTtcbiAgICBjb25zdCBpc1NES0ludGVybmFsID0gaW50ZXJuYWxzLmluY2x1ZGVzKHBhdGhuYW1lKTtcblxuICAgIGlmIChpc1NES0ludGVybmFsICYmICFjdXN0b21Db25maWcudHJhY2VTREtJbnRlcm5hbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRoZSB2YWx1ZXMgb2YgeGhyU3RhdGUgYXJlIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0L3JlYWR5U3RhdGVcbiAgICBpZiAoeGhyU3RhdGUgPT09IFJlYWR5U3RhdHVzLk9QRU5FRCkge1xuICAgICAgY29uc3QgdHJhY2VJZCA9IHV1aWQoKTtcbiAgICAgIGNvbnN0IHRyYWNlU2VnbWVudElkID0gdXVpZCgpO1xuXG4gICAgICBzZWdDb2xsZWN0b3IucHVzaCh7XG4gICAgICAgIGV2ZW50OiBldmVudC5kZXRhaWwsXG4gICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgIHRyYWNlSWQsXG4gICAgICAgIHRyYWNlU2VnbWVudElkLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHRyYWNlSWRTdHIgPSBTdHJpbmcoZW5jb2RlKHRyYWNlSWQpKTtcbiAgICAgIGNvbnN0IHNlZ21lbnRJZCA9IFN0cmluZyhlbmNvZGUodHJhY2VTZWdtZW50SWQpKTtcbiAgICAgIGNvbnN0IHNlcnZpY2UgPSBTdHJpbmcoZW5jb2RlKHNlZ21lbnQuc2VydmljZSkpO1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBTdHJpbmcoZW5jb2RlKHNlZ21lbnQuc2VydmljZUluc3RhbmNlKSk7XG4gICAgICBjb25zdCBlbmRwb2ludCA9IFN0cmluZyhlbmNvZGUoY3VzdG9tQ29uZmlnLnBhZ2VQYXRoKSk7XG4gICAgICBjb25zdCBwZWVyID0gU3RyaW5nKGVuY29kZSh1cmwuaG9zdCkpO1xuICAgICAgY29uc3QgbmV3TG9naW5Vc2VyID0gbG9naW5Vc2VyID8gU3RyaW5nKGVuY29kZShsb2dpblVzZXIpKSA6ICcnO1xuICAgICAgY29uc3QgaW5kZXggPSBzZWdtZW50LnNwYW5zLmxlbmd0aDtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IGAkezF9LSR7dHJhY2VJZFN0cn0tJHtzZWdtZW50SWR9LSR7aW5kZXh9LSR7c2VydmljZX0tJHtpbnN0YW5jZX0tJHtlbmRwb2ludH0tJHtwZWVyfS0ke25ld0xvZ2luVXNlcn1gO1xuXG4gICAgICBldmVudC5kZXRhaWwuc2V0UmVxdWVzdEhlYWRlcignc3c4JywgdmFsdWVzKTtcbiAgICB9XG5cbiAgICBpZiAoeGhyU3RhdGUgPT09IFJlYWR5U3RhdHVzLkRPTkUpIHtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnQ29sbGVjdG9yLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZWdDb2xsZWN0b3JbaV0uZXZlbnQucmVhZHlTdGF0ZSA9PT0gUmVhZHlTdGF0dXMuRE9ORSkge1xuICAgICAgICAgIGxldCByZXNwb25zZVVSTCA9IHt9IGFzIFVSTDtcbiAgICAgICAgICBpZiAoc2VnQ29sbGVjdG9yW2ldLmV2ZW50LnN0YXR1cykge1xuICAgICAgICAgICAgcmVzcG9uc2VVUkwgPSBuZXcgVVJMKHNlZ0NvbGxlY3RvcltpXS5ldmVudC5yZXNwb25zZVVSTCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHRhZ3MgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGtleTogJ2h0dHAubWV0aG9kJyxcbiAgICAgICAgICAgICAgdmFsdWU6IGNvbmZpZ1swXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGtleTogJ3VybCcsXG4gICAgICAgICAgICAgIHZhbHVlOiBzZWdDb2xsZWN0b3JbaV0uZXZlbnQucmVzcG9uc2VVUkwgfHwgYCR7dXJsLnByb3RvY29sfS8vJHt1cmwuaG9zdH0ke3VybC5wYXRobmFtZX1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdO1xuICAgICAgICAgIGNvbnN0IGV4aXRTcGFuOiBTcGFuRmllbGRzID0ge1xuICAgICAgICAgICAgb3BlcmF0aW9uTmFtZTogY3VzdG9tQ29uZmlnLnBhZ2VQYXRoLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBzZWdDb2xsZWN0b3JbaV0uc3RhcnRUaW1lLFxuICAgICAgICAgICAgZW5kVGltZSxcbiAgICAgICAgICAgIHNwYW5JZDogc2VnbWVudC5zcGFucy5sZW5ndGgsXG4gICAgICAgICAgICBzcGFuTGF5ZXI6IFNwYW5MYXllcixcbiAgICAgICAgICAgIHNwYW5UeXBlOiBTcGFuVHlwZSxcbiAgICAgICAgICAgIGlzRXJyb3I6IGV2ZW50LmRldGFpbC5zdGF0dXMgPT09IDAgfHwgZXZlbnQuZGV0YWlsLnN0YXR1cyA+PSA0MDAsIC8vIHdoZW4gcmVxdWVzdHMgZmFpbGVkLCB0aGUgc3RhdHVzIGlzIDBcbiAgICAgICAgICAgIHBhcmVudFNwYW5JZDogc2VnbWVudC5zcGFucy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgY29tcG9uZW50SWQ6IENvbXBvbmVudElkLFxuICAgICAgICAgICAgcGVlcjogcmVzcG9uc2VVUkwuaG9zdCxcbiAgICAgICAgICAgIHRhZ3M6IGN1c3RvbUNvbmZpZy5kZXRhaWxNb2RlXG4gICAgICAgICAgICAgID8gY3VzdG9tQ29uZmlnLmN1c3RvbVRhZ3NcbiAgICAgICAgICAgICAgICA/IFsuLi50YWdzLCAuLi5jdXN0b21Db25maWcuY3VzdG9tVGFnc11cbiAgICAgICAgICAgICAgICA6IHRhZ3NcbiAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBzZWdtZW50ID0ge1xuICAgICAgICAgICAgLi4uc2VnbWVudCxcbiAgICAgICAgICAgIHRyYWNlSWQ6IHNlZ0NvbGxlY3RvcltpXS50cmFjZUlkLFxuICAgICAgICAgICAgdHJhY2VTZWdtZW50SWQ6IHNlZ0NvbGxlY3RvcltpXS50cmFjZVNlZ21lbnRJZCxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNlZ21lbnQuc3BhbnMucHVzaChleGl0U3Bhbik7XG4gICAgICAgICAgc2VnQ29sbGVjdG9yLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICB9XG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0OiBDdXN0b21PcHRpb25zVHlwZSkge1xuICBjdXN0b21Db25maWcgPSB7IC4uLmN1c3RvbUNvbmZpZywgLi4ub3B0IH07XG59XG4iLCJpbXBvcnQgeyBlbmNvZGUgfSBmcm9tICdqcy1iYXNlNjQnO1xuaW1wb3J0IHV1aWQgZnJvbSAnLi4vLi4vc2VydmljZXMvdXVpZCc7XG5pbXBvcnQgeyBTZWdtZW50RmllbGRzLCBTcGFuRmllbGRzIH0gZnJvbSAnLi4vdHlwZSc7XG5pbXBvcnQgeyBDdXN0b21PcHRpb25zVHlwZSB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCBCYXNlIGZyb20gJy4uLy4uL3NlcnZpY2VzL2Jhc2UnO1xuaW1wb3J0IHsgQ29tcG9uZW50SWQsIFJlcG9ydFR5cGVzLCBTcGFuTGF5ZXIsIFNwYW5UeXBlLCBFcnJvcnNDYXRlZ29yeSwgR3JhZGVUeXBlRW51bSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2NvbnN0YW50JztcbmxldCBjdXN0b21Db25maWc6IGFueSA9IHt9O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd2luZG93RmV0Y2gob3B0aW9uczogQ3VzdG9tT3B0aW9uc1R5cGUsIHNlZ21lbnRzOiBTZWdtZW50RmllbGRzW10pIHtcbiAgc2V0RmV0Y2hPcHRpb25zKG9wdGlvbnMpO1xuICBjb25zdCBvcmlnaW5GZXRjaDogYW55ID1cbiAgICBvcHRpb25zLmN1c3RvbUZldGNoIHx8XG4gICAgKHdpbmRvdyBhcyBhbnkpLnJhd1dpbmRvdz8uZmV0Y2ggfHxcbiAgICAod2luZG93IGFzIGFueSkuX19NSUNST19BUFBfQkFTRV9XSU5ET1dfXz8uZmV0Y2ggfHxcbiAgICBnbG9iYWxUaGlzLmZldGNoIHx8XG4gICAgd2luZG93LmZldGNoO1xuXG4gIGlmICh0eXBlb2Ygb3JpZ2luRmV0Y2ggIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB3cmFwcGVkRmV0Y2ggPSBhc3luYyAoLi4uYXJnczogYW55KSA9PiB7XG4gICAgY29uc3QgbG9naW5Vc2VyID0gdHlwZW9mIG9wdGlvbnMubG9naW5Vc2VyID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5sb2dpblVzZXIoKSA6IG9wdGlvbnMubG9naW5Vc2VyO1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNvbnN0IHRyYWNlSWQgPSB1dWlkKCk7XG4gICAgY29uc3QgdHJhY2VTZWdtZW50SWQgPSB1dWlkKCk7XG4gICAgbGV0IHNlZ21lbnQgPSB7XG4gICAgICB0cmFjZUlkOiAnJyxcbiAgICAgIHNlcnZpY2U6IGN1c3RvbUNvbmZpZy5zZXJ2aWNlLFxuICAgICAgc3BhbnM6IFtdLFxuICAgICAgc2VydmljZUluc3RhbmNlOiBjdXN0b21Db25maWcuc2VydmljZVZlcnNpb24sXG4gICAgICB0cmFjZVNlZ21lbnRJZDogJycsXG4gICAgICBsb2dpblVzZXIsXG4gICAgfSBhcyBTZWdtZW50RmllbGRzO1xuICAgIGxldCB1cmwgPSB7fSBhcyBVUkw7XG4gICAgLy8gZm9yIGFyZ3NbMF0gaXMgUmVxdWVzdCBvYmplY3Qgc2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy96aC1DTi9kb2NzL1dlYi9BUEkvZmV0Y2hcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3NbMF0pID09PSAnW29iamVjdCBSZXF1ZXN0XScpIHtcbiAgICAgIHVybCA9IG5ldyBVUkwoYXJnc1swXS51cmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYXJnc1swXS5zdGFydHNXaXRoKCdodHRwOi8vJykgfHwgYXJnc1swXS5zdGFydHNXaXRoKCdodHRwczovLycpKSB7XG4gICAgICAgIHVybCA9IG5ldyBVUkwoYXJnc1swXSk7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3NbMF0uc3RhcnRzV2l0aCgnLy8nKSkge1xuICAgICAgICB1cmwgPSBuZXcgVVJMKGAke3dpbmRvdy5sb2NhdGlvbi5wcm90b2NvbH0ke2FyZ3NbMF19YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgdXJsLnBhdGhuYW1lID0gYXJnc1swXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBub1RyYWNlT3JpZ2lucyA9IGN1c3RvbUNvbmZpZy5ub1RyYWNlT3JpZ2lucy5zb21lKChydWxlOiBzdHJpbmcgfCBSZWdFeHApID0+IHtcbiAgICAgIGlmICh0eXBlb2YgcnVsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHJ1bGUgPT09IHVybC5vcmlnaW4pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChydWxlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIGlmIChydWxlLnRlc3QodXJsLm9yaWdpbikpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNVUkwgPSBuZXcgVVJMKGN1c3RvbUNvbmZpZy5jb2xsZWN0b3IpO1xuICAgIGNvbnN0IHBhdGhuYW1lID0gY1VSTC5wYXRobmFtZSA9PT0gJy8nID8gdXJsLnBhdGhuYW1lIDogdXJsLnBhdGhuYW1lLnJlcGxhY2UobmV3IFJlZ0V4cChgXiR7Y1VSTC5wYXRobmFtZX1gKSwgJycpO1xuICAgIGNvbnN0IGludGVybmFscyA9IFtSZXBvcnRUeXBlcy5FUlJPUiwgUmVwb3J0VHlwZXMuRVJST1JTLCBSZXBvcnRUeXBlcy5QRVJGLCBSZXBvcnRUeXBlcy5TRUdNRU5UU10gYXMgc3RyaW5nW107XG4gICAgY29uc3QgaXNTREtJbnRlcm5hbCA9IGludGVybmFscy5pbmNsdWRlcyhwYXRobmFtZSk7XG4gICAgY29uc3QgaGFzVHJhY2UgPSAhbm9UcmFjZU9yaWdpbnMgfHwgKGlzU0RLSW50ZXJuYWwgJiYgY3VzdG9tQ29uZmlnLnRyYWNlU0RLSW50ZXJuYWwpO1xuXG4gICAgaWYgKGhhc1RyYWNlKSB7XG4gICAgICBjb25zdCB0cmFjZUlkU3RyID0gU3RyaW5nKGVuY29kZSh0cmFjZUlkKSk7XG4gICAgICBjb25zdCBzZWdtZW50SWQgPSBTdHJpbmcoZW5jb2RlKHRyYWNlU2VnbWVudElkKSk7XG4gICAgICBjb25zdCBzZXJ2aWNlID0gU3RyaW5nKGVuY29kZShzZWdtZW50LnNlcnZpY2UpKTtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gU3RyaW5nKGVuY29kZShzZWdtZW50LnNlcnZpY2VJbnN0YW5jZSkpO1xuICAgICAgY29uc3QgZW5kcG9pbnQgPSBTdHJpbmcoZW5jb2RlKGN1c3RvbUNvbmZpZy5wYWdlUGF0aCkpO1xuICAgICAgY29uc3QgcGVlciA9IFN0cmluZyhlbmNvZGUodXJsLmhvc3QpKTtcbiAgICAgIGNvbnN0IG5ld0xvZ2luVXNlciA9IGxvZ2luVXNlciA/IFN0cmluZyhlbmNvZGUobG9naW5Vc2VyKSkgOiAnJztcbiAgICAgIGNvbnN0IGluZGV4ID0gc2VnbWVudC5zcGFucy5sZW5ndGg7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBgJHsxfS0ke3RyYWNlSWRTdHJ9LSR7c2VnbWVudElkfS0ke2luZGV4fS0ke3NlcnZpY2V9LSR7aW5zdGFuY2V9LSR7ZW5kcG9pbnR9LSR7cGVlcn0tJHtuZXdMb2dpblVzZXJ9YDtcblxuICAgICAgaWYgKCFhcmdzWzFdKSB7XG4gICAgICAgIGFyZ3NbMV0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmICghYXJnc1sxXS5oZWFkZXJzKSB7XG4gICAgICAgIGFyZ3NbMV0uaGVhZGVycyA9IHt9O1xuICAgICAgfVxuICAgICAgYXJnc1sxXS5oZWFkZXJzLnN3OCA9IHZhbHVlcztcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9yaWdpbkZldGNoKC4uLmFyZ3MpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChyZXNwb25zZSAmJiAocmVzcG9uc2Uuc3RhdHVzID09PSAwIHx8IHJlc3BvbnNlLnN0YXR1cyA+PSA0MDApKSB7XG4gICAgICAgIGNvbnN0IGxvZ0luZm8gPSB7XG4gICAgICAgICAgdW5pcXVlSWQ6IHV1aWQoKSxcbiAgICAgICAgICBzZXJ2aWNlOiBjdXN0b21Db25maWcuc2VydmljZSxcbiAgICAgICAgICBzZXJ2aWNlVmVyc2lvbjogY3VzdG9tQ29uZmlnLnNlcnZpY2VWZXJzaW9uLFxuICAgICAgICAgIHBhZ2VQYXRoOiBjdXN0b21Db25maWcucGFnZVBhdGgsXG4gICAgICAgICAgY2F0ZWdvcnk6IEVycm9yc0NhdGVnb3J5LkFKQVhfRVJST1IsXG4gICAgICAgICAgZ3JhZGU6IEdyYWRlVHlwZUVudW0uRVJST1IsXG4gICAgICAgICAgZXJyb3JVcmw6IChyZXNwb25zZSAmJiByZXNwb25zZS51cmwpIHx8IGAke3VybC5wcm90b2NvbH0vLyR7dXJsLmhvc3R9JHt1cmwucGF0aG5hbWV9YCxcbiAgICAgICAgICBtZXNzYWdlOiBgc3RhdHVzOiAke3Jlc3BvbnNlID8gcmVzcG9uc2Uuc3RhdHVzIDogMH07IHN0YXR1c1RleHQ6ICR7cmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzVGV4dH07YCxcbiAgICAgICAgICBjb2xsZWN0b3I6IGN1c3RvbUNvbmZpZy5jb2xsZWN0b3IsXG4gICAgICAgICAgc3RhY2s6ICdGZXRjaDogJyArIHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIH07XG4gICAgICAgIG5ldyBCYXNlKCkudHJhY2VJbmZvKGxvZ0luZm8pO1xuICAgICAgfVxuICAgICAgaWYgKGhhc1RyYWNlKSB7XG4gICAgICAgIGNvbnN0IHRhZ3MgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiAnaHR0cC5tZXRob2QnLFxuICAgICAgICAgICAgdmFsdWU6IGFyZ3NbMV0ubWV0aG9kIHx8ICdHRVQnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiAndXJsJyxcbiAgICAgICAgICAgIHZhbHVlOiAocmVzcG9uc2UgJiYgcmVzcG9uc2UudXJsKSB8fCBgJHt1cmwucHJvdG9jb2x9Ly8ke3VybC5ob3N0fSR7dXJsLnBhdGhuYW1lfWAsXG4gICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgZW5kVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCBleGl0U3BhbjogU3BhbkZpZWxkcyA9IHtcbiAgICAgICAgICBvcGVyYXRpb25OYW1lOiBjdXN0b21Db25maWcucGFnZVBhdGgsXG4gICAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICAgIGVuZFRpbWUsXG4gICAgICAgICAgc3BhbklkOiBzZWdtZW50LnNwYW5zLmxlbmd0aCxcbiAgICAgICAgICBzcGFuTGF5ZXI6IFNwYW5MYXllcixcbiAgICAgICAgICBzcGFuVHlwZTogU3BhblR5cGUsXG4gICAgICAgICAgLy8gd2hlbiByZXF1ZXN0cyBmYWlsZWQsIHRoZSBzdGF0dXMgaXMgMFxuICAgICAgICAgIGlzRXJyb3I6IHJlc3BvbnNlICYmIChyZXNwb25zZS5zdGF0dXMgPT09IDAgfHwgcmVzcG9uc2Uuc3RhdHVzID49IDQwMCksXG4gICAgICAgICAgcGFyZW50U3BhbklkOiBzZWdtZW50LnNwYW5zLmxlbmd0aCAtIDEsXG4gICAgICAgICAgY29tcG9uZW50SWQ6IENvbXBvbmVudElkLFxuICAgICAgICAgIHBlZXI6IHVybC5ob3N0LFxuICAgICAgICAgIHRhZ3M6IGN1c3RvbUNvbmZpZy5kZXRhaWxNb2RlXG4gICAgICAgICAgICA/IGN1c3RvbUNvbmZpZy5jdXN0b21UYWdzXG4gICAgICAgICAgICAgID8gWy4uLnRhZ3MsIC4uLmN1c3RvbUNvbmZpZy5jdXN0b21UYWdzXVxuICAgICAgICAgICAgICA6IHRhZ3NcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICBzZWdtZW50ID0ge1xuICAgICAgICAgIC4uLnNlZ21lbnQsXG4gICAgICAgICAgdHJhY2VJZCxcbiAgICAgICAgICB0cmFjZVNlZ21lbnRJZCxcbiAgICAgICAgfTtcbiAgICAgICAgc2VnbWVudC5zcGFucy5wdXNoKGV4aXRTcGFuKTtcbiAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2UuY2xvbmUoKTtcbiAgfTtcblxuICAvLyDopobnm5blvZPliY0gd2luZG93IOS4jiBnbG9iYWxUaGlz77yM6Ziy5q2iIE1pY3JvQXBwIOWGjeasoeWIh+aNoiB3aW5kb3cg5a+86Ie05Lii5aSxXG4gIHdpbmRvdy5mZXRjaCA9IHdyYXBwZWRGZXRjaDtcbiAgLy8gZ2xvYmFsVGhpcyDlj6/og73kuI4gd2luZG93IOS4jeWQjO+8jOmYsuatouaymeeuseabv+aNolxuICAoZ2xvYmFsVGhpcyBhcyBhbnkpLmZldGNoID0gd3JhcHBlZEZldGNoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldEZldGNoT3B0aW9ucyhvcHQ6IEN1c3RvbU9wdGlvbnNUeXBlKSB7XG4gIGN1c3RvbUNvbmZpZyA9IHsgLi4uY3VzdG9tQ29uZmlnLCAuLi5vcHQgfTtcbn1cbiIsIlxuXG5pbXBvcnQgeGhySW50ZXJjZXB0b3IsIHsgc2V0T3B0aW9ucyB9IGZyb20gJy4vaW50ZXJjZXB0b3JzL3hocic7XG5pbXBvcnQgd2luZG93RmV0Y2gsIHsgc2V0RmV0Y2hPcHRpb25zIH0gZnJvbSAnLi9pbnRlcmNlcHRvcnMvZmV0Y2gnO1xuaW1wb3J0IFJlcG9ydCBmcm9tICcuLi9zZXJ2aWNlcy9yZXBvcnQnO1xuaW1wb3J0IHsgU2VnbWVudEZpZWxkcyB9IGZyb20gJy4vdHlwZSc7XG5pbXBvcnQgeyBDdXN0b21PcHRpb25zVHlwZSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhY2VTZWdtZW50KG9wdGlvbnM6IEN1c3RvbU9wdGlvbnNUeXBlKSB7XG4gIGNvbnN0IHNlZ21lbnRzID0gW10gYXMgU2VnbWVudEZpZWxkc1tdO1xuICAvLyBpbmplY3QgaW50ZXJjZXB0b3JcbiAgeGhySW50ZXJjZXB0b3Iob3B0aW9ucywgc2VnbWVudHMpO1xuICB3aW5kb3dGZXRjaChvcHRpb25zLCBzZWdtZW50cyk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCAoKSA9PiB7XG4gICAgaWYgKCFzZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbmV3IFJlcG9ydCgnU0VHTUVOVFMnLCBvcHRpb25zLmNvbGxlY3Rvcikuc2VuZEJ5QmVhY29uKHNlZ21lbnRzKTtcbiAgfSk7XG4gIC8vcmVwb3J0IHBlciBvcHRpb25zLnRyYWNlVGltZUludGVydmFsIG1pblxuICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgaWYgKCFzZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbmV3IFJlcG9ydCgnU0VHTUVOVFMnLCBvcHRpb25zLmNvbGxlY3Rvcikuc2VuZEJ5WGhyKHNlZ21lbnRzKTtcbiAgICBzZWdtZW50cy5zcGxpY2UoMCwgc2VnbWVudHMubGVuZ3RoKTtcbiAgfSwgb3B0aW9ucy50cmFjZVRpbWVJbnRlcnZhbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb25maWcob3B0OiBDdXN0b21PcHRpb25zVHlwZSkge1xuICBzZXRPcHRpb25zKG9wdCk7XG4gIHNldEZldGNoT3B0aW9ucyhvcHQpO1xufVxuIiwiXG5cbmltcG9ydCB7IEN1c3RvbU9wdGlvbnNUeXBlLCBDdXN0b21SZXBvcnRPcHRpb25zLCBUYWdPcHRpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IEpTRXJyb3JzLCBQcm9taXNlRXJyb3JzLCBBamF4RXJyb3JzLCBSZXNvdXJjZUVycm9ycywgVnVlRXJyb3JzLCBGcmFtZUVycm9ycyB9IGZyb20gJy4vZXJyb3JzL2luZGV4JztcbmltcG9ydCB0cmFjZVBlcmYgZnJvbSAnLi9wZXJmb3JtYW5jZS9pbmRleCc7XG5pbXBvcnQgdHJhY2VTZWdtZW50LCB7IHNldENvbmZpZyB9IGZyb20gJy4vdHJhY2Uvc2VnbWVudCc7XG5cbmNvbnN0IENsaWVudE1vbml0b3IgPSB7XG4gIGN1c3RvbU9wdGlvbnM6IHtcbiAgICBjb2xsZWN0b3I6IGxvY2F0aW9uLm9yaWdpbiwgLy8gcmVwb3J0IHNlcnZlXG4gICAganNFcnJvcnM6IHRydWUsIC8vIHZ1ZSwganMgYW5kIHByb21pc2UgZXJyb3JzXG4gICAgYXBpRXJyb3JzOiB0cnVlLFxuICAgIHJlc291cmNlRXJyb3JzOiB0cnVlLFxuICAgIGF1dG9UcmFjZVBlcmY6IHRydWUsIC8vIHRyYWNlIHBlcmZvcm1hbmNlIGRldGFpbFxuICAgIHVzZUZtcDogZmFsc2UsIC8vIHVzZSBmaXJzdCBtZWFuaW5nZnVsIHBhaW50XG4gICAgZW5hYmxlU1BBOiBmYWxzZSxcbiAgICB0cmFjZVNES0ludGVybmFsOiBmYWxzZSxcbiAgICBkZXRhaWxNb2RlOiB0cnVlLFxuICAgIG5vVHJhY2VPcmlnaW5zOiBbXSxcbiAgICB0cmFjZVRpbWVJbnRlcnZhbDogNjAwMDAsIC8vIDFtaW5cbiAgfSBhcyBDdXN0b21PcHRpb25zVHlwZSxcblxuICByZWdpc3Rlcihjb25maWdzOiBDdXN0b21PcHRpb25zVHlwZSkge1xuICAgIHRoaXMuY3VzdG9tT3B0aW9ucyA9IHtcbiAgICAgIC4uLnRoaXMuY3VzdG9tT3B0aW9ucyxcbiAgICAgIC4uLmNvbmZpZ3MsXG4gICAgfTtcbiAgICB0aGlzLnZhbGlkYXRlT3B0aW9ucygpO1xuICAgIHRoaXMuY2F0Y2hFcnJvcnModGhpcy5jdXN0b21PcHRpb25zKTtcbiAgICBpZiAoIXRoaXMuY3VzdG9tT3B0aW9ucy5lbmFibGVTUEEpIHtcbiAgICAgIHRoaXMucGVyZm9ybWFuY2UodGhpcy5jdXN0b21PcHRpb25zKTtcbiAgICB9XG5cbiAgICB0cmFjZVNlZ21lbnQodGhpcy5jdXN0b21PcHRpb25zKTtcbiAgfSxcbiAgcGVyZm9ybWFuY2UoY29uZmlnczogYW55KSB7XG4gICAgLy8gdHJhY2UgYW5kIHJlcG9ydCBwZXJmIGRhdGEgYW5kIHB2IHRvIHNlcnZlIHdoZW4gcGFnZSBsb2FkZWRcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgdHJhY2VQZXJmLmdldFBlcmYoY29uZmlncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAnbG9hZCcsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB0cmFjZVBlcmYuZ2V0UGVyZihjb25maWdzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZmFsc2UsXG4gICAgICApO1xuICAgIH1cbiAgfSxcblxuICBjYXRjaEVycm9ycyhvcHRpb25zOiBDdXN0b21PcHRpb25zVHlwZSkge1xuICAgIGNvbnN0IHsgc2VydmljZSwgcGFnZVBhdGgsIHNlcnZpY2VWZXJzaW9uLCBjb2xsZWN0b3IgfSA9IG9wdGlvbnM7XG5cbiAgICBpZiAob3B0aW9ucy5qc0Vycm9ycykge1xuICAgICAgSlNFcnJvcnMuaGFuZGxlRXJyb3JzKHsgc2VydmljZSwgcGFnZVBhdGgsIHNlcnZpY2VWZXJzaW9uLCBjb2xsZWN0b3IgfSk7XG4gICAgICBQcm9taXNlRXJyb3JzLmhhbmRsZUVycm9ycyh7IHNlcnZpY2UsIHBhZ2VQYXRoLCBzZXJ2aWNlVmVyc2lvbiwgY29sbGVjdG9yIH0pO1xuICAgICAgaWYgKG9wdGlvbnMudnVlKSB7XG4gICAgICAgIFZ1ZUVycm9ycy5oYW5kbGVFcnJvcnMoeyBzZXJ2aWNlLCBwYWdlUGF0aCwgc2VydmljZVZlcnNpb24sIGNvbGxlY3RvciB9LCBvcHRpb25zLnZ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmFwaUVycm9ycykge1xuICAgICAgQWpheEVycm9ycy5oYW5kbGVFcnJvcih7IHNlcnZpY2UsIHBhZ2VQYXRoLCBzZXJ2aWNlVmVyc2lvbiwgY29sbGVjdG9yIH0pO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5yZXNvdXJjZUVycm9ycykge1xuICAgICAgUmVzb3VyY2VFcnJvcnMuaGFuZGxlRXJyb3JzKHsgc2VydmljZSwgcGFnZVBhdGgsIHNlcnZpY2VWZXJzaW9uLCBjb2xsZWN0b3IgfSk7XG4gICAgfVxuICB9LFxuICBzZXRQZXJmb3JtYW5jZShjb25maWdzOiBDdXN0b21SZXBvcnRPcHRpb25zKSB7XG4gICAgLy8gaGlzdG9yeSByb3V0ZXJcbiAgICB0aGlzLmN1c3RvbU9wdGlvbnMgPSB7XG4gICAgICAuLi50aGlzLmN1c3RvbU9wdGlvbnMsXG4gICAgICAuLi5jb25maWdzLFxuICAgICAgdXNlRm1wOiBmYWxzZSxcbiAgICB9O1xuICAgIHRoaXMudmFsaWRhdGVPcHRpb25zKCk7XG4gICAgdGhpcy5wZXJmb3JtYW5jZSh0aGlzLmN1c3RvbU9wdGlvbnMpO1xuICAgIGNvbnN0IHsgc2VydmljZSwgcGFnZVBhdGgsIHNlcnZpY2VWZXJzaW9uLCBjb2xsZWN0b3IgfSA9IHRoaXMuY3VzdG9tT3B0aW9ucztcbiAgICBpZiAodGhpcy5jdXN0b21PcHRpb25zLmpzRXJyb3JzKSB7XG4gICAgICBKU0Vycm9ycy5zZXRPcHRpb25zKHsgc2VydmljZSwgcGFnZVBhdGgsIHNlcnZpY2VWZXJzaW9uLCBjb2xsZWN0b3IgfSk7XG4gICAgICBQcm9taXNlRXJyb3JzLnNldE9wdGlvbnMoeyBzZXJ2aWNlLCBwYWdlUGF0aCwgc2VydmljZVZlcnNpb24sIGNvbGxlY3RvciB9KTtcbiAgICAgIGlmICh0aGlzLmN1c3RvbU9wdGlvbnMudnVlKSB7XG4gICAgICAgIFZ1ZUVycm9ycy5zZXRPcHRpb25zKHsgc2VydmljZSwgcGFnZVBhdGgsIHNlcnZpY2VWZXJzaW9uLCBjb2xsZWN0b3IgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmN1c3RvbU9wdGlvbnMuYXBpRXJyb3JzKSB7XG4gICAgICBBamF4RXJyb3JzLnNldE9wdGlvbnMoeyBzZXJ2aWNlLCBwYWdlUGF0aCwgc2VydmljZVZlcnNpb24sIGNvbGxlY3RvciB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3VzdG9tT3B0aW9ucy5yZXNvdXJjZUVycm9ycykge1xuICAgICAgUmVzb3VyY2VFcnJvcnMuc2V0T3B0aW9ucyh7IHNlcnZpY2UsIHBhZ2VQYXRoLCBzZXJ2aWNlVmVyc2lvbiwgY29sbGVjdG9yIH0pO1xuICAgIH1cbiAgICBzZXRDb25maWcodGhpcy5jdXN0b21PcHRpb25zKTtcbiAgfSxcbiAgcmVwb3J0RnJhbWVFcnJvcnMoY29uZmlnczogQ3VzdG9tUmVwb3J0T3B0aW9ucywgZXJyb3I6IEVycm9yKSB7XG4gICAgRnJhbWVFcnJvcnMuaGFuZGxlRXJyb3JzKGNvbmZpZ3MsIGVycm9yKTtcbiAgfSxcbiAgdmFsaWRhdGVUYWdzKGN1c3RvbVRhZ3M/OiBUYWdPcHRpb25bXSkge1xuICAgIGlmICghY3VzdG9tVGFncykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY3VzdG9tVGFncykpIHtcbiAgICAgIHRoaXMuY3VzdG9tT3B0aW9ucy5jdXN0b21UYWdzID0gdW5kZWZpbmVkO1xuICAgICAgY29uc29sZS5lcnJvcignY3VzdG9tVGFncyBlcnJvcicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgaXNUYWdzID0gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IGVsZSBvZiBjdXN0b21UYWdzKSB7XG4gICAgICBpZiAoIShlbGUgJiYgZWxlLmtleSAmJiBlbGUudmFsdWUpKSB7XG4gICAgICAgIGlzVGFncyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzVGFncykge1xuICAgICAgdGhpcy5jdXN0b21PcHRpb25zLmN1c3RvbVRhZ3MgPSB1bmRlZmluZWQ7XG4gICAgICBjb25zb2xlLmVycm9yKCdjdXN0b21UYWdzIGVycm9yJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICB2YWxpZGF0ZU9wdGlvbnMoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY29sbGVjdG9yLFxuICAgICAgc2VydmljZSxcbiAgICAgIHBhZ2VQYXRoLFxuICAgICAgc2VydmljZVZlcnNpb24sXG4gICAgICBqc0Vycm9ycyxcbiAgICAgIGFwaUVycm9ycyxcbiAgICAgIHJlc291cmNlRXJyb3JzLFxuICAgICAgYXV0b1RyYWNlUGVyZixcbiAgICAgIHVzZUZtcCxcbiAgICAgIGVuYWJsZVNQQSxcbiAgICAgIHRyYWNlU0RLSW50ZXJuYWwsXG4gICAgICBkZXRhaWxNb2RlLFxuICAgICAgbm9UcmFjZU9yaWdpbnMsXG4gICAgICB0cmFjZVRpbWVJbnRlcnZhbCxcbiAgICAgIGN1c3RvbVRhZ3MsXG4gICAgICB2dWUsXG4gICAgfSA9IHRoaXMuY3VzdG9tT3B0aW9ucztcbiAgICB0aGlzLnZhbGlkYXRlVGFncyhjdXN0b21UYWdzKTtcbiAgICBpZiAodHlwZW9mIGNvbGxlY3RvciAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuY3VzdG9tT3B0aW9ucy5jb2xsZWN0b3IgPSBsb2NhdGlvbi5vcmlnaW47XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VydmljZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuY3VzdG9tT3B0aW9ucy5zZXJ2aWNlID0gJyc7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFnZVBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmN1c3RvbU9wdGlvbnMucGFnZVBhdGggPSAnJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXJ2aWNlVmVyc2lvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuY3VzdG9tT3B0aW9ucy5zZXJ2aWNlVmVyc2lvbiA9ICcnO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGpzRXJyb3JzICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuY3VzdG9tT3B0aW9ucy5qc0Vycm9ycyA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXBpRXJyb3JzICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuY3VzdG9tT3B0aW9ucy5hcGlFcnJvcnMgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc291cmNlRXJyb3JzICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuY3VzdG9tT3B0aW9ucy5yZXNvdXJjZUVycm9ycyA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXV0b1RyYWNlUGVyZiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aGlzLmN1c3RvbU9wdGlvbnMuYXV0b1RyYWNlUGVyZiA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdXNlRm1wICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuY3VzdG9tT3B0aW9ucy51c2VGbXAgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmFibGVTUEEgIT09ICdib29sZWFuJykge1xuICAgICAgdGhpcy5jdXN0b21PcHRpb25zLmVuYWJsZVNQQSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRyYWNlU0RLSW50ZXJuYWwgIT09ICdib29sZWFuJykge1xuICAgICAgdGhpcy5jdXN0b21PcHRpb25zLnRyYWNlU0RLSW50ZXJuYWwgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkZXRhaWxNb2RlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuY3VzdG9tT3B0aW9ucy5kZXRhaWxNb2RlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkZXRhaWxNb2RlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuY3VzdG9tT3B0aW9ucy5kZXRhaWxNb2RlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG5vVHJhY2VPcmlnaW5zKSkge1xuICAgICAgdGhpcy5jdXN0b21PcHRpb25zLm5vVHJhY2VPcmlnaW5zID0gW107XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdHJhY2VUaW1lSW50ZXJ2YWwgIT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLmN1c3RvbU9wdGlvbnMudHJhY2VUaW1lSW50ZXJ2YWwgPSA2MDAwMDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2dWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuY3VzdG9tT3B0aW9ucy52dWUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9LFxuICBzZXRDdXN0b21UYWdzKHRhZ3M6IFRhZ09wdGlvbltdKSB7XG4gICAgY29uc3Qgb3B0ID0geyAuLi50aGlzLmN1c3RvbU9wdGlvbnMsIGN1c3RvbVRhZ3M6IHRhZ3MgfTtcbiAgICBpZiAodGhpcy52YWxpZGF0ZVRhZ3ModGFncykpIHtcbiAgICAgIHNldENvbmZpZyhvcHQpO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENsaWVudE1vbml0b3I7XG4iLCJcblxuaW1wb3J0IENsaWVudE1vbml0b3IgZnJvbSAnLi9tb25pdG9yJztcblxuKHdpbmRvdyBhcyBhbnkpLkNsaWVudE1vbml0b3IgPSBDbGllbnRNb25pdG9yO1xuXG5leHBvcnQgZGVmYXVsdCBDbGllbnRNb25pdG9yO1xuIl0sIm5hbWVzIjpbInV1aWQiLCJyZXBsYWNlIiwiYyIsInIiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJFcnJvcnNDYXRlZ29yeSIsIkdyYWRlVHlwZUVudW0iLCJSZXBvcnRUeXBlcyIsIlJlYWR5U3RhdHVzIiwiU3BhbkxheWVyIiwiU3BhblR5cGUiLCJ0eXBlIiwiY29sbGVjdG9yIiwidXJsIiwidGhpcyIsIkVSUk9SIiwiRVJST1JTIiwiU0VHTUVOVCIsIlNFR01FTlRTIiwiUEVSRiIsInNlbmRCeUZldGNoIiwiZGF0YSIsInNlbmRSZXF1ZXN0IiwiUmVxdWVzdCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJFcnJvciIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwic2VuZEJ5WGhyIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJsb2ciLCJzZW5kIiwic2VuZEJ5QmVhY29uIiwibmF2aWdhdG9yIiwic2VuZEJlYWNvbiIsIkJsb2IiLCJxdWV1ZXMiLCJhZGRUYXNrIiwicHVzaCIsImZpcmVUYXNrcyIsImxlbmd0aCIsImZpbmFsbHlGaXJlVGFza3MiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiaW50ZXJ2YWwiLCJwYWdlSGFzanNFcnJvciIsImxvZ0luZm8iLCJ1bmlxdWVJZCIsInNlcnZpY2UiLCJzZXJ2aWNlVmVyc2lvbiIsInBhZ2VQYXRoIiwiY2F0ZWdvcnkiLCJVTktOT1dOX0VSUk9SIiwiZ3JhZGUiLCJJTkZPIiwiZXJyb3JVcmwiLCJsaW5lIiwiY29sIiwibWVzc2FnZSIsImZpcnN0UmVwb3J0ZWRFcnJvciIsInRyYWNlSW5mbyIsIkV4Y2x1ZGVFcnJvclR5cGVzIiwiQUpBWF9FUlJPUiIsIlJFU09VUkNFX0VSUk9SIiwibG9jYXRpb24iLCJocmVmIiwiaW5jbHVkZXMiLCJzZXRJbnRlcnZhbCIsImluZm9PcHQiLCJoYW5kbGVFcnJvcnMiLCJvcHRpb25zIiwib25lcnJvciIsIkpTX0VSUk9SIiwic3RhY2siLCJzZXRPcHRpb25zIiwib3B0IiwiZXZlbnQiLCJyZWFzb24iLCJjb25maWciLCJQUk9NSVNFX0VSUk9SIiwiaGFuZGxlRXJyb3IiLCJkZXRhaWwiLCJnZXRSZXF1ZXN0Q29uZmlnIiwic3RhdHVzVGV4dCIsInJlc3BvbnNlVGV4dCIsInRhcmdldCIsIkhUTUxTY3JpcHRFbGVtZW50IiwiSFRNTExpbmtFbGVtZW50IiwiSFRNTEltYWdlRWxlbWVudCIsInRhZ05hbWUiLCJXQVJOSU5HIiwic3JjIiwiVnVlIiwiZXJyb3JIYW5kbGVyIiwidm0iLCJpbmZvIiwiVlVFX0VSUk9SIiwibmFtZSIsIm9yaWdpbiIsImdldFBlcmZUaW1pbmciLCJ0aW1pbmciLCJwZXJmb3JtYW5jZSIsIlBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZyIsIm50MlRpbWluZyIsImdldEVudHJpZXNCeVR5cGUiLCJyZWRpcmVjdFRpbWUiLCJ1bmRlZmluZWQiLCJuYXZpZ2F0aW9uU3RhcnQiLCJwYXJzZUludCIsIlN0cmluZyIsImZldGNoU3RhcnQiLCJyZWRpcmVjdEVuZCIsInJlZGlyZWN0U3RhcnQiLCJkbnNUaW1lIiwiZG9tYWluTG9va3VwRW5kIiwiZG9tYWluTG9va3VwU3RhcnQiLCJ0dGZiVGltZSIsInJlc3BvbnNlU3RhcnQiLCJyZXF1ZXN0U3RhcnQiLCJ0Y3BUaW1lIiwiY29ubmVjdEVuZCIsImNvbm5lY3RTdGFydCIsInRyYW5zVGltZSIsInJlc3BvbnNlRW5kIiwiZG9tQW5hbHlzaXNUaW1lIiwiZG9tSW50ZXJhY3RpdmUiLCJmcHRUaW1lIiwiZG9tUmVhZHlUaW1lIiwiZG9tQ29udGVudExvYWRlZEV2ZW50RW5kIiwibG9hZFBhZ2VUaW1lIiwibG9hZEV2ZW50U3RhcnQiLCJyZXNUaW1lIiwic3NsVGltZSIsInByb3RvY29sIiwic2VjdXJlQ29ubmVjdGlvblN0YXJ0IiwidHRsVGltZSIsImZpcnN0UGFja1RpbWUiLCJmbXBUaW1lIiwiZSIsIkVMRV9XRUlHSFQiLCJnZXRTdHlsZSIsImVsZW1lbnQiLCJhdHRyIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImN1cnJlbnRTdHlsZSIsIlNUQVJUX1RJTUUiLCJub3ciLCJJR05PUkVfVEFHX1NFVCIsIldXIiwiaW5uZXJXaWR0aCIsIldIIiwiaW5uZXJIZWlnaHQiLCJzdGF0dXNDb2xsZWN0b3IiLCJmbGFnIiwib2JzZXJ2ZXIiLCJjYWxsYmFja0NvdW50IiwiZW50cmllcyIsImdldEVudHJpZXMiLCJpbml0T2JzZXJ2ZXIiLCJnZXRGaXJzdFNuYXBTaG90IiwidGltZSIsIiRib2R5IiwiZG9jdW1lbnQiLCJzZXRUYWciLCJNdXRhdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJjYWxjdWxhdGVGaW5hbFNjb3JlIiwiY2hlY2tOZWVkQ2FuY2VsIiwiZGlzY29ubmVjdCIsInRwIiwiZ2V0VHJlZVNjb3JlIiwiZHBzcyIsIml0ZW0iLCJzdCIsImZvckVhY2giLCJyZXN1bHRFbHMiLCJmaWx0ZXJSZXN1bHQiLCJlbHMiLCJmbXBUaW1pbmciLCJnZXRGbXBUaW1lIiwic2V0VGltZW91dCIsInJ0Iiwid2VpZ2h0IiwiaW5kZXgiLCJlbGUiLCJnZXRBdHRyaWJ1dGUiLCJtYXRjaCIsInBvc3RlciIsInN1bSIsImF2ZyIsImZpbHRlciIsInN0YXJ0IiwibGFzdENhbFRpbWUiLCJub2RlIiwiY2hpbGRyZW4iLCJjaGlsZCIsInMiLCJjYWxjYXVsdGVHcmFkZXMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsImxlZnQiLCJ0b3AiLCJpc0luVmlld1BvcnQiLCJzZHAiLCJOdW1iZXIiLCJJTUciLCJyb290IiwiYXJlYVBlcmNlbnQiLCJjYWxjdWxhdGVBcmVhUGFyZW50IiwiY29uY2F0IiwicmlnaHQiLCJib3R0b20iLCJ3aW5SaWdodCIsIndpbkJvdHRvbSIsIm92ZXJsYXBYIiwibWF4IiwibWluIiwib3ZlcmxhcFkiLCJpbmRleE9mIiwiJGNoaWxkcmVuIiwiaSIsIiRjaGlsZCIsInNldEF0dHJpYnV0ZSIsInBlcmZDb25maWciLCJwZXJmRGV0YWlsIiwiZ2V0UGVyZiIsInJlY29yZFBlcmYiLCJlbmFibGVTUEEiLCJmbXAiLCJhdXRvVHJhY2VQZXJmIiwidXNlRm1wIiwicGVyZkluZm8iLCJjbGVhclBlcmYiLCJjbGVhclJlc291cmNlVGltaW5ncyIsIl9oYXNCdWZmZXIiLCJCdWZmZXIiLCJfVEUiLCJUZXh0RGVjb2RlciIsIlRleHRFbmNvZGVyIiwiYjY0Y2hzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJfZnJvbUNDIiwiYSIsInRhYiIsImZyb21DaGFyQ29kZSIsImJpbmQiLCJfbWtVcmlTYWZlIiwiVWludDhBcnJheSIsImZyb20iLCJtMCIsIl9idG9hIiwiYnRvYSIsImJpbiIsInUzMiIsImMwIiwiYzEiLCJjMiIsImFzYyIsInBhZCIsImNoYXJDb2RlQXQiLCJUeXBlRXJyb3IiLCJzdWJzdHJpbmciLCJfZnJvbVVpbnQ4QXJyYXkiLCJ1OGEiLCJzdHJzIiwibCIsImFwcGx5Iiwic3ViYXJyYXkiLCJqb2luIiwiY2JfdXRvYiIsImNjIiwicmVfdXRvYiIsIl9lbmNvZGUiLCJlbmNvZGUiLCJ1cmxzYWZlIiwiY3VzdG9tQ29uZmlnIiwieGhySW50ZXJjZXB0b3IiLCJzZWdtZW50cyIsIm9yaWdpbmFsWEhSIiwieGhyU2VuZCIsInhock9wZW4iLCJsaXZlWEhSIiwiYWpheEV2ZW50VHJpZ2dlciIsImFzeW5jIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImFyZ3VtZW50cyIsInNlZ0NvbGxlY3RvciIsImxvZ2luVXNlciIsInNlZ21lbnQiLCJ0cmFjZUlkIiwic3BhbnMiLCJzZXJ2aWNlSW5zdGFuY2UiLCJ0cmFjZVNlZ21lbnRJZCIsInhoclN0YXRlIiwic3RhcnRzV2l0aCIsIlVSTCIsInBhdGhuYW1lIiwibm9UcmFjZU9yaWdpbnMiLCJzb21lIiwicnVsZSIsIlJlZ0V4cCIsInRlc3QiLCJjVVJMIiwidHJhY2VTREtJbnRlcm5hbCIsIk9QRU5FRCIsInN0YXJ0VGltZSIsIkRhdGUiLCJnZXRUaW1lIiwidHJhY2VJZFN0ciIsInNlZ21lbnRJZCIsImluc3RhbmNlIiwiZW5kcG9pbnQiLCJwZWVyIiwiaG9zdCIsIm5ld0xvZ2luVXNlciIsInZhbHVlcyIsIkRPTkUiLCJlbmRUaW1lIiwicmVzcG9uc2VVUkwiLCJ0YWdzIiwia2V5IiwidmFsdWUiLCJleGl0U3BhbiIsIm9wZXJhdGlvbk5hbWUiLCJzcGFuSWQiLCJzcGFuTGF5ZXIiLCJzcGFuVHlwZSIsImlzRXJyb3IiLCJwYXJlbnRTcGFuSWQiLCJjb21wb25lbnRJZCIsImRldGFpbE1vZGUiLCJjdXN0b21UYWdzIiwic3BsaWNlIiwiYWpheEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50Iiwic2V0RmV0Y2hPcHRpb25zIiwidHJhY2VTZWdtZW50Iiwib3JpZ2luRmV0Y2giLCJjdXN0b21GZXRjaCIsInJhd1dpbmRvdyIsIl9fTUlDUk9fQVBQX0JBU0VfV0lORE9XX18iLCJnbG9iYWxUaGlzIiwid3JhcHBlZEZldGNoIiwiT2JqZWN0IiwiYXJncyIsImludGVybmFscyIsImlzU0RLSW50ZXJuYWwiLCJoYXNUcmFjZSIsImhlYWRlcnMiLCJzdzgiLCJjbG9uZSIsIndpbmRvd0ZldGNoIiwidHJhY2VUaW1lSW50ZXJ2YWwiLCJzZXRDb25maWciLCJjdXN0b21PcHRpb25zIiwianNFcnJvcnMiLCJhcGlFcnJvcnMiLCJyZXNvdXJjZUVycm9ycyIsInJlZ2lzdGVyIiwiY29uZmlncyIsInZhbGlkYXRlT3B0aW9ucyIsImNhdGNoRXJyb3JzIiwidnVlIiwic2V0UGVyZm9ybWFuY2UiLCJyZXBvcnRGcmFtZUVycm9ycyIsInZhbGlkYXRlVGFncyIsImlzQXJyYXkiLCJpc1RhZ3MiLCJzZXRDdXN0b21UYWdzIiwiQ2xpZW50TW9uaXRvciJdLCJzb3VyY2VSb290IjoiIn0=